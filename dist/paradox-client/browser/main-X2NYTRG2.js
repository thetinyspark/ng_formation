var zA=Object.create;var Ro=Object.defineProperty,GA=Object.defineProperties,qA=Object.getOwnPropertyDescriptor,YA=Object.getOwnPropertyDescriptors,WA=Object.getOwnPropertyNames,rl=Object.getOwnPropertySymbols,QA=Object.getPrototypeOf,tf=Object.prototype.hasOwnProperty,T1=Object.prototype.propertyIsEnumerable;var M1=(t,e,n)=>e in t?Ro(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||={})tf.call(e,n)&&M1(t,n,e[n]);if(rl)for(var n of rl(e))T1.call(e,n)&&M1(t,n,e[n]);return t},De=(t,e)=>GA(t,YA(e));var S1=(t,e)=>{var n={};for(var r in t)tf.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&rl)for(var r of rl(t))e.indexOf(r)<0&&T1.call(t,r)&&(n[r]=t[r]);return n};var bn=(t,e)=>()=>(t&&(e=t(t=0)),e);var D=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),In=(t,e)=>{for(var n in e)Ro(t,n,{get:e[n],enumerable:!0})},A1=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of WA(e))!tf.call(t,i)&&i!==n&&Ro(t,i,{get:()=>e[i],enumerable:!(r=qA(e,i))||r.enumerable});return t};var He=(t,e,n)=>(n=t!=null?zA(QA(t)):{},A1(e||!t||!t.__esModule?Ro(n,"default",{value:t,enumerable:!0}):n,t)),il=t=>A1(Ro({},"__esModule",{value:!0}),t);var F=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())});var Pm=D(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});var D3=function(){function t(e,n,r){this._type=e,this._emitter=n,this._payload=r}return t.prototype.getEventType=function(){return this._type},t.prototype.getEmitter=function(){return this._emitter},t.prototype.getPayload=function(){return this._payload},t}();Om.default=D3});var _b=D(Nm=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});var x3=Pm(),b3=function(){function t(){this._observers=new Map}return t.prototype.emit=function(e,n,r){var i=this;r===void 0&&(r=!1);var s=this._observers.get(e)||[],o=new x3.default(e,this,n),a=s.map(function(l){var c=null;if(l.limit>0||l.infinite?(l.limit--,c=l.func(o)):i.unsubscribe(e,l.func),r)return Promise.resolve(c)});return Promise.all(a)},t.prototype.hasObservers=function(e){return this._observers.get(e)!==void 0},t.prototype.unsubscribe=function(e,n){if(this.isObserver(e,n)){var r=this._observers.get(e)||[],i=r.map(function(s){return s.func}).indexOf(n);r.splice(i,1),r.length===0&&this._observers.set(e,void 0)}},t.prototype.isObserver=function(e,n){var r=this._observers.get(e)||[];return r.map(function(i){return i.func}).indexOf(n)>-1},t.prototype.subscribe=function(e,n,r){if(r===void 0&&(r=-1),this.isObserver(e,n))return!1;var i=this._observers.get(e)||[];return i.push({func:n,limit:r,infinite:r<0}),this._observers.set(e,i),!0},t.prototype.unsubscribeAll=function(){this._observers=new Map},t}();Nm.default=b3});var yr=D(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.Notification=eo.Emitter=void 0;var I3=_b();eo.Emitter=I3.default;var M3=Pm();eo.Notification=M3.default});var vb=D(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.BLOB_TYPE=ke.JSON_TYPE=ke.SOUND_TYPE=ke.VIDEO_TYPE=ke.IMAGE_TYPE=ke.LOAD_SUCCESS=ke.LOAD_ERROR=void 0;var T3=yr(),Fm=class t extends T3.Emitter{constructor(){super(),this.uris=new Map,this._errorHandler=e=>{this.emit(ke.LOAD_ERROR,e)},this.data=new Map,this.list=[]}getAll(){return this.data}queue(e,n=ke.JSON_TYPE,r){this.list.push({uri:e,type:n,alias:r})}getQueue(){return this.list}freeQueue(){this.list=[]}loadQueue(){return Promise.all(this.list.map(e=>this.load(e.uri,e.type,e.alias))).then(e=>(this.freeQueue(),e))}getUris(){let e={};return this.uris.forEach((n,r)=>{e[r]=n}),e}getUri(e){return this.uris.get(e)}get(e){return this.data.get(e)}load(e,n=ke.JSON_TYPE,r){return this._loadBlob(e).then(i=>{switch(n){case ke.IMAGE_TYPE:return t.blobToImage(i).catch(this._errorHandler);case ke.JSON_TYPE:return t.blobToJSON(i).catch(this._errorHandler);case ke.VIDEO_TYPE:return t.blobToVideo(i).catch(this._errorHandler);case ke.SOUND_TYPE:return t.blobToSound(i).catch(this._errorHandler);default:return i}}).then(i=>(this.set(i,r,e),this.emit(ke.LOAD_SUCCESS,i),i))}set(e,n,r=""){this.uris.set(n,r),this.data.set(n,e)}delete(e){return this.getAll().delete(e)}destroy(){this.getAll().clear()}_loadBlob(e){return fetch(e).then(n=>{if(n.status===200)return n.blob();this._errorHandler(n.statusText)}).catch(this._errorHandler)}static blobToSound(e){return new Promise((n,r)=>{let i=document.createElement("audio"),s=URL.createObjectURL(e),o=l=>{i.removeEventListener("loadeddata",o),i.removeEventListener("error",a),n(i)},a=l=>{i.removeEventListener("loadeddata",o),i.removeEventListener("error",a),r("unable to load audio from source")};i.addEventListener("loadeddata",o),i.addEventListener("error",a),i.src=s,i.load()})}static blobToJSON(e){return new Promise(n=>{let r=new FileReader;r.addEventListener("load",()=>{n(JSON.parse(r.result.toString()))}),r.readAsText(e,"utf8")})}static blobToImage(e){return new Promise((n,r)=>{let i=new Image,s=l=>{i.removeEventListener("load",o),i.removeEventListener("error",s),r("unable to load image from source")},o=l=>{i.removeEventListener("load",o),i.removeEventListener("error",s),n(i)};i.addEventListener("load",o),i.addEventListener("error",s);let a=URL.createObjectURL(e);i.src=a})}static blobToVideo(e){return new Promise((n,r)=>{let i=document.createElement("video"),s=URL.createObjectURL(e),o=l=>{i.removeEventListener("loadeddata",o),i.removeEventListener("error",a),n(i)},a=l=>{i.removeEventListener("loadeddata",o),i.removeEventListener("error",a),r("unable to load video from source")};i.addEventListener("loadeddata",o),i.addEventListener("error",a),i.src=s,i.load()})}};ke.default=Fm;ke.LOAD_ERROR="LOAD_ERROR";ke.LOAD_SUCCESS="LOAD_SUCCESS";ke.IMAGE_TYPE="IMAGE_TYPE";ke.VIDEO_TYPE="VIDEO_TYPE";ke.SOUND_TYPE="SOUND_TYPE";ke.JSON_TYPE="JSON_TYPE";ke.BLOB_TYPE="BLOB_TYPE"});var yb=D(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.VIDEO_TYPE=lt.SOUND_TYPE=lt.LOAD_SUCCESS=lt.LOAD_ERROR=lt.JSON_TYPE=lt.IMAGE_TYPE=lt.BLOB_TYPE=lt.AssetsManager=void 0;var Kr=vb();lt.AssetsManager=Kr.default;Object.defineProperty(lt,"BLOB_TYPE",{enumerable:!0,get:function(){return Kr.BLOB_TYPE}});Object.defineProperty(lt,"IMAGE_TYPE",{enumerable:!0,get:function(){return Kr.IMAGE_TYPE}});Object.defineProperty(lt,"JSON_TYPE",{enumerable:!0,get:function(){return Kr.JSON_TYPE}});Object.defineProperty(lt,"LOAD_ERROR",{enumerable:!0,get:function(){return Kr.LOAD_ERROR}});Object.defineProperty(lt,"LOAD_SUCCESS",{enumerable:!0,get:function(){return Kr.LOAD_SUCCESS}});Object.defineProperty(lt,"SOUND_TYPE",{enumerable:!0,get:function(){return Kr.SOUND_TYPE}});Object.defineProperty(lt,"VIDEO_TYPE",{enumerable:!0,get:function(){return Kr.VIDEO_TYPE}})});var mn={};In(mn,{ARRAY_TYPE:()=>ee,EPSILON:()=>k,RANDOM:()=>At,equals:()=>O3,setMatrixArrayType:()=>S3,toRadian:()=>R3});function S3(t){ee=t}function R3(t){return t*A3}function O3(t,e){return Math.abs(t-e)<=k*Math.max(1,Math.abs(t),Math.abs(e))}var k,ee,At,A3,Vn=bn(()=>{"use strict";k=1e-6,ee=typeof Float32Array<"u"?Float32Array:Array,At=Math.random;A3=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})});var Lm={};In(Lm,{LDU:()=>Q3,add:()=>Z3,adjoint:()=>U3,clone:()=>N3,copy:()=>F3,create:()=>P3,determinant:()=>H3,equals:()=>K3,exactEquals:()=>X3,frob:()=>W3,fromRotation:()=>G3,fromScaling:()=>q3,fromValues:()=>k3,identity:()=>L3,invert:()=>B3,mul:()=>tj,multiply:()=>Cb,multiplyScalar:()=>J3,multiplyScalarAndAdd:()=>ej,rotate:()=>$3,scale:()=>z3,set:()=>V3,str:()=>Y3,sub:()=>nj,subtract:()=>Eb,transpose:()=>j3});function P3(){var t=new ee(4);return ee!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function N3(t){var e=new ee(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function F3(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function L3(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function k3(t,e,n,r){var i=new ee(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function V3(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function j3(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function B3(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=n*s-i*r;return o?(o=1/o,t[0]=s*o,t[1]=-r*o,t[2]=-i*o,t[3]=n*o,t):null}function U3(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function H3(t){return t[0]*t[3]-t[2]*t[1]}function Cb(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=n[0],l=n[1],c=n[2],u=n[3];return t[0]=r*a+s*l,t[1]=i*a+o*l,t[2]=r*c+s*u,t[3]=i*c+o*u,t}function $3(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=r*l+s*a,t[1]=i*l+o*a,t[2]=r*-a+s*l,t[3]=i*-a+o*l,t}function z3(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=n[0],l=n[1];return t[0]=r*a,t[1]=i*a,t[2]=s*l,t[3]=o*l,t}function G3(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function q3(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function Y3(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function W3(t){return Math.hypot(t[0],t[1],t[2],t[3])}function Q3(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function Z3(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function Eb(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function X3(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function K3(t,e){var n=t[0],r=t[1],i=t[2],s=t[3],o=e[0],a=e[1],l=e[2],c=e[3];return Math.abs(n-o)<=k*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=k*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-l)<=k*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-c)<=k*Math.max(1,Math.abs(s),Math.abs(c))}function J3(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function ej(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}var tj,nj,wb=bn(()=>{"use strict";Vn();tj=Cb,nj=Eb});var km={};In(km,{add:()=>yj,clone:()=>ij,copy:()=>sj,create:()=>rj,determinant:()=>uj,equals:()=>Dj,exactEquals:()=>wj,frob:()=>vj,fromRotation:()=>pj,fromScaling:()=>mj,fromTranslation:()=>gj,fromValues:()=>aj,identity:()=>oj,invert:()=>cj,mul:()=>xj,multiply:()=>Db,multiplyScalar:()=>Cj,multiplyScalarAndAdd:()=>Ej,rotate:()=>dj,scale:()=>fj,set:()=>lj,str:()=>_j,sub:()=>bj,subtract:()=>xb,translate:()=>hj});function rj(){var t=new ee(6);return ee!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function ij(t){var e=new ee(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function sj(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function oj(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function aj(t,e,n,r,i,s){var o=new ee(6);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o[4]=i,o[5]=s,o}function lj(t,e,n,r,i,s,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t}function cj(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=n*s-r*i;return l?(l=1/l,t[0]=s*l,t[1]=-r*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*a-s*o)*l,t[5]=(r*o-n*a)*l,t):null}function uj(t){return t[0]*t[3]-t[1]*t[2]}function Db(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=n[0],u=n[1],d=n[2],f=n[3],h=n[4],m=n[5];return t[0]=r*c+s*u,t[1]=i*c+o*u,t[2]=r*d+s*f,t[3]=i*d+o*f,t[4]=r*h+s*m+a,t[5]=i*h+o*m+l,t}function dj(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=Math.sin(n),u=Math.cos(n);return t[0]=r*u+s*c,t[1]=i*u+o*c,t[2]=r*-c+s*u,t[3]=i*-c+o*u,t[4]=a,t[5]=l,t}function fj(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=n[0],u=n[1];return t[0]=r*c,t[1]=i*c,t[2]=s*u,t[3]=o*u,t[4]=a,t[5]=l,t}function hj(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=n[0],u=n[1];return t[0]=r,t[1]=i,t[2]=s,t[3]=o,t[4]=r*c+s*u+a,t[5]=i*c+o*u+l,t}function pj(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function mj(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function gj(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function _j(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function vj(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function yj(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function xb(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function Cj(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function Ej(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function wj(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function Dj(t,e){var n=t[0],r=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=e[0],c=e[1],u=e[2],d=e[3],f=e[4],h=e[5];return Math.abs(n-l)<=k*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-c)<=k*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-u)<=k*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(s-d)<=k*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(o-f)<=k*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-h)<=k*Math.max(1,Math.abs(a),Math.abs(h))}var xj,bj,bb=bn(()=>{"use strict";Vn();xj=Db,bj=xb});var wu={};In(wu,{add:()=>Wj,adjoint:()=>Nj,clone:()=>Mj,copy:()=>Tj,create:()=>Vm,determinant:()=>Fj,equals:()=>Kj,exactEquals:()=>Xj,frob:()=>Yj,fromMat2d:()=>Hj,fromMat4:()=>Ij,fromQuat:()=>$j,fromRotation:()=>Bj,fromScaling:()=>Uj,fromTranslation:()=>jj,fromValues:()=>Sj,identity:()=>Rj,invert:()=>Pj,mul:()=>Jj,multiply:()=>Ib,multiplyScalar:()=>Qj,multiplyScalarAndAdd:()=>Zj,normalFromMat4:()=>zj,projection:()=>Gj,rotate:()=>kj,scale:()=>Vj,set:()=>Aj,str:()=>qj,sub:()=>eB,subtract:()=>Mb,translate:()=>Lj,transpose:()=>Oj});function Vm(){var t=new ee(9);return ee!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Ij(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Mj(t){var e=new ee(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Tj(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Sj(t,e,n,r,i,s,o,a,l){var c=new ee(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=s,c[6]=o,c[7]=a,c[8]=l,c}function Aj(t,e,n,r,i,s,o,a,l,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=c,t}function Rj(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Oj(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function Pj(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,f=-u*s+a*l,h=c*s-o*l,m=n*d+r*f+i*h;return m?(m=1/m,t[0]=d*m,t[1]=(-u*r+i*c)*m,t[2]=(a*r-i*o)*m,t[3]=f*m,t[4]=(u*n-i*l)*m,t[5]=(-a*n+i*s)*m,t[6]=h*m,t[7]=(-c*n+r*l)*m,t[8]=(o*n-r*s)*m,t):null}function Nj(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t[0]=o*u-a*c,t[1]=i*c-r*u,t[2]=r*a-i*o,t[3]=a*l-s*u,t[4]=n*u-i*l,t[5]=i*s-n*a,t[6]=s*c-o*l,t[7]=r*l-n*c,t[8]=n*o-r*s,t}function Fj(t){var e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8];return e*(c*s-o*l)+n*(-c*i+o*a)+r*(l*i-s*a)}function Ib(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=n[0],h=n[1],m=n[2],p=n[3],g=n[4],_=n[5],v=n[6],C=n[7],y=n[8];return t[0]=f*r+h*o+m*c,t[1]=f*i+h*a+m*u,t[2]=f*s+h*l+m*d,t[3]=p*r+g*o+_*c,t[4]=p*i+g*a+_*u,t[5]=p*s+g*l+_*d,t[6]=v*r+C*o+y*c,t[7]=v*i+C*a+y*u,t[8]=v*s+C*l+y*d,t}function Lj(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=n[0],h=n[1];return t[0]=r,t[1]=i,t[2]=s,t[3]=o,t[4]=a,t[5]=l,t[6]=f*r+h*o+c,t[7]=f*i+h*a+u,t[8]=f*s+h*l+d,t}function kj(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=Math.sin(n),h=Math.cos(n);return t[0]=h*r+f*o,t[1]=h*i+f*a,t[2]=h*s+f*l,t[3]=h*o-f*r,t[4]=h*a-f*i,t[5]=h*l-f*s,t[6]=c,t[7]=u,t[8]=d,t}function Vj(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function jj(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Bj(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Uj(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Hj(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function $j(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=n+n,a=r+r,l=i+i,c=n*o,u=r*o,d=r*a,f=i*o,h=i*a,m=i*l,p=s*o,g=s*a,_=s*l;return t[0]=1-d-m,t[3]=u-_,t[6]=f+g,t[1]=u+_,t[4]=1-c-m,t[7]=h-p,t[2]=f-g,t[5]=h+p,t[8]=1-c-d,t}function zj(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],m=e[12],p=e[13],g=e[14],_=e[15],v=n*a-r*o,C=n*l-i*o,y=n*c-s*o,E=r*l-i*a,b=r*c-s*a,A=i*c-s*l,O=u*p-d*m,S=u*g-f*m,U=u*_-h*m,te=d*g-f*p,Z=d*_-h*p,K=f*_-h*g,B=v*K-C*Z+y*te+E*U-b*S+A*O;return B?(B=1/B,t[0]=(a*K-l*Z+c*te)*B,t[1]=(l*U-o*K-c*S)*B,t[2]=(o*Z-a*U+c*O)*B,t[3]=(i*Z-r*K-s*te)*B,t[4]=(n*K-i*U+s*S)*B,t[5]=(r*U-n*Z-s*O)*B,t[6]=(p*A-g*b+_*E)*B,t[7]=(g*y-m*A-_*C)*B,t[8]=(m*b-p*y+_*v)*B,t):null}function Gj(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function qj(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Yj(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Wj(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function Mb(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Qj(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function Zj(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function Xj(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Kj(t,e){var n=t[0],r=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=e[0],f=e[1],h=e[2],m=e[3],p=e[4],g=e[5],_=e[6],v=e[7],C=e[8];return Math.abs(n-d)<=k*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-f)<=k*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-h)<=k*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(s-m)<=k*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(o-p)<=k*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=k*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(l-_)<=k*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(c-v)<=k*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(u-C)<=k*Math.max(1,Math.abs(u),Math.abs(C))}var Jj,eB,jm=bn(()=>{"use strict";Vn();Jj=Ib,eB=Mb});var Du={};In(Du,{add:()=>LB,adjoint:()=>lB,clone:()=>nB,copy:()=>rB,create:()=>tB,determinant:()=>cB,equals:()=>BB,exactEquals:()=>jB,frob:()=>FB,fromQuat:()=>bB,fromQuat2:()=>wB,fromRotation:()=>vB,fromRotationTranslation:()=>Ab,fromRotationTranslationScale:()=>DB,fromRotationTranslationScaleOrigin:()=>xB,fromScaling:()=>_B,fromTranslation:()=>gB,fromValues:()=>iB,fromXRotation:()=>yB,fromYRotation:()=>CB,fromZRotation:()=>EB,frustum:()=>IB,getRotation:()=>Um,getScaling:()=>Rb,getTranslation:()=>Bm,identity:()=>Tb,invert:()=>aB,lookAt:()=>OB,mul:()=>UB,multiply:()=>Sb,multiplyScalar:()=>kB,multiplyScalarAndAdd:()=>VB,ortho:()=>AB,orthoNO:()=>Pb,orthoZO:()=>RB,perspective:()=>MB,perspectiveFromFieldOfView:()=>SB,perspectiveNO:()=>Ob,perspectiveZO:()=>TB,rotate:()=>fB,rotateX:()=>hB,rotateY:()=>pB,rotateZ:()=>mB,scale:()=>dB,set:()=>sB,str:()=>NB,sub:()=>HB,subtract:()=>Nb,targetTo:()=>PB,translate:()=>uB,transpose:()=>oB});function tB(){var t=new ee(16);return ee!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function nB(t){var e=new ee(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function rB(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function iB(t,e,n,r,i,s,o,a,l,c,u,d,f,h,m,p){var g=new ee(16);return g[0]=t,g[1]=e,g[2]=n,g[3]=r,g[4]=i,g[5]=s,g[6]=o,g[7]=a,g[8]=l,g[9]=c,g[10]=u,g[11]=d,g[12]=f,g[13]=h,g[14]=m,g[15]=p,g}function sB(t,e,n,r,i,s,o,a,l,c,u,d,f,h,m,p,g){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=c,t[9]=u,t[10]=d,t[11]=f,t[12]=h,t[13]=m,t[14]=p,t[15]=g,t}function Tb(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function oB(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],s=e[6],o=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=s,t[11]=e[14],t[12]=i,t[13]=o,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function aB(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],m=e[12],p=e[13],g=e[14],_=e[15],v=n*a-r*o,C=n*l-i*o,y=n*c-s*o,E=r*l-i*a,b=r*c-s*a,A=i*c-s*l,O=u*p-d*m,S=u*g-f*m,U=u*_-h*m,te=d*g-f*p,Z=d*_-h*p,K=f*_-h*g,B=v*K-C*Z+y*te+E*U-b*S+A*O;return B?(B=1/B,t[0]=(a*K-l*Z+c*te)*B,t[1]=(i*Z-r*K-s*te)*B,t[2]=(p*A-g*b+_*E)*B,t[3]=(f*b-d*A-h*E)*B,t[4]=(l*U-o*K-c*S)*B,t[5]=(n*K-i*U+s*S)*B,t[6]=(g*y-m*A-_*C)*B,t[7]=(u*A-f*y+h*C)*B,t[8]=(o*Z-a*U+c*O)*B,t[9]=(r*U-n*Z-s*O)*B,t[10]=(m*b-p*y+_*v)*B,t[11]=(d*y-u*b-h*v)*B,t[12]=(a*S-o*te-l*O)*B,t[13]=(n*te-r*S+i*O)*B,t[14]=(p*C-m*E-g*v)*B,t[15]=(u*E-d*C+f*v)*B,t):null}function lB(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],m=e[12],p=e[13],g=e[14],_=e[15];return t[0]=a*(f*_-h*g)-d*(l*_-c*g)+p*(l*h-c*f),t[1]=-(r*(f*_-h*g)-d*(i*_-s*g)+p*(i*h-s*f)),t[2]=r*(l*_-c*g)-a*(i*_-s*g)+p*(i*c-s*l),t[3]=-(r*(l*h-c*f)-a*(i*h-s*f)+d*(i*c-s*l)),t[4]=-(o*(f*_-h*g)-u*(l*_-c*g)+m*(l*h-c*f)),t[5]=n*(f*_-h*g)-u*(i*_-s*g)+m*(i*h-s*f),t[6]=-(n*(l*_-c*g)-o*(i*_-s*g)+m*(i*c-s*l)),t[7]=n*(l*h-c*f)-o*(i*h-s*f)+u*(i*c-s*l),t[8]=o*(d*_-h*p)-u*(a*_-c*p)+m*(a*h-c*d),t[9]=-(n*(d*_-h*p)-u*(r*_-s*p)+m*(r*h-s*d)),t[10]=n*(a*_-c*p)-o*(r*_-s*p)+m*(r*c-s*a),t[11]=-(n*(a*h-c*d)-o*(r*h-s*d)+u*(r*c-s*a)),t[12]=-(o*(d*g-f*p)-u*(a*g-l*p)+m*(a*f-l*d)),t[13]=n*(d*g-f*p)-u*(r*g-i*p)+m*(r*f-i*d),t[14]=-(n*(a*g-l*p)-o*(r*g-i*p)+m*(r*l-i*a)),t[15]=n*(a*f-l*d)-o*(r*f-i*d)+u*(r*l-i*a),t}function cB(t){var e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11],h=t[12],m=t[13],p=t[14],g=t[15],_=e*o-n*s,v=e*a-r*s,C=e*l-i*s,y=n*a-r*o,E=n*l-i*o,b=r*l-i*a,A=c*m-u*h,O=c*p-d*h,S=c*g-f*h,U=u*p-d*m,te=u*g-f*m,Z=d*g-f*p;return _*Z-v*te+C*U+y*S-E*O+b*A}function Sb(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=e[9],h=e[10],m=e[11],p=e[12],g=e[13],_=e[14],v=e[15],C=n[0],y=n[1],E=n[2],b=n[3];return t[0]=C*r+y*a+E*d+b*p,t[1]=C*i+y*l+E*f+b*g,t[2]=C*s+y*c+E*h+b*_,t[3]=C*o+y*u+E*m+b*v,C=n[4],y=n[5],E=n[6],b=n[7],t[4]=C*r+y*a+E*d+b*p,t[5]=C*i+y*l+E*f+b*g,t[6]=C*s+y*c+E*h+b*_,t[7]=C*o+y*u+E*m+b*v,C=n[8],y=n[9],E=n[10],b=n[11],t[8]=C*r+y*a+E*d+b*p,t[9]=C*i+y*l+E*f+b*g,t[10]=C*s+y*c+E*h+b*_,t[11]=C*o+y*u+E*m+b*v,C=n[12],y=n[13],E=n[14],b=n[15],t[12]=C*r+y*a+E*d+b*p,t[13]=C*i+y*l+E*f+b*g,t[14]=C*s+y*c+E*h+b*_,t[15]=C*o+y*u+E*m+b*v,t}function uB(t,e,n){var r=n[0],i=n[1],s=n[2],o,a,l,c,u,d,f,h,m,p,g,_;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*s+e[12],t[13]=e[1]*r+e[5]*i+e[9]*s+e[13],t[14]=e[2]*r+e[6]*i+e[10]*s+e[14],t[15]=e[3]*r+e[7]*i+e[11]*s+e[15]):(o=e[0],a=e[1],l=e[2],c=e[3],u=e[4],d=e[5],f=e[6],h=e[7],m=e[8],p=e[9],g=e[10],_=e[11],t[0]=o,t[1]=a,t[2]=l,t[3]=c,t[4]=u,t[5]=d,t[6]=f,t[7]=h,t[8]=m,t[9]=p,t[10]=g,t[11]=_,t[12]=o*r+u*i+m*s+e[12],t[13]=a*r+d*i+p*s+e[13],t[14]=l*r+f*i+g*s+e[14],t[15]=c*r+h*i+_*s+e[15]),t}function dB(t,e,n){var r=n[0],i=n[1],s=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function fB(t,e,n,r){var i=r[0],s=r[1],o=r[2],a=Math.hypot(i,s,o),l,c,u,d,f,h,m,p,g,_,v,C,y,E,b,A,O,S,U,te,Z,K,B,ye;return a<k?null:(a=1/a,i*=a,s*=a,o*=a,l=Math.sin(n),c=Math.cos(n),u=1-c,d=e[0],f=e[1],h=e[2],m=e[3],p=e[4],g=e[5],_=e[6],v=e[7],C=e[8],y=e[9],E=e[10],b=e[11],A=i*i*u+c,O=s*i*u+o*l,S=o*i*u-s*l,U=i*s*u-o*l,te=s*s*u+c,Z=o*s*u+i*l,K=i*o*u+s*l,B=s*o*u-i*l,ye=o*o*u+c,t[0]=d*A+p*O+C*S,t[1]=f*A+g*O+y*S,t[2]=h*A+_*O+E*S,t[3]=m*A+v*O+b*S,t[4]=d*U+p*te+C*Z,t[5]=f*U+g*te+y*Z,t[6]=h*U+_*te+E*Z,t[7]=m*U+v*te+b*Z,t[8]=d*K+p*B+C*ye,t[9]=f*K+g*B+y*ye,t[10]=h*K+_*B+E*ye,t[11]=m*K+v*B+b*ye,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function hB(t,e,n){var r=Math.sin(n),i=Math.cos(n),s=e[4],o=e[5],a=e[6],l=e[7],c=e[8],u=e[9],d=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*i+c*r,t[5]=o*i+u*r,t[6]=a*i+d*r,t[7]=l*i+f*r,t[8]=c*i-s*r,t[9]=u*i-o*r,t[10]=d*i-a*r,t[11]=f*i-l*r,t}function pB(t,e,n){var r=Math.sin(n),i=Math.cos(n),s=e[0],o=e[1],a=e[2],l=e[3],c=e[8],u=e[9],d=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i-c*r,t[1]=o*i-u*r,t[2]=a*i-d*r,t[3]=l*i-f*r,t[8]=s*r+c*i,t[9]=o*r+u*i,t[10]=a*r+d*i,t[11]=l*r+f*i,t}function mB(t,e,n){var r=Math.sin(n),i=Math.cos(n),s=e[0],o=e[1],a=e[2],l=e[3],c=e[4],u=e[5],d=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i+c*r,t[1]=o*i+u*r,t[2]=a*i+d*r,t[3]=l*i+f*r,t[4]=c*i-s*r,t[5]=u*i-o*r,t[6]=d*i-a*r,t[7]=f*i-l*r,t}function gB(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function _B(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function vB(t,e,n){var r=n[0],i=n[1],s=n[2],o=Math.hypot(r,i,s),a,l,c;return o<k?null:(o=1/o,r*=o,i*=o,s*=o,a=Math.sin(e),l=Math.cos(e),c=1-l,t[0]=r*r*c+l,t[1]=i*r*c+s*a,t[2]=s*r*c-i*a,t[3]=0,t[4]=r*i*c-s*a,t[5]=i*i*c+l,t[6]=s*i*c+r*a,t[7]=0,t[8]=r*s*c+i*a,t[9]=i*s*c-r*a,t[10]=s*s*c+l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function yB(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function CB(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function EB(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ab(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=r+r,l=i+i,c=s+s,u=r*a,d=r*l,f=r*c,h=i*l,m=i*c,p=s*c,g=o*a,_=o*l,v=o*c;return t[0]=1-(h+p),t[1]=d+v,t[2]=f-_,t[3]=0,t[4]=d-v,t[5]=1-(u+p),t[6]=m+g,t[7]=0,t[8]=f+_,t[9]=m-g,t[10]=1-(u+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function wB(t,e){var n=new ee(3),r=-e[0],i=-e[1],s=-e[2],o=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=r*r+i*i+s*s+o*o;return d>0?(n[0]=(a*o+u*r+l*s-c*i)*2/d,n[1]=(l*o+u*i+c*r-a*s)*2/d,n[2]=(c*o+u*s+a*i-l*r)*2/d):(n[0]=(a*o+u*r+l*s-c*i)*2,n[1]=(l*o+u*i+c*r-a*s)*2,n[2]=(c*o+u*s+a*i-l*r)*2),Ab(t,e,n),t}function Bm(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Rb(t,e){var n=e[0],r=e[1],i=e[2],s=e[4],o=e[5],a=e[6],l=e[8],c=e[9],u=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(s,o,a),t[2]=Math.hypot(l,c,u),t}function Um(t,e){var n=new ee(3);Rb(n,e);var r=1/n[0],i=1/n[1],s=1/n[2],o=e[0]*r,a=e[1]*i,l=e[2]*s,c=e[4]*r,u=e[5]*i,d=e[6]*s,f=e[8]*r,h=e[9]*i,m=e[10]*s,p=o+u+m,g=0;return p>0?(g=Math.sqrt(p+1)*2,t[3]=.25*g,t[0]=(d-h)/g,t[1]=(f-l)/g,t[2]=(a-c)/g):o>u&&o>m?(g=Math.sqrt(1+o-u-m)*2,t[3]=(d-h)/g,t[0]=.25*g,t[1]=(a+c)/g,t[2]=(f+l)/g):u>m?(g=Math.sqrt(1+u-o-m)*2,t[3]=(f-l)/g,t[0]=(a+c)/g,t[1]=.25*g,t[2]=(d+h)/g):(g=Math.sqrt(1+m-o-u)*2,t[3]=(a-c)/g,t[0]=(f+l)/g,t[1]=(d+h)/g,t[2]=.25*g),t}function DB(t,e,n,r){var i=e[0],s=e[1],o=e[2],a=e[3],l=i+i,c=s+s,u=o+o,d=i*l,f=i*c,h=i*u,m=s*c,p=s*u,g=o*u,_=a*l,v=a*c,C=a*u,y=r[0],E=r[1],b=r[2];return t[0]=(1-(m+g))*y,t[1]=(f+C)*y,t[2]=(h-v)*y,t[3]=0,t[4]=(f-C)*E,t[5]=(1-(d+g))*E,t[6]=(p+_)*E,t[7]=0,t[8]=(h+v)*b,t[9]=(p-_)*b,t[10]=(1-(d+m))*b,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function xB(t,e,n,r,i){var s=e[0],o=e[1],a=e[2],l=e[3],c=s+s,u=o+o,d=a+a,f=s*c,h=s*u,m=s*d,p=o*u,g=o*d,_=a*d,v=l*c,C=l*u,y=l*d,E=r[0],b=r[1],A=r[2],O=i[0],S=i[1],U=i[2],te=(1-(p+_))*E,Z=(h+y)*E,K=(m-C)*E,B=(h-y)*b,ye=(1-(f+_))*b,Ae=(g+v)*b,je=(m+C)*A,Nt=(g-v)*A,_i=(1-(f+p))*A;return t[0]=te,t[1]=Z,t[2]=K,t[3]=0,t[4]=B,t[5]=ye,t[6]=Ae,t[7]=0,t[8]=je,t[9]=Nt,t[10]=_i,t[11]=0,t[12]=n[0]+O-(te*O+B*S+je*U),t[13]=n[1]+S-(Z*O+ye*S+Nt*U),t[14]=n[2]+U-(K*O+Ae*S+_i*U),t[15]=1,t}function bB(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=n+n,a=r+r,l=i+i,c=n*o,u=r*o,d=r*a,f=i*o,h=i*a,m=i*l,p=s*o,g=s*a,_=s*l;return t[0]=1-d-m,t[1]=u+_,t[2]=f-g,t[3]=0,t[4]=u-_,t[5]=1-c-m,t[6]=h+p,t[7]=0,t[8]=f+g,t[9]=h-p,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function IB(t,e,n,r,i,s,o){var a=1/(n-e),l=1/(i-r),c=1/(s-o);return t[0]=s*2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s*2*l,t[6]=0,t[7]=0,t[8]=(n+e)*a,t[9]=(i+r)*l,t[10]=(o+s)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*s*2*c,t[15]=0,t}function Ob(t,e,n,r,i){var s=1/Math.tan(e/2),o;return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}function TB(t,e,n,r,i){var s=1/Math.tan(e/2),o;return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0?(o=1/(r-i),t[10]=i*o,t[14]=i*r*o):(t[10]=-1,t[14]=-r),t}function SB(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),s=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),l=2/(o+a),c=2/(i+s);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-((o-a)*l*.5),t[9]=(i-s)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Pb(t,e,n,r,i,s,o){var a=1/(e-n),l=1/(r-i),c=1/(s-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*a,t[13]=(i+r)*l,t[14]=(o+s)*c,t[15]=1,t}function RB(t,e,n,r,i,s,o){var a=1/(e-n),l=1/(r-i),c=1/(s-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=c,t[11]=0,t[12]=(e+n)*a,t[13]=(i+r)*l,t[14]=s*c,t[15]=1,t}function OB(t,e,n,r){var i,s,o,a,l,c,u,d,f,h,m=e[0],p=e[1],g=e[2],_=r[0],v=r[1],C=r[2],y=n[0],E=n[1],b=n[2];return Math.abs(m-y)<k&&Math.abs(p-E)<k&&Math.abs(g-b)<k?Tb(t):(u=m-y,d=p-E,f=g-b,h=1/Math.hypot(u,d,f),u*=h,d*=h,f*=h,i=v*f-C*d,s=C*u-_*f,o=_*d-v*u,h=Math.hypot(i,s,o),h?(h=1/h,i*=h,s*=h,o*=h):(i=0,s=0,o=0),a=d*o-f*s,l=f*i-u*o,c=u*s-d*i,h=Math.hypot(a,l,c),h?(h=1/h,a*=h,l*=h,c*=h):(a=0,l=0,c=0),t[0]=i,t[1]=a,t[2]=u,t[3]=0,t[4]=s,t[5]=l,t[6]=d,t[7]=0,t[8]=o,t[9]=c,t[10]=f,t[11]=0,t[12]=-(i*m+s*p+o*g),t[13]=-(a*m+l*p+c*g),t[14]=-(u*m+d*p+f*g),t[15]=1,t)}function PB(t,e,n,r){var i=e[0],s=e[1],o=e[2],a=r[0],l=r[1],c=r[2],u=i-n[0],d=s-n[1],f=o-n[2],h=u*u+d*d+f*f;h>0&&(h=1/Math.sqrt(h),u*=h,d*=h,f*=h);var m=l*f-c*d,p=c*u-a*f,g=a*d-l*u;return h=m*m+p*p+g*g,h>0&&(h=1/Math.sqrt(h),m*=h,p*=h,g*=h),t[0]=m,t[1]=p,t[2]=g,t[3]=0,t[4]=d*g-f*p,t[5]=f*m-u*g,t[6]=u*p-d*m,t[7]=0,t[8]=u,t[9]=d,t[10]=f,t[11]=0,t[12]=i,t[13]=s,t[14]=o,t[15]=1,t}function NB(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function FB(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function LB(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Nb(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function kB(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function VB(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function jB(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function BB(t,e){var n=t[0],r=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=t[9],f=t[10],h=t[11],m=t[12],p=t[13],g=t[14],_=t[15],v=e[0],C=e[1],y=e[2],E=e[3],b=e[4],A=e[5],O=e[6],S=e[7],U=e[8],te=e[9],Z=e[10],K=e[11],B=e[12],ye=e[13],Ae=e[14],je=e[15];return Math.abs(n-v)<=k*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(r-C)<=k*Math.max(1,Math.abs(r),Math.abs(C))&&Math.abs(i-y)<=k*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(s-E)<=k*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(o-b)<=k*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(a-A)<=k*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(l-O)<=k*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(c-S)<=k*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(u-U)<=k*Math.max(1,Math.abs(u),Math.abs(U))&&Math.abs(d-te)<=k*Math.max(1,Math.abs(d),Math.abs(te))&&Math.abs(f-Z)<=k*Math.max(1,Math.abs(f),Math.abs(Z))&&Math.abs(h-K)<=k*Math.max(1,Math.abs(h),Math.abs(K))&&Math.abs(m-B)<=k*Math.max(1,Math.abs(m),Math.abs(B))&&Math.abs(p-ye)<=k*Math.max(1,Math.abs(p),Math.abs(ye))&&Math.abs(g-Ae)<=k*Math.max(1,Math.abs(g),Math.abs(Ae))&&Math.abs(_-je)<=k*Math.max(1,Math.abs(_),Math.abs(je))}var MB,AB,UB,HB,Hm=bn(()=>{"use strict";Vn();MB=Ob;AB=Pb;UB=Sb,HB=Nb});var Mu={};In(Mu,{add:()=>qB,angle:()=>fU,bezier:()=>iU,ceil:()=>YB,clone:()=>$B,copy:()=>zB,create:()=>xu,cross:()=>Pa,dist:()=>CU,distance:()=>jb,div:()=>yU,divide:()=>Vb,dot:()=>Iu,equals:()=>gU,exactEquals:()=>mU,floor:()=>WB,forEach:()=>DU,fromValues:()=>bu,hermite:()=>rU,inverse:()=>tU,len:()=>zm,length:()=>Fb,lerp:()=>nU,max:()=>ZB,min:()=>QB,mul:()=>vU,multiply:()=>kb,negate:()=>eU,normalize:()=>$m,random:()=>sU,rotateX:()=>cU,rotateY:()=>uU,rotateZ:()=>dU,round:()=>XB,scale:()=>KB,scaleAndAdd:()=>JB,set:()=>GB,sqrDist:()=>EU,sqrLen:()=>wU,squaredDistance:()=>Bb,squaredLength:()=>Ub,str:()=>pU,sub:()=>_U,subtract:()=>Lb,transformMat3:()=>aU,transformMat4:()=>oU,transformQuat:()=>lU,zero:()=>hU});function xu(){var t=new ee(3);return ee!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function $B(t){var e=new ee(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Fb(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function bu(t,e,n){var r=new ee(3);return r[0]=t,r[1]=e,r[2]=n,r}function zB(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function GB(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function qB(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Lb(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function kb(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Vb(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function YB(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function WB(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function QB(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function ZB(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function XB(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function KB(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function JB(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function jb(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function Bb(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function Ub(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function eU(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function tU(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function $m(t,e){var n=e[0],r=e[1],i=e[2],s=n*n+r*r+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function Iu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Pa(t,e,n){var r=e[0],i=e[1],s=e[2],o=n[0],a=n[1],l=n[2];return t[0]=i*l-s*a,t[1]=s*o-r*l,t[2]=r*a-i*o,t}function nU(t,e,n,r){var i=e[0],s=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=s+r*(n[1]-s),t[2]=o+r*(n[2]-o),t}function rU(t,e,n,r,i,s){var o=s*s,a=o*(2*s-3)+1,l=o*(s-2)+s,c=o*(s-1),u=o*(3-2*s);return t[0]=e[0]*a+n[0]*l+r[0]*c+i[0]*u,t[1]=e[1]*a+n[1]*l+r[1]*c+i[1]*u,t[2]=e[2]*a+n[2]*l+r[2]*c+i[2]*u,t}function iU(t,e,n,r,i,s){var o=1-s,a=o*o,l=s*s,c=a*o,u=3*s*a,d=3*l*o,f=l*s;return t[0]=e[0]*c+n[0]*u+r[0]*d+i[0]*f,t[1]=e[1]*c+n[1]*u+r[1]*d+i[1]*f,t[2]=e[2]*c+n[2]*u+r[2]*d+i[2]*f,t}function sU(t,e){e=e||1;var n=At()*2*Math.PI,r=At()*2-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function oU(t,e,n){var r=e[0],i=e[1],s=e[2],o=n[3]*r+n[7]*i+n[11]*s+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*s+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*s+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*s+n[14])/o,t}function aU(t,e,n){var r=e[0],i=e[1],s=e[2];return t[0]=r*n[0]+i*n[3]+s*n[6],t[1]=r*n[1]+i*n[4]+s*n[7],t[2]=r*n[2]+i*n[5]+s*n[8],t}function lU(t,e,n){var r=n[0],i=n[1],s=n[2],o=n[3],a=e[0],l=e[1],c=e[2],u=i*c-s*l,d=s*a-r*c,f=r*l-i*a,h=i*f-s*d,m=s*u-r*f,p=r*d-i*u,g=o*2;return u*=g,d*=g,f*=g,h*=2,m*=2,p*=2,t[0]=a+u+h,t[1]=l+d+m,t[2]=c+f+p,t}function cU(t,e,n,r){var i=[],s=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],s[0]=i[0],s[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),s[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t}function uU(t,e,n,r){var i=[],s=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],s[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),s[1]=i[1],s[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t}function dU(t,e,n,r){var i=[],s=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],s[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),s[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),s[2]=i[2],t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t}function fU(t,e){var n=t[0],r=t[1],i=t[2],s=e[0],o=e[1],a=e[2],l=Math.sqrt(n*n+r*r+i*i),c=Math.sqrt(s*s+o*o+a*a),u=l*c,d=u&&Iu(t,e)/u;return Math.acos(Math.min(Math.max(d,-1),1))}function hU(t){return t[0]=0,t[1]=0,t[2]=0,t}function pU(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function mU(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function gU(t,e){var n=t[0],r=t[1],i=t[2],s=e[0],o=e[1],a=e[2];return Math.abs(n-s)<=k*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-o)<=k*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-a)<=k*Math.max(1,Math.abs(i),Math.abs(a))}var _U,vU,yU,CU,EU,zm,wU,DU,Gm=bn(()=>{"use strict";Vn();_U=Lb,vU=kb,yU=Vb,CU=jb,EU=Bb,zm=Fb,wU=Ub,DU=function(){var t=xu();return function(e,n,r,i,s,o){var a,l;for(n||(n=3),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,a=r;a<l;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],s(t,t,o),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}}()});var Au={};In(Au,{add:()=>Zm,ceil:()=>xU,clone:()=>qm,copy:()=>Wm,create:()=>Hb,cross:()=>OU,dist:()=>UU,distance:()=>qb,div:()=>BU,divide:()=>Gb,dot:()=>Jm,equals:()=>ng,exactEquals:()=>tg,floor:()=>bU,forEach:()=>GU,fromValues:()=>Ym,inverse:()=>RU,len:()=>$U,length:()=>Tu,lerp:()=>eg,max:()=>MU,min:()=>IU,mul:()=>jU,multiply:()=>zb,negate:()=>AU,normalize:()=>Km,random:()=>PU,round:()=>TU,scale:()=>Xm,scaleAndAdd:()=>SU,set:()=>Qm,sqrDist:()=>HU,sqrLen:()=>zU,squaredDistance:()=>Yb,squaredLength:()=>Su,str:()=>kU,sub:()=>VU,subtract:()=>$b,transformMat4:()=>NU,transformQuat:()=>FU,zero:()=>LU});function Hb(){var t=new ee(4);return ee!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function qm(t){var e=new ee(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Ym(t,e,n,r){var i=new ee(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function Wm(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Qm(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Zm(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function $b(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function zb(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function Gb(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function xU(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function bU(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function IU(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function MU(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function TU(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Xm(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function SU(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function qb(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],s=e[3]-t[3];return Math.hypot(n,r,i,s)}function Yb(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],s=e[3]-t[3];return n*n+r*r+i*i+s*s}function Tu(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.hypot(e,n,r,i)}function Su(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function AU(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function RU(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function Km(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=n*n+r*r+i*i+s*s;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=s*o,t}function Jm(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function OU(t,e,n,r){var i=n[0]*r[1]-n[1]*r[0],s=n[0]*r[2]-n[2]*r[0],o=n[0]*r[3]-n[3]*r[0],a=n[1]*r[2]-n[2]*r[1],l=n[1]*r[3]-n[3]*r[1],c=n[2]*r[3]-n[3]*r[2],u=e[0],d=e[1],f=e[2],h=e[3];return t[0]=d*c-f*l+h*a,t[1]=-(u*c)+f*o-h*s,t[2]=u*l-d*o+h*i,t[3]=-(u*a)+d*s-f*i,t}function eg(t,e,n,r){var i=e[0],s=e[1],o=e[2],a=e[3];return t[0]=i+r*(n[0]-i),t[1]=s+r*(n[1]-s),t[2]=o+r*(n[2]-o),t[3]=a+r*(n[3]-a),t}function PU(t,e){e=e||1;var n,r,i,s,o,a;do n=At()*2-1,r=At()*2-1,o=n*n+r*r;while(o>=1);do i=At()*2-1,s=At()*2-1,a=i*i+s*s;while(a>=1);var l=Math.sqrt((1-o)/a);return t[0]=e*n,t[1]=e*r,t[2]=e*i*l,t[3]=e*s*l,t}function NU(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*s+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*s+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*s+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*s+n[15]*o,t}function FU(t,e,n){var r=e[0],i=e[1],s=e[2],o=n[0],a=n[1],l=n[2],c=n[3],u=c*r+a*s-l*i,d=c*i+l*r-o*s,f=c*s+o*i-a*r,h=-o*r-a*i-l*s;return t[0]=u*c+h*-o+d*-l-f*-a,t[1]=d*c+h*-a+f*-o-u*-l,t[2]=f*c+h*-l+u*-a-d*-o,t[3]=e[3],t}function LU(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function kU(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function tg(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function ng(t,e){var n=t[0],r=t[1],i=t[2],s=t[3],o=e[0],a=e[1],l=e[2],c=e[3];return Math.abs(n-o)<=k*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=k*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-l)<=k*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-c)<=k*Math.max(1,Math.abs(s),Math.abs(c))}var VU,jU,BU,UU,HU,$U,zU,GU,rg=bn(()=>{"use strict";Vn();VU=$b,jU=zb,BU=Gb,UU=qb,HU=Yb,$U=Tu,zU=Su,GU=function(){var t=Hb();return function(e,n,r,i,s,o){var a,l;for(n||(n=4),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,a=r;a<l;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],t[3]=e[a+3],s(t,t,o),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2],e[a+3]=t[3];return e}}()});var Lu={};In(Lu,{add:()=>s4,calculateW:()=>QU,clone:()=>n4,conjugate:()=>JU,copy:()=>Ou,create:()=>Na,dot:()=>Pu,equals:()=>d4,exactEquals:()=>u4,exp:()=>Zb,fromEuler:()=>e4,fromMat3:()=>Kb,fromValues:()=>r4,getAngle:()=>WU,getAxisAngle:()=>YU,identity:()=>qU,invert:()=>KU,len:()=>l4,length:()=>Nu,lerp:()=>a4,ln:()=>Xb,mul:()=>o4,multiply:()=>Qb,normalize:()=>ag,pow:()=>ZU,random:()=>XU,rotateX:()=>ig,rotateY:()=>sg,rotateZ:()=>og,rotationTo:()=>f4,scale:()=>Jb,set:()=>i4,setAxes:()=>p4,setAxisAngle:()=>Wb,slerp:()=>Ru,sqlerp:()=>h4,sqrLen:()=>c4,squaredLength:()=>Fu,str:()=>t4});function Na(){var t=new ee(4);return ee!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function qU(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Wb(t,e,n){n=n*.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function YU(t,e){var n=Math.acos(e[3])*2,r=Math.sin(n/2);return r>k?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function WU(t,e){var n=Pu(t,e);return Math.acos(2*n*n-1)}function Qb(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=n[0],l=n[1],c=n[2],u=n[3];return t[0]=r*u+o*a+i*c-s*l,t[1]=i*u+o*l+s*a-r*c,t[2]=s*u+o*c+r*l-i*a,t[3]=o*u-r*a-i*l-s*c,t}function ig(t,e,n){n*=.5;var r=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*a,t[1]=i*l+s*a,t[2]=s*l-i*a,t[3]=o*l-r*a,t}function sg(t,e,n){n*=.5;var r=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=r*l-s*a,t[1]=i*l+o*a,t[2]=s*l+r*a,t[3]=o*l-i*a,t}function og(t,e,n){n*=.5;var r=e[0],i=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=r*l+i*a,t[1]=i*l-r*a,t[2]=s*l+o*a,t[3]=o*l-s*a,t}function QU(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function Zb(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=Math.sqrt(n*n+r*r+i*i),a=Math.exp(s),l=o>0?a*Math.sin(o)/o:0;return t[0]=n*l,t[1]=r*l,t[2]=i*l,t[3]=a*Math.cos(o),t}function Xb(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=Math.sqrt(n*n+r*r+i*i),a=o>0?Math.atan2(o,s)/o:0;return t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=.5*Math.log(n*n+r*r+i*i+s*s),t}function ZU(t,e,n){return Xb(t,e),Jb(t,t,n),Zb(t,t),t}function Ru(t,e,n,r){var i=e[0],s=e[1],o=e[2],a=e[3],l=n[0],c=n[1],u=n[2],d=n[3],f,h,m,p,g;return h=i*l+s*c+o*u+a*d,h<0&&(h=-h,l=-l,c=-c,u=-u,d=-d),1-h>k?(f=Math.acos(h),m=Math.sin(f),p=Math.sin((1-r)*f)/m,g=Math.sin(r*f)/m):(p=1-r,g=r),t[0]=p*i+g*l,t[1]=p*s+g*c,t[2]=p*o+g*u,t[3]=p*a+g*d,t}function XU(t){var e=At(),n=At(),r=At(),i=Math.sqrt(1-e),s=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=s*Math.sin(2*Math.PI*r),t[3]=s*Math.cos(2*Math.PI*r),t}function KU(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=n*n+r*r+i*i+s*s,a=o?1/o:0;return t[0]=-n*a,t[1]=-r*a,t[2]=-i*a,t[3]=s*a,t}function JU(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Kb(t,e){var n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);var s=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[s*3+s]-e[o*3+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[s*3+o]-e[o*3+s])*r,t[s]=(e[s*3+i]+e[i*3+s])*r,t[o]=(e[o*3+i]+e[i*3+o])*r}return t}function e4(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var s=Math.sin(e),o=Math.cos(e),a=Math.sin(n),l=Math.cos(n),c=Math.sin(r),u=Math.cos(r);return t[0]=s*l*u-o*a*c,t[1]=o*a*u+s*l*c,t[2]=o*l*c-s*a*u,t[3]=o*l*u+s*a*c,t}function t4(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var n4,r4,Ou,i4,s4,o4,Jb,Pu,a4,Nu,l4,Fu,c4,ag,u4,d4,f4,h4,p4,lg=bn(()=>{"use strict";Vn();jm();Gm();rg();n4=qm,r4=Ym,Ou=Wm,i4=Qm,s4=Zm,o4=Qb,Jb=Xm,Pu=Jm,a4=eg,Nu=Tu,l4=Nu,Fu=Su,c4=Fu,ag=Km,u4=tg,d4=ng,f4=function(){var t=xu(),e=bu(1,0,0),n=bu(0,1,0);return function(r,i,s){var o=Iu(i,s);return o<-.999999?(Pa(t,e,i),zm(t)<1e-6&&Pa(t,n,i),$m(t,t),Wb(r,t,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Pa(t,i,s),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+o,ag(r,r))}}(),h4=function(){var t=Na(),e=Na();return function(n,r,i,s,o,a){return Ru(t,r,o,a),Ru(e,i,s,a),Ru(n,t,e,2*a*(1-a)),n}}(),p4=function(){var t=Vm();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],ag(e,Kb(e,t))}}()});var cg={};In(cg,{add:()=>L4,clone:()=>g4,conjugate:()=>U4,copy:()=>tI,create:()=>m4,dot:()=>rI,equals:()=>Y4,exactEquals:()=>q4,fromMat4:()=>E4,fromRotation:()=>C4,fromRotationTranslation:()=>eI,fromRotationTranslationValues:()=>v4,fromTranslation:()=>y4,fromValues:()=>_4,getDual:()=>b4,getReal:()=>x4,getTranslation:()=>T4,identity:()=>w4,invert:()=>B4,len:()=>H4,length:()=>iI,lerp:()=>j4,mul:()=>k4,multiply:()=>nI,normalize:()=>z4,rotateAroundAxis:()=>F4,rotateByQuatAppend:()=>P4,rotateByQuatPrepend:()=>N4,rotateX:()=>A4,rotateY:()=>R4,rotateZ:()=>O4,scale:()=>V4,set:()=>D4,setDual:()=>M4,setReal:()=>I4,sqrLen:()=>$4,squaredLength:()=>ku,str:()=>G4,translate:()=>S4});function m4(){var t=new ee(8);return ee!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function g4(t){var e=new ee(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function _4(t,e,n,r,i,s,o,a){var l=new ee(8);return l[0]=t,l[1]=e,l[2]=n,l[3]=r,l[4]=i,l[5]=s,l[6]=o,l[7]=a,l}function v4(t,e,n,r,i,s,o){var a=new ee(8);a[0]=t,a[1]=e,a[2]=n,a[3]=r;var l=i*.5,c=s*.5,u=o*.5;return a[4]=l*r+c*n-u*e,a[5]=c*r+u*t-l*n,a[6]=u*r+l*e-c*t,a[7]=-l*t-c*e-u*n,a}function eI(t,e,n){var r=n[0]*.5,i=n[1]*.5,s=n[2]*.5,o=e[0],a=e[1],l=e[2],c=e[3];return t[0]=o,t[1]=a,t[2]=l,t[3]=c,t[4]=r*c+i*l-s*a,t[5]=i*c+s*o-r*l,t[6]=s*c+r*a-i*o,t[7]=-r*o-i*a-s*l,t}function y4(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0]*.5,t[5]=e[1]*.5,t[6]=e[2]*.5,t[7]=0,t}function C4(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function E4(t,e){var n=Na();Um(n,e);var r=new ee(3);return Bm(r,e),eI(t,n,r),t}function tI(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function w4(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function D4(t,e,n,r,i,s,o,a,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t}function b4(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}function M4(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function T4(t,e){var n=e[4],r=e[5],i=e[6],s=e[7],o=-e[0],a=-e[1],l=-e[2],c=e[3];return t[0]=(n*c+s*o+r*l-i*a)*2,t[1]=(r*c+s*a+i*o-n*l)*2,t[2]=(i*c+s*l+n*a-r*o)*2,t}function S4(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=n[0]*.5,l=n[1]*.5,c=n[2]*.5,u=e[4],d=e[5],f=e[6],h=e[7];return t[0]=r,t[1]=i,t[2]=s,t[3]=o,t[4]=o*a+i*c-s*l+u,t[5]=o*l+s*a-r*c+d,t[6]=o*c+r*l-i*a+f,t[7]=-r*a-i*l-s*c+h,t}function A4(t,e,n){var r=-e[0],i=-e[1],s=-e[2],o=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=a*o+u*r+l*s-c*i,f=l*o+u*i+c*r-a*s,h=c*o+u*s+a*i-l*r,m=u*o-a*r-l*i-c*s;return ig(t,e,n),r=t[0],i=t[1],s=t[2],o=t[3],t[4]=d*o+m*r+f*s-h*i,t[5]=f*o+m*i+h*r-d*s,t[6]=h*o+m*s+d*i-f*r,t[7]=m*o-d*r-f*i-h*s,t}function R4(t,e,n){var r=-e[0],i=-e[1],s=-e[2],o=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=a*o+u*r+l*s-c*i,f=l*o+u*i+c*r-a*s,h=c*o+u*s+a*i-l*r,m=u*o-a*r-l*i-c*s;return sg(t,e,n),r=t[0],i=t[1],s=t[2],o=t[3],t[4]=d*o+m*r+f*s-h*i,t[5]=f*o+m*i+h*r-d*s,t[6]=h*o+m*s+d*i-f*r,t[7]=m*o-d*r-f*i-h*s,t}function O4(t,e,n){var r=-e[0],i=-e[1],s=-e[2],o=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=a*o+u*r+l*s-c*i,f=l*o+u*i+c*r-a*s,h=c*o+u*s+a*i-l*r,m=u*o-a*r-l*i-c*s;return og(t,e,n),r=t[0],i=t[1],s=t[2],o=t[3],t[4]=d*o+m*r+f*s-h*i,t[5]=f*o+m*i+h*r-d*s,t[6]=h*o+m*s+d*i-f*r,t[7]=m*o-d*r-f*i-h*s,t}function P4(t,e,n){var r=n[0],i=n[1],s=n[2],o=n[3],a=e[0],l=e[1],c=e[2],u=e[3];return t[0]=a*o+u*r+l*s-c*i,t[1]=l*o+u*i+c*r-a*s,t[2]=c*o+u*s+a*i-l*r,t[3]=u*o-a*r-l*i-c*s,a=e[4],l=e[5],c=e[6],u=e[7],t[4]=a*o+u*r+l*s-c*i,t[5]=l*o+u*i+c*r-a*s,t[6]=c*o+u*s+a*i-l*r,t[7]=u*o-a*r-l*i-c*s,t}function N4(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=n[0],l=n[1],c=n[2],u=n[3];return t[0]=r*u+o*a+i*c-s*l,t[1]=i*u+o*l+s*a-r*c,t[2]=s*u+o*c+r*l-i*a,t[3]=o*u-r*a-i*l-s*c,a=n[4],l=n[5],c=n[6],u=n[7],t[4]=r*u+o*a+i*c-s*l,t[5]=i*u+o*l+s*a-r*c,t[6]=s*u+o*c+r*l-i*a,t[7]=o*u-r*a-i*l-s*c,t}function F4(t,e,n,r){if(Math.abs(r)<k)return tI(t,e);var i=Math.hypot(n[0],n[1],n[2]);r=r*.5;var s=Math.sin(r),o=s*n[0]/i,a=s*n[1]/i,l=s*n[2]/i,c=Math.cos(r),u=e[0],d=e[1],f=e[2],h=e[3];t[0]=u*c+h*o+d*l-f*a,t[1]=d*c+h*a+f*o-u*l,t[2]=f*c+h*l+u*a-d*o,t[3]=h*c-u*o-d*a-f*l;var m=e[4],p=e[5],g=e[6],_=e[7];return t[4]=m*c+_*o+p*l-g*a,t[5]=p*c+_*a+g*o-m*l,t[6]=g*c+_*l+m*a-p*o,t[7]=_*c-m*o-p*a-g*l,t}function L4(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function nI(t,e,n){var r=e[0],i=e[1],s=e[2],o=e[3],a=n[4],l=n[5],c=n[6],u=n[7],d=e[4],f=e[5],h=e[6],m=e[7],p=n[0],g=n[1],_=n[2],v=n[3];return t[0]=r*v+o*p+i*_-s*g,t[1]=i*v+o*g+s*p-r*_,t[2]=s*v+o*_+r*g-i*p,t[3]=o*v-r*p-i*g-s*_,t[4]=r*u+o*a+i*c-s*l+d*v+m*p+f*_-h*g,t[5]=i*u+o*l+s*a-r*c+f*v+m*g+h*p-d*_,t[6]=s*u+o*c+r*l-i*a+h*v+m*_+d*g-f*p,t[7]=o*u-r*a-i*l-s*c+m*v-d*p-f*g-h*_,t}function V4(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}function j4(t,e,n,r){var i=1-r;return rI(e,n)<0&&(r=-r),t[0]=e[0]*i+n[0]*r,t[1]=e[1]*i+n[1]*r,t[2]=e[2]*i+n[2]*r,t[3]=e[3]*i+n[3]*r,t[4]=e[4]*i+n[4]*r,t[5]=e[5]*i+n[5]*r,t[6]=e[6]*i+n[6]*r,t[7]=e[7]*i+n[7]*r,t}function B4(t,e){var n=ku(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function U4(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}function z4(t,e){var n=ku(e);if(n>0){n=Math.sqrt(n);var r=e[0]/n,i=e[1]/n,s=e[2]/n,o=e[3]/n,a=e[4],l=e[5],c=e[6],u=e[7],d=r*a+i*l+s*c+o*u;t[0]=r,t[1]=i,t[2]=s,t[3]=o,t[4]=(a-r*d)/n,t[5]=(l-i*d)/n,t[6]=(c-s*d)/n,t[7]=(u-o*d)/n}return t}function G4(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function q4(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function Y4(t,e){var n=t[0],r=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=e[0],d=e[1],f=e[2],h=e[3],m=e[4],p=e[5],g=e[6],_=e[7];return Math.abs(n-u)<=k*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-d)<=k*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-f)<=k*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(s-h)<=k*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(o-m)<=k*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-p)<=k*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(l-g)<=k*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(c-_)<=k*Math.max(1,Math.abs(c),Math.abs(_))}var x4,I4,k4,rI,iI,H4,ku,$4,sI=bn(()=>{"use strict";Vn();lg();Hm();x4=Ou;I4=Ou;k4=nI;rI=Pu;iI=Nu,H4=iI,ku=Fu,$4=ku});var ug={};In(ug,{add:()=>K4,angle:()=>vH,ceil:()=>J4,clone:()=>W4,copy:()=>Z4,create:()=>oI,cross:()=>uH,dist:()=>MH,distance:()=>uI,div:()=>IH,divide:()=>cI,dot:()=>cH,equals:()=>wH,exactEquals:()=>EH,floor:()=>eH,forEach:()=>AH,fromValues:()=>Q4,inverse:()=>aH,len:()=>DH,length:()=>fI,lerp:()=>dH,max:()=>nH,min:()=>tH,mul:()=>bH,multiply:()=>lI,negate:()=>oH,normalize:()=>lH,random:()=>fH,rotate:()=>_H,round:()=>rH,scale:()=>iH,scaleAndAdd:()=>sH,set:()=>X4,sqrDist:()=>TH,sqrLen:()=>SH,squaredDistance:()=>dI,squaredLength:()=>hI,str:()=>CH,sub:()=>xH,subtract:()=>aI,transformMat2:()=>hH,transformMat2d:()=>pH,transformMat3:()=>mH,transformMat4:()=>gH,zero:()=>yH});function oI(){var t=new ee(2);return ee!=Float32Array&&(t[0]=0,t[1]=0),t}function W4(t){var e=new ee(2);return e[0]=t[0],e[1]=t[1],e}function Q4(t,e){var n=new ee(2);return n[0]=t,n[1]=e,n}function Z4(t,e){return t[0]=e[0],t[1]=e[1],t}function X4(t,e,n){return t[0]=e,t[1]=n,t}function K4(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function aI(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function lI(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function cI(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function J4(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function eH(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function tH(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function nH(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function rH(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function iH(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function sH(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function uI(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function dI(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function fI(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function hI(t){var e=t[0],n=t[1];return e*e+n*n}function oH(t,e){return t[0]=-e[0],t[1]=-e[1],t}function aH(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function lH(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function cH(t,e){return t[0]*e[0]+t[1]*e[1]}function uH(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function dH(t,e,n,r){var i=e[0],s=e[1];return t[0]=i+r*(n[0]-i),t[1]=s+r*(n[1]-s),t}function fH(t,e){e=e||1;var n=At()*2*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function hH(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function pH(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function mH(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function gH(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function _H(t,e,n,r){var i=e[0]-n[0],s=e[1]-n[1],o=Math.sin(r),a=Math.cos(r);return t[0]=i*a-s*o+n[0],t[1]=i*o+s*a+n[1],t}function vH(t,e){var n=t[0],r=t[1],i=e[0],s=e[1],o=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+s*s),a=o&&(n*i+r*s)/o;return Math.acos(Math.min(Math.max(a,-1),1))}function yH(t){return t[0]=0,t[1]=0,t}function CH(t){return"vec2("+t[0]+", "+t[1]+")"}function EH(t,e){return t[0]===e[0]&&t[1]===e[1]}function wH(t,e){var n=t[0],r=t[1],i=e[0],s=e[1];return Math.abs(n-i)<=k*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-s)<=k*Math.max(1,Math.abs(r),Math.abs(s))}var DH,xH,bH,IH,MH,TH,SH,AH,pI=bn(()=>{"use strict";Vn();DH=fI,xH=aI,bH=lI,IH=cI,MH=uI,TH=dI,SH=hI,AH=function(){var t=oI();return function(e,n,r,i,s,o){var a,l;for(n||(n=2),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,a=r;a<l;a+=n)t[0]=e[a],t[1]=e[a+1],s(t,t,o),e[a]=t[0],e[a+1]=t[1];return e}}()});var Fa={};In(Fa,{glMatrix:()=>mn,mat2:()=>Lm,mat2d:()=>km,mat3:()=>wu,mat4:()=>Du,quat:()=>Lu,quat2:()=>cg,vec2:()=>ug,vec3:()=>Mu,vec4:()=>Au});var La=bn(()=>{"use strict";Vn();wb();bb();jm();Hm();lg();sI();pI();Gm();rg()});var Jr=D(fg=>{"use strict";Object.defineProperty(fg,"__esModule",{value:!0});var dg=class t{static create(e=1,n=1){let r=document.createElement("canvas");return r.width=e,r.height=n,r}static fillRect(e,n,r,i,s,o){let a=e.getContext("2d");a.save(),a.beginPath(),a.fillStyle=n,a.fillRect(r,i,s,o),a.fill(),a.closePath(),a.restore()}static getCanvasPixels(e){let n=t.create(e.width,e.height);return n.getContext("2d").drawImage(e,0,0),n.getContext("2d").getImageData(0,0,n.width,n.height).data}static getCanvasPixel(e,n,r){let i=t.getCanvasPixels(e),s=Math.floor(r*e.width*4)+n*4;return[i[s],i[s+1],i[s+2],i[s+3]]}static canvasPixelToRGBA(e){return{r:e[0],g:e[1],b:e[2],a:e[3]}}static pixelsAreTheSame(e,n){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}};fg.default=dg});var Vu=D(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.isWebGLAvailable=to.isDisplayObjectContainer=void 0;var RH=Jr();function OH(t){return t.getChildren!==void 0}to.isDisplayObjectContainer=OH;function PH(){return RH.default.create().getContext("webgl")!==null}to.isWebGLAvailable=PH});var ju=D(hg=>{"use strict";Object.defineProperty(hg,"__esModule",{value:!0});var ka=(La(),il(Fa)),NH=Vu(),Jn=class t{static getFastAngle(){let e=[];for(let n=0;n<=360;n++)e.push(n*this.TO_RADIANS);return e}static getFastSinus(){let e=this.getFastAngle();for(let n=0;n<e.length;n++)e[n]=Math.sin(n*this.TO_RADIANS);return e}static getFastCosinus(){let e=this.getFastAngle();for(let n=0;n<e.length;n++)e[n]=Math.cos(n*this.TO_RADIANS);return e}static updateTransformAll(e,n){let r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=ka.mat2d.create(),u=ka.mat2d.create(),d=ka.mat2d.create(),f=null,h=null,m=0,p=0,g=0,_=0,v=0,C=0,y=0;for(let E=0;E<n.length;E++)f=n[E],u=f.matrix,d=f.worldMatrix,m=(f.rotation%360+360)%360>>0,p=t.FAST_SIN[m],g=t.FAST_COS[m],_=f.transformOrigin.x>>0,v=f.transformOrigin.y>>0,C=f.scaleX,y=f.scaleY,u[0]=g*C,u[1]=p*C,u[2]=-p*y,u[3]=g*y,u[4]=u[0]*-_+u[2]*-v+f.x+_,u[5]=u[1]*-_+u[3]*-v+f.y+v,f.parent!==h&&(c=f.parent!==null?f.parent.worldMatrix:e,h=f.parent,r=c[0],i=c[1],s=c[2],o=c[3],a=c[4],l=c[5]),d[0]=r*u[0]+s*u[1],d[1]=i*u[0]+o*u[1],d[2]=r*u[2]+s*u[3],d[3]=i*u[2]+o*u[3],d[4]=r*u[4]+s*u[5]+a,d[5]=i*u[4]+o*u[5]+l}static updateTransform(e,n){let r=n.matrix,i=n.worldMatrix,s=n.rotation<0?(360+n.rotation>>0)%360:(n.rotation>>0)%360,o=r[0],a=r[1],l=r[2],c=r[3],u=r[4],d=r[5],f=e[0],h=e[1],m=e[2],p=e[3],g=e[4],_=e[5],v=0,C=0,y=0,E=0;r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=n.x+n.transformOrigin.x>>0,r[5]=n.y+n.transformOrigin.y>>0,o=r[0],a=r[1],l=r[2],c=r[3],u=r[4],d=r[5],v=this.FAST_SIN[s],C=this.FAST_COS[s],r[0]=o*C+l*v,r[1]=a*C+c*v,r[2]=o*-v+l*C,r[3]=a*-v+c*C,r[4]=u,r[5]=d,o=r[0],a=r[1],l=r[2],c=r[3],u=r[4],d=r[5],y=n.scaleX,E=n.scaleY,r[0]=o*y,r[1]=a*y,r[2]=l*E,r[3]=c*E,r[4]=u,r[5]=d,o=r[0],a=r[1],l=r[2],c=r[3],u=r[4],d=r[5],y=-n.transformOrigin.x>>0,E=-n.transformOrigin.y>>0,r[0]=o,r[1]=a,r[2]=l,r[3]=c,r[4]=o*y+l*E+u,r[5]=a*y+c*E+d,f=r[0],h=r[1],m=r[2],p=r[3],g=r[4],_=r[5],o=e[0],a=e[1],l=e[2],c=e[3],u=e[4],d=e[5],i[0]=o*f+l*h,i[1]=a*f+c*h,i[2]=o*m+l*p,i[3]=a*m+c*p,i[4]=o*g+l*_+u,i[5]=a*g+c*_+d}static getHitbox(e){if(NH.isDisplayObjectContainer(e)){let n=e.getChildren().map(u=>this.getHitbox(u)),r=[],i=[];n.forEach(u=>{r.push(u.topLeft.x,u.topRight.x,u.bottomLeft.x,u.bottomRight.x),i.push(u.topLeft.y,u.topRight.y,u.bottomLeft.y,u.bottomRight.y)});let s=Math.min(...r),o=Math.max(...r),a=Math.min(...i),l=Math.max(...i);return{topLeft:{x:s,y:a},topRight:{x:o,y:a},bottomLeft:{x:s,y:l},bottomRight:{x:o,y:l}}}else{let n=e.worldMatrix,r=this.transformPoint(0,0,n),i=this.transformPoint(e.width,0,n),s=this.transformPoint(0,e.height,n),o=this.transformPoint(e.width,e.height,n);return{topLeft:r,topRight:i,bottomLeft:s,bottomRight:o}}}static getBoundingRect(e){let n=this.getHitbox(e),r=Math.min(n.topLeft.x,n.topRight.x,n.bottomLeft.x,n.bottomRight.x),i=Math.max(n.topLeft.x,n.topRight.x,n.bottomLeft.x,n.bottomRight.x),s=Math.min(n.topLeft.y,n.topRight.y,n.bottomLeft.y,n.bottomRight.y),o=Math.max(n.topLeft.y,n.topRight.y,n.bottomLeft.y,n.bottomRight.y);return{x:r,y:s,width:i-r,height:o-s}}static transformPoint(e,n,r){return{x:Math.round(e*r[0]+n*r[2]+r[4]),y:Math.round(e*r[1]+n*r[3]+r[5])}}static getRevertWorldMatrix(e){let n=ka.mat2d.create();return ka.mat2d.invert(n,e),n}static collide(e,n,r){let i=this.getBoundingRect(r);return!(e<i.x||e>i.x+i.width||n<i.y||n>i.y+i.height)}};hg.default=Jn;Jn.TO_RADIANS=Math.PI/180;Jn.FAST_ANGLES=Jn.getFastAngle();Jn.FAST_SIN=Jn.getFastSinus();Jn.FAST_COS=Jn.getFastCosinus()});var mI=D(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.MouseControlEvent=void 0;var FH=ju(),LH=Vu(),pg=class{constructor(e){this._lastTouch=0,this._touchHandler=n=>{let i=this._stage.getCanvas().getBoundingClientRect(),s=n.touches.length==0?n.changedTouches[0].clientX:n.touches[0].clientX,o=n.touches.length==0?n.changedTouches[0].clientY:n.touches[0].clientY,a=s-i.x>>0,l=o-i.y>>0;switch(n.preventDefault(),n.type){case"touchstart":this.dispatchAt(a,l,Cr.MOUSE_CONTROL_DOWN);break;case"touchend":this.dispatchAt(a,l,Cr.MOUSE_CONTROL_UP);break;case"touchmove":this.dispatchAt(a,l,Cr.MOUSE_CONTROL_MOVE);break}n.type=="touchstart"?this._lastTouch=Date.now():n.type=="touchend"&&Date.now()-this._lastTouch<135&&(this.dispatchAt(a,l,Cr.MOUSE_CONTROL_CLICK),this._lastTouch=Date.now())},this._handler=n=>{let i=this._stage.getCanvas().getBoundingClientRect(),s=n.clientX-i.x>>0,o=n.clientY-i.y>>0;switch(n.type){case"click":this.dispatchAt(s,o,Cr.MOUSE_CONTROL_CLICK);break;case"mouseup":this.dispatchAt(s,o,Cr.MOUSE_CONTROL_UP);break;case"mousedown":this.dispatchAt(s,o,Cr.MOUSE_CONTROL_DOWN);break;case"mousemove":this.dispatchAt(s,o,Cr.MOUSE_CONTROL_MOVE);break}},this._stage=e}activate(){this.deactivate(),this._stage.getCanvas().addEventListener("click",this._handler),this._stage.getCanvas().addEventListener("mouseup",this._handler),this._stage.getCanvas().addEventListener("mousedown",this._handler),this._stage.getCanvas().addEventListener("mousemove",this._handler),this._stage.getCanvas().addEventListener("touchstart",this._touchHandler),this._stage.getCanvas().addEventListener("touchend",this._touchHandler),this._stage.getCanvas().addEventListener("touchmove",this._touchHandler)}deactivate(){this._stage.getCanvas().removeEventListener("click",this._handler),this._stage.getCanvas().removeEventListener("mouseup",this._handler),this._stage.getCanvas().removeEventListener("mousedown",this._handler),this._stage.getCanvas().removeEventListener("mousemove",this._handler),this._stage.getCanvas().removeEventListener("touchstart",this._touchHandler),this._stage.getCanvas().removeEventListener("touchend",this._touchHandler),this._stage.getCanvas().removeEventListener("touchmove",this._touchHandler)}_getObjectUnderPointRecursive(e,n,r){let i=r.getChildren(),s=i.length;for(;--s>-1;){let o=i[s];if(LH.isDisplayObjectContainer(o)){let a=this._getObjectUnderPointRecursive(e,n,o);if(a!==null)return a}else if(o.mouseEventsEnabled&&FH.default.collide(e,n,o))return o}return null}dispatchAt(e,n,r){let i=this._getObjectUnderPointRecursive(e,n,this._stage),s=i===null?this._stage:i,o=s;for(;o!==null;)o.emit(r,{x:e,y:n,target:s}),o=o.parent}};no.default=pg;var Cr;(function(t){t.MOUSE_CONTROL_CLICK="MOUSE_CONTROL_CLICK",t.MOUSE_CONTROL_MOVE="MOUSE_CONTROL_MOVE",t.MOUSE_CONTROL_UP="MOUSE_CONTROL_UP",t.MOUSE_CONTROL_DOWN="MOUSE_CONTROL_DOWN"})(Cr=no.MouseControlEvent||(no.MouseControlEvent={}))});var gI=D(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.GamePadTouchEvent=void 0;var kH=yr(),mg=class extends kH.Emitter{constructor(){super(...arguments),this._touches=[],this._pressed=[]}setTouches(e){this._touches=e}getTouches(){return this._touches}getTouchByKey(e){return this.getTouches().find(n=>n.key===e)||null}getTouchByValue(e){return this.getTouches().find(n=>n.value===e)||null}getPressedTouches(){return this._pressed}press(e,n=0){e.press(n),this._pressed.includes(e)||(this._pressed.push(e),this.emit(gg.PRESS_KEY,e))}release(e,n=0){if(this._pressed.indexOf(e)>-1){this._pressed.splice(this._pressed.indexOf(e),1);let i=e.release(n);return this.emit(gg.PRESS_KEY,e),i}else return e.getElapsedTime()}};ro.default=mg;var gg;(function(t){t.PRESS_KEY="PRESS_KEY",t.RELEASE_KEY="RELEASE_KEY"})(gg=ro.GamePadTouchEvent||(ro.GamePadTouchEvent={}))});var _I=D(vg=>{"use strict";Object.defineProperty(vg,"__esModule",{value:!0});var _g=class{constructor(e="",n=""){this._pressing=!1,this._timestamp=0,this.value=n,this.key=e}get pressing(){return this._pressing}getElapsedTime(e=0){return this.pressing?e-this._timestamp:0}release(e=0){let n=this.getElapsedTime(e);return this._pressing=!1,n}press(e=0){this._pressing=!0,this._timestamp=e}};vg.default=_g});var CI=D(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.GamePadTouchEvent=gn.GamePadTouch=gn.GamePad=gn.MouseControlEvent=gn.MouseControl=void 0;var vI=mI();gn.MouseControl=vI.default;Object.defineProperty(gn,"MouseControlEvent",{enumerable:!0,get:function(){return vI.MouseControlEvent}});var yI=gI();gn.GamePad=yI.default;Object.defineProperty(gn,"GamePadTouchEvent",{enumerable:!0,get:function(){return yI.GamePadTouchEvent}});var VH=_I();gn.GamePadTouch=VH.default});var EI=D(Cg=>{"use strict";Object.defineProperty(Cg,"__esModule",{value:!0});var yg=class{constructor(){this.name="",this.index=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.texture=null}};Cg.default=yg});var Bu=D(wg=>{"use strict";Object.defineProperty(wg,"__esModule",{value:!0});var jH=Jr(),Eg=class{constructor(){this._children=[],this._canvas=jH.default.create(),this._context=this._canvas.getContext("2d")}getNumDrawCalls(){return this._children.length}getContext(){return this._context}getCanvas(){return this._canvas}add(e){this._children.push(e)}getChildren(){return this._children}setChildren(e){this._children=e}clear(){this._children=[]}draw(e,n){n.clearRect(0,0,e.width,e.height),this._children.forEach(r=>{if(r.texture===null)return;let i=r.worldMatrix;n.save(),n.globalAlpha=r.worldOpacity,n.setTransform(i[0],i[1],i[2],i[3],i[4],i[5]),n.drawImage(r.texture.source,r.texture.sx,r.texture.sy,r.texture.sw,r.texture.sh,0,0,r.width,r.height),n.restore()})}};wg.default=Eg});var Uu=D(xg=>{"use strict";Object.defineProperty(xg,"__esModule",{value:!0});var Dg=class{static getNextPowerOf2(e){let n=1;for(;n<e;)n*=2;return n}};xg.default=Dg});var Hu=D(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.MathUtils=_n.isWebGLAvailable=_n.isDisplayObjectContainer=_n.Geometry=_n.CanvasUtils=void 0;var BH=Jr();_n.CanvasUtils=BH.default;var UH=ju();_n.Geometry=UH.default;var wI=Vu();Object.defineProperty(_n,"isDisplayObjectContainer",{enumerable:!0,get:function(){return wI.isDisplayObjectContainer}});Object.defineProperty(_n,"isWebGLAvailable",{enumerable:!0,get:function(){return wI.isWebGLAvailable}});var HH=Uu();_n.MathUtils=HH.default});var io=D(Ig=>{"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});var $u=(La(),il(Fa)),$H=yr(),zH=Bu(),GH=Hu(),bg=class t extends $H.Emitter{constructor(){super(...arguments),this.filters=[],this.texture=null,this.worldMatrix=$u.mat2d.create(),this.matrix=$u.mat2d.create(),this.x=0,this.y=0,this.opacity=1,this.worldOpacity=1,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.transformOrigin={x:0,y:0},this.parent=null,this.visible=!0,this.name="",this.mouseEventsEnabled=!0}snapshot(){let e=new zH.default,n=this.matrix,r=this.worldMatrix,i=e.getCanvas(),s=e.getContext();return $u.mat2d.identity(this.matrix),$u.mat2d.identity(this.worldMatrix),i.width=this.width,i.height=this.height,e.add(this),e.draw(i,s),this.matrix=n,this.worldMatrix=r,e.getCanvas()}update(e,n=1){GH.Geometry.updateTransform(e,this),this.opacity>1&&(this.opacity=1),this.opacity<0&&(this.opacity=0),this.worldOpacity=n*this.opacity}render(e){this.visible&&e.add(this)}static createFromTexture(e){let n=new t;return n.width=e.sw,n.height=e.sh,n.texture=e,n}};Ig.default=bg});var Va=D(Tg=>{"use strict";Object.defineProperty(Tg,"__esModule",{value:!0});var qH=io(),Mg=class extends qH.default{constructor(){super(...arguments),this._children=[]}addChild(e){this.contains(e)&&this.removeChild(e),this._children.push(e),e.parent=this}removeChild(e){let n=this.getChildIndex(e);return this.removeChildAt(n)}addChildAt(e,n){this.contains(e)&&this.removeChild(e);let r=this._children.splice(0,n);e.parent=this,this._children=[...r,e,...this._children]}removeChildAt(e){let n=this._children[e]||null;if(n===null)throw new Error("out of bound index for removeChildAt");return this._children.splice(e,1),n.parent=null,n}getChildren(){return this._children}getAllNestedChildrenIterative(){let e=[],n=[];for(n.push(this);n.length>0;){let r=n.shift(),i=e.indexOf(r)+1,s=e.splice(i);for(let o=0;o<r._children.length;o++){let a=r._children[o];e.push(a),a.getChildren!==void 0&&n.push(a)}e=e.concat(s)}return e}getAllNestedChildren(e=[]){for(let n=0;n<this._children.length;n++){let r=this._children[n];e.push(r),r.getChildren!==void 0&&r.getAllNestedChildren(e)}return e}getChildIndex(e){return this._children.indexOf(e)}contains(e){return e.parent===this&&this.getChildIndex(e)>-1}removeChildren(){for(;this._children.length>0;)this.removeChildAt(0)}update(e,n){super.update(e,n),this._children.forEach(r=>{r.update(this.worldMatrix,this.worldOpacity)})}render(e){super.render(e),this.visible&&this._children.forEach(n=>{n.render(e)})}};Tg.default=Mg});var xI=D(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.AnimationEvent=void 0;var YH=EI(),WH=io(),QH=Va(),Sg=class t extends QH.default{constructor(){super(),this._frames=[],this._currentFrameIndex=0,this._playing=!1,this._forwarding=!0,this.loop=!1,this.addChild(new WH.default)}play(){this._playing=!0,this._forwarding=!0}rewind(){this._playing=!0,this._forwarding=!1}stop(){this._playing=!1}render(e){if(super.render(e),this._playing){let n=this._forwarding?1:-1;this.goToFrame(this._currentFrameIndex+n)}}clearFrames(){this._currentFrameIndex=0,this._frames=[]}setFrameAt(e,n){n.index=e,this._frames[e]=n}getFrameAt(e){return this._frames[e]||null}getCurrentFrame(){let e=this.getFrameAt(this.getCurrentFrameIndex());return e===null&&this._forwarding?e=this.getPreviousDefinedFrameAt(this.getCurrentFrameIndex()):e===null&&!this._forwarding&&(e=this.getNextDefinedFrameAt(this.getCurrentFrameIndex())),e}getPreviousDefinedFrameAt(e){let n=null;for(;n===null&&e>-1;)n=this.getFrameAt(e--);return n}getNextDefinedFrameAt(e){let n=null;for(;n===null&&e<=this.getLastFrameIndex();)n=this.getFrameAt(e++);return n}removeFrameAt(e){this._frames[e]=null}getAnimationLength(){return this._frames.length}getLastFrameIndex(){return this.getAnimationLength()-1}getCurrentFrameIndex(){return this._currentFrameIndex}goToFrame(e){this.loop?(e=e>this.getLastFrameIndex()?0:e,e=e<0?this.getLastFrameIndex():e):(e=e>this.getLastFrameIndex()?this.getLastFrameIndex():e,e=e<0?0:e),this._currentFrameIndex=e;let n=this.getCurrentFrame(),r=this.getChildren()[0];r.texture=n.texture,r.width=n.width,r.height=n.height,r.x=n.offsetX,r.y=n.offsetY,r.update(this.worldMatrix,this.worldOpacity),this.emit(DI.PLAY_FRAME,this._currentFrameIndex)}static createFromTexturesAndFrames(e){let n=new t;return e.forEach(r=>{let i=new YH.default;i.width=r.texture.sw,i.height=r.texture.sh,i.originalWidth=i.width,i.originalHeight=i.height,i.texture=r.texture,n.setFrameAt(r.frame,i)}),n}};so.default=Sg;var DI;(function(t){t.PLAY_FRAME="PLAY_FRAME"})(DI=so.AnimationEvent||(so.AnimationEvent={}))});var Og=D(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.StageEvent=void 0;var ZH=(La(),il(Fa)),XH=Bu(),KH=Va(),Ag=class extends KH.default{constructor(){super(),this._camera=null,this._currentFrame=0,this._renderer=new XH.default,this._clippingStrategy=null,this.autoUpdateMatrices=!0}setCamera(e){this._camera=e}getCamera(){return this._camera}setClippingStrategy(e){this._clippingStrategy=e}getClippingStrategy(){return this._clippingStrategy}getRenderer(){return this._renderer}setRenderer(e){this._renderer=e}getCanvas(){return this._renderer.getCanvas()}getContext(){return this._renderer.getContext()}getCurrentFrame(){return this._currentFrame}nextFrame(){this._currentFrame++,this.emit(Rg.ENTER_FRAME,this._currentFrame),this.autoUpdateMatrices===!0&&this.update(ZH.mat2d.create(),1),this._clippingStrategy!==null&&this._camera!==null&&this._clippingStrategy(this,this._camera),this._renderer.clear(),this.render(this._renderer),this._renderer.draw(this._renderer.getCanvas(),this._renderer.getContext()),this.emit(Rg.FRAME_END,this._currentFrame)}update(e,n){this._camera!==null&&(this._camera.update(e,1),e=this._camera.getRevertWorldMatrix()),super.update(e,n)}};oo.default=Ag;var Rg;(function(t){t.ENTER_FRAME="ENTER_FRAME",t.FRAME_END="FRAME_END"})(Rg=oo.StageEvent||(oo.StageEvent={}))});var Gu=D(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});var JH=Jr(),bI=Uu(),zu=class t{constructor(e){this.width=0,this.height=0,this.texturePos=0,this._glTexture=null,this._isDynamic=!1,this._updateNextFrame=!1,this.setSource(e),this._uid="texture_data_"+t._counter++}setSource(e){let n=bI.default.getNextPowerOf2(e.width),r=bI.default.getNextPowerOf2(e.height),i=JH.default.create(),s=i.getContext("2d");i.width=n,i.height=r,s.drawImage(e,0,0),this._source=i,this.width=n,this.height=r,this._updateNextFrame=!0}getSource(){return this._source}getGlTexture(e){return this._glTexture===null&&(this._glTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._glTexture),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this._source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.bindTexture(e.TEXTURE_2D,null)),(this._isDynamic||this._updateNextFrame)&&(this._updateNextFrame=!1,e.bindTexture(e.TEXTURE_2D,this._glTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this._source)),this._glTexture}get uid(){return this._uid}get isDynamic(){return this._isDynamic}set isDynamic(e){this._isDynamic=e}};Pg.default=zu;zu._counter=0});var qu=D(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});var e5=Gu(),Ng=class t{constructor(e="",n,r=0,i=0,s=0,o=0){this.sx=0,this.sy=0,this.sw=0,this.sh=0,this.topLeftUv={u:0,v:0},this.topRightUv={u:0,v:0},this.bottomLeftUv={u:0,v:0},this.bottomRightUv={u:0,v:0},this.id="",this._data=n,this.sx=r,this.sy=i,this.sw=s,this.sh=o,this.id=e,this.calcUv()}calcUv(){let e=this._data.getSource().width,n=this._data.getSource().height,r=this.sx/e,i=(this.sx+this.sw)/e,s=this.sy/n,o=(this.sy+this.sh)/n;this.topLeftUv.u=r,this.topLeftUv.v=s,this.topRightUv.u=i,this.topRightUv.v=s,this.bottomLeftUv.u=r,this.bottomLeftUv.v=o,this.bottomRightUv.u=i,this.bottomRightUv.v=o}get textureUid(){return this._data.uid}get data(){return this._data}get source(){return this._data.getSource()}createSubTexture(e,n,r,i,s){return new t(e,this._data,n,r,i,s)}createSubTextures(e){return e.map(n=>this.createSubTexture(n.id,n.sx,n.sy,n.sw,n.sh))}static createFromSource(e,n){let r=new e5.default(n);return n instanceof HTMLVideoElement&&(r.isDynamic=!0),new t(e,r,0,0,r.width,r.height)}};Fg.default=Ng});var MI=D(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});var II=Og(),t5=io(),n5=qu(),r5=Gu(),i5=Jr(),Lg=class extends t5.default{constructor(){super(),this._stage=null,this._lastFrameTime=0,this._monitoring=!1,this._elapsedTime=0,this._enterFrame=n=>{this._elapsedTime=new Date().getTime()-this._lastFrameTime,this._lastFrameTime=new Date().getTime();let r=n.getPayload(),i=this._stage.getRenderer().getNumDrawCalls(),s=this._stage.getRenderer().getChildren().length;if(r%60===0){let o="fps: "+this.getFps()+", frame: "+r+", drawCalls: "+i+", quads: "+s,a=this._context;a.beginPath(),a.fillStyle="black",a.fillRect(0,0,this.width,this.height),a.fill(),a.font="20px Arial",a.fillStyle="red",a.fillText(o,0,Math.round(this.height/2)),a.closePath()}};let e=i5.default.create();this.width=e.width=450,this.height=e.height=50,this.texture=new n5.default("stats_texture",new r5.default(e),0,0,e.width,e.height),this.texture.data.isDynamic=!0,this._context=this.texture.source.getContext("2d")}getStage(){return this._stage}setStage(e){this.stop(),this._stage=e}start(){this._stage!==null&&this._stage.subscribe(II.StageEvent.ENTER_FRAME,this._enterFrame),this._monitoring=!0}stop(){this._stage!==null&&this._stage.unsubscribe(II.StageEvent.ENTER_FRAME,this._enterFrame),this._monitoring=!1}getFps(){return this._monitoring?Math.round(1e3/this._elapsedTime):-1}};kg.default=Lg});var SI=D(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});var s5=io(),TI=ju(),Vg=class extends s5.default{constructor(){super()}getRevertWorldMatrix(){return TI.default.getRevertWorldMatrix(this.worldMatrix)}getBounds(){return TI.default.getBoundingRect(this)}};jg.default=Vg});var OI=D(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.Camera=ct.Stats=ct.StageEvent=ct.Stage=ct.DisplayObjectContainer=ct.DisplayObject=ct.AnimationEvent=ct.Animation=void 0;var AI=xI();ct.Animation=AI.default;Object.defineProperty(ct,"AnimationEvent",{enumerable:!0,get:function(){return AI.AnimationEvent}});var o5=io();ct.DisplayObject=o5.default;var a5=Va();ct.DisplayObjectContainer=a5.default;var RI=Og();ct.Stage=RI.default;Object.defineProperty(ct,"StageEvent",{enumerable:!0,get:function(){return RI.StageEvent}});var l5=MI();ct.Stats=l5.default;var c5=SI();ct.Camera=c5.default});var NI=D(PI=>{"use strict";Object.defineProperty(PI,"__esModule",{value:!0})});var LI=D(FI=>{"use strict";Object.defineProperty(FI,"__esModule",{value:!0})});var kI=D(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.Canvas2DRenderer=void 0;var u5=Bu();Yu.Canvas2DRenderer=u5.default});var Wu=D(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.createIndexArray=de.createVertexArray=de.pushVerticesInto=de.VERTEX_ARRAY_SIZE=de.MAX_QUAD_PER_CALL=de.MAX_TEXTURES_UNITS=de.NUM_VERTICES_PER_QUAD=de.INDICES_PER_QUAD=de.VERTEX_SIZE=void 0;var d5=Hu();function f5(t){let e=d5.CanvasUtils.create().getContext("webgl");return e.getParameter(e[t])}de.VERTEX_SIZE=12;de.INDICES_PER_QUAD=6;de.NUM_VERTICES_PER_QUAD=4;de.MAX_TEXTURES_UNITS=f5("MAX_TEXTURE_IMAGE_UNITS");de.MAX_QUAD_PER_CALL=Math.floor(65535/de.INDICES_PER_QUAD);de.VERTEX_ARRAY_SIZE=de.MAX_QUAD_PER_CALL*de.NUM_VERTICES_PER_QUAD*de.VERTEX_SIZE;function VI(t,e){let n=0,r=null,i=0,s=0,o=0,a=0,l=0,c=0,u=0,d=null,f=0,h=0,m=null,p=0;for(let g=0;g<t.length;g++)d=t[g],u=d.texture.data.texturePos,r=d.worldMatrix,f=d.width,h=d.height,m=d.texture,p=d.worldOpacity,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],e[n+0]=0,e[n+1]=0,e[n+2]=m.topLeftUv.u,e[n+3]=m.topLeftUv.v,e[n+4]=i,e[n+5]=s,e[n+6]=o,e[n+7]=a,e[n+8]=l,e[n+9]=c,e[n+10]=p,e[n+11]=u,e[n+12]=f,e[n+13]=0,e[n+14]=m.topRightUv.u,e[n+15]=m.topRightUv.v,e[n+16]=i,e[n+17]=s,e[n+18]=o,e[n+19]=a,e[n+20]=l,e[n+21]=c,e[n+22]=p,e[n+23]=u,e[n+24]=0,e[n+25]=h,e[n+26]=m.bottomLeftUv.u,e[n+27]=m.bottomLeftUv.v,e[n+28]=i,e[n+29]=s,e[n+30]=o,e[n+31]=a,e[n+32]=l,e[n+33]=c,e[n+34]=p,e[n+35]=u,e[n+36]=f,e[n+37]=h,e[n+38]=m.bottomRightUv.u,e[n+39]=m.bottomRightUv.v,e[n+40]=i,e[n+41]=s,e[n+42]=o,e[n+43]=a,e[n+44]=l,e[n+45]=c,e[n+46]=p,e[n+47]=u,n+=48}de.pushVerticesInto=VI;function jI(){return new Float32Array(de.MAX_QUAD_PER_CALL*de.VERTEX_SIZE*de.NUM_VERTICES_PER_QUAD)}de.createVertexArray=jI;function BI(){let t=de.MAX_QUAD_PER_CALL*de.INDICES_PER_QUAD,e=new Uint16Array(t),n=0;for(let r=0;r<t;r+=de.INDICES_PER_QUAD)e[r+0]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+1,e[r+4]=n+2,e[r+5]=n+3,n+=de.NUM_VERTICES_PER_QUAD;return e}de.createIndexArray=BI;var vn=class{};de.default=vn;vn.VERTEX_SIZE=de.VERTEX_SIZE;vn.NUM_VERTICES_PER_QUAD=de.NUM_VERTICES_PER_QUAD;vn.MAX_TEXTURES_UNITS=de.MAX_TEXTURES_UNITS;vn.MAX_QUAD_PER_CALL=de.MAX_QUAD_PER_CALL;vn.VERTEX_ARRAY_SIZE=de.VERTEX_ARRAY_SIZE;vn.INDICES_PER_QUAD=de.INDICES_PER_QUAD;vn.pushVerticesInto=VI;vn.createVertexArray=jI;vn.createIndexArray=BI});var Hg=D(Ug=>{"use strict";Object.defineProperty(Ug,"__esModule",{value:!0});var Qu=Wu(),Bg=class{constructor(e){this.id=0,this.fragmentShader=null,this.vertexShader=null,this.program=null,this.projectionPointer=0,this._init(e)}_init(e){let n=0,r=0,i=0,s=0,o=0,a=0,l=0,c=0,u=Qu.default.VERTEX_SIZE*4;if(this.fragmentShader=this._compile(e,this._getFragmentSource(),e.FRAGMENT_SHADER),this.vertexShader=this._compile(e,this._getVertexSource(),e.VERTEX_SHADER),this.program!=null&&e.deleteProgram(this.program),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),e.linkProgram(this.program),!e.getProgramParameter(this.program,e.LINK_STATUS))throw new Error("Could not initialise shaders");e.useProgram(this.program),r=e.getAttribLocation(this.program,"worldOpacity"),n=e.getAttribLocation(this.program,"vertexPos"),s=e.getAttribLocation(this.program,"uvCoords"),o=e.getAttribLocation(this.program,"wmat1"),a=e.getAttribLocation(this.program,"wmat2"),i=e.getAttribLocation(this.program,"texturePos"),e.enableVertexAttribArray(i),e.enableVertexAttribArray(r),e.enableVertexAttribArray(n),e.enableVertexAttribArray(s),e.enableVertexAttribArray(o),e.enableVertexAttribArray(a),e.vertexAttribPointer(n,2,e.FLOAT,!1,u,0),e.vertexAttribPointer(s,2,e.FLOAT,!1,u,2*4),e.vertexAttribPointer(o,4,e.FLOAT,!1,u,4*4),e.vertexAttribPointer(a,2,e.FLOAT,!1,u,8*4),e.vertexAttribPointer(r,1,e.FLOAT,!1,u,10*4),e.vertexAttribPointer(i,1,e.FLOAT,!1,u,11*4),l=e.getUniformLocation(this.program,"uSamplers"),c=e.getUniformLocation(this.program,"uProjection");let d=[];for(let f=0;f<Qu.default.MAX_TEXTURES_UNITS;f++)d.push(f);e.uniform1iv(l,d),this.projectionPointer=c}_compile(e,n,r){let i=e.createShader(r);if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new Error(n+"*********"+e.getShaderInfoLog(i));return i}_getVertexSource(){return`
		attribute vec2 vertexPos;
		attribute vec2 uvCoords;
		attribute vec4 wmat1;
		attribute vec2 wmat2;
		attribute float worldOpacity;
		attribute float texturePos;
		varying float textureIndex;
		varying vec4 vColor;
		varying vec2 uvs;
		uniform vec2 uProjection;
		const vec3 center = vec3(-1.0, 1.0, 0);



		void main(void) {

			mat3 worldMatrix = mat3(
				vec3(wmat1.x, wmat1.z, wmat2.x),
				vec3(wmat1.y, wmat1.w, wmat2.y),
				vec3(0.0, 0.0, 1.0)
			);

			vec3 tmp = vec3( vertexPos, 1.0) * worldMatrix;
			gl_Position = vec4((tmp / vec3(uProjection,1)) + center, 1.0);

			uvs = uvCoords;
			textureIndex = texturePos;

			vColor = vec4(1.0, 1.0, 1.0, worldOpacity);

		}
        `}_getFragmentSource(){let e="";for(let n=0;n<Qu.default.MAX_TEXTURES_UNITS;n++)n>0&&(e+="else "),e+=`if(index == ${n}){
				gl_FragColor = texture2D(uSamplers[${n}], uvs) * vColor.a;
			}`;return`
		#define numTextures ${Qu.default.MAX_TEXTURES_UNITS}

		precision lowp float;
		varying vec4 vColor;
		varying vec2 uvs;
		varying float textureIndex;
		uniform sampler2D uSamplers[numTextures];
        
		void main(void) {
			int index = int(textureIndex);
			${e}
		}
        `}};Ug.default=Bg});var Gg=D(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});var $g=class t{constructor(){this.subBatches=[],this.objects=[],this.uids=new Set,this.datas=new Set}static create(e,n){let r=[new t],i=r[0],s=0;for(let o=0;o<e.length;o++){let a=e[o],l=a.texture.textureUid;i.uids.has(l)||(i.uids.size>=n&&(i.objects=e.slice(s,o),s=o,i=new t,r.push(i)),i.uids.add(l),i.datas.add(a.texture.data))}return i.objects=e.slice(s),r.filter(o=>o.objects.length>0)}};zg.default=$g});var Wg=D(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});var qg=class{constructor(){this._textureChannel=[],this._context=null}reset(e,n){this._context=e,this._textureChannel=[];for(let r=0;r<n;r++)this._textureChannel.push({pos:r,id:this._context["TEXTURE"+r],data:null})}hasEmptyChannels(){return this.getEmptyChannels().length>0}getEmptyChannels(){return this._textureChannel.filter(e=>e.data===null)}getNonEmptyChannels(){return this._textureChannel.filter(e=>e.data!==null)}getChannelByUid(e){return this._textureChannel.find(n=>n.data===null?!1:n.data.uid===e)||null}getChannels(){return this._textureChannel}getNonEmptyChannelsMappedByUid(){let e=new Map;return this.getNonEmptyChannels().forEach(n=>{e.set(n.data.uid,n)}),e}getChannelAt(e){return this._textureChannel[e]||null}isChannelEmptyAt(e){return this.getChannelAt(e).data===null}fillChannelAt(e,n){let r=this.getChannelAt(e);if(r===null)return!1;try{r.data=n,r.data.texturePos=e,this._context.activeTexture(r.id),this._context.bindTexture(this._context.TEXTURE_2D,n.getGlTexture(this._context))}catch(i){return console.log(i),!1}return!0}};Yg.default=qg});var Xg=D(Zg=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0});var Qg=class t{constructor(){this.subBatches=[],this.full=!1,this.objects=[]}static create(e,n){let r=[];for(;e.length>0;){let i=new t;i.objects=e.splice(0,n),i.full=i.objects.length>=n,r.push(i)}return r.filter(i=>i.objects.length>0)}};Zg.default=Qg});var UI=D(Jg=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});var h5=Hg(),Hi=Wu(),p5=Jr(),m5=Gg(),g5=Wg(),_5=Xg(),Kg=class{constructor(){this._children=[],this._drawCalls=0,this._init()}_init(){this._canvas=p5.default.create(),this._context=this._canvas.getContext("webgl"),this._vertexArray=Hi.default.createVertexArray(),this._indexArray=Hi.default.createIndexArray(),this._vertexBuffer=this._context.createBuffer(),this._indexBuffer=this._context.createBuffer(),this._context.bindBuffer(this._context.ARRAY_BUFFER,this._vertexBuffer),this._context.bufferData(this._context.ARRAY_BUFFER,this._vertexArray,this._context.DYNAMIC_DRAW),this._context.bindBuffer(this._context.ELEMENT_ARRAY_BUFFER,this._indexBuffer),this._context.bufferData(this._context.ELEMENT_ARRAY_BUFFER,this._indexArray,this._context.STATIC_DRAW),this._currentShader=new h5.default(this._context),this._context.disable(this._context.DEPTH_TEST),this._context.disable(this._context.CULL_FACE),this._context.blendFunc(this._context.ONE,this._context.ONE_MINUS_SRC_ALPHA),this._context.enable(this._context.BLEND)}add(e){this._children.push(e)}getNumDrawCalls(){return this._drawCalls}getCanvas(){return this._canvas}getContext(){return this._context}getChildren(){return this._children}setChildren(e){this._children=e}clear(){this._children=[]}draw(e,n){let r=e.width/2,i=-e.height/2;n.uniform2f(this._currentShader.projectionPointer,r,i),n.clearColor(0,0,0,1),n.viewport(0,0,e.width,e.height),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT);let s=new g5.default,o=this.batch(this._children);this._drawCalls=0,o.forEach(a=>{s.reset(n,Hi.default.MAX_TEXTURES_UNITS),Array.from(a.datas).forEach((l,c)=>{s.fillChannelAt(c,l)}),a.subBatches.forEach(l=>{Hi.default.pushVerticesInto(l.objects,this._vertexArray),n.bufferSubData(n.ARRAY_BUFFER,0,this._vertexArray),n.drawElements(n.TRIANGLES,l.objects.length*Hi.default.INDICES_PER_QUAD,n.UNSIGNED_SHORT,0),this._drawCalls++})})}batch(e){let n=m5.default.create(e.filter(r=>r.texture!==null),Hi.default.MAX_TEXTURES_UNITS);return n.forEach(r=>{r.subBatches=_5.default.create(r.objects,Hi.default.MAX_QUAD_PER_CALL)}),n}};Jg.default=Kg});var HI=D(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.pushVerticesInto=Pe.createVertexArray=Pe.createIndexArray=Pe.VERTEX_SIZE=Pe.VERTEX_ARRAY_SIZE=Pe.NUM_VERTICES_PER_QUAD=Pe.MAX_QUAD_PER_CALL=Pe.INDICES_PER_QUAD=Pe.TextureDataManager=Pe.WebGlConfig=Pe.Webgl2DRenderer=Pe.Default2DShader=void 0;var v5=Hg();Pe.Default2DShader=v5.default;var y5=UI();Pe.Webgl2DRenderer=y5.default;var C5=Wg();Pe.TextureDataManager=C5.default;var Er=Wu();Pe.WebGlConfig=Er.default;Object.defineProperty(Pe,"INDICES_PER_QUAD",{enumerable:!0,get:function(){return Er.INDICES_PER_QUAD}});Object.defineProperty(Pe,"MAX_QUAD_PER_CALL",{enumerable:!0,get:function(){return Er.MAX_QUAD_PER_CALL}});Object.defineProperty(Pe,"NUM_VERTICES_PER_QUAD",{enumerable:!0,get:function(){return Er.NUM_VERTICES_PER_QUAD}});Object.defineProperty(Pe,"VERTEX_ARRAY_SIZE",{enumerable:!0,get:function(){return Er.VERTEX_ARRAY_SIZE}});Object.defineProperty(Pe,"VERTEX_SIZE",{enumerable:!0,get:function(){return Er.VERTEX_SIZE}});Object.defineProperty(Pe,"createIndexArray",{enumerable:!0,get:function(){return Er.createIndexArray}});Object.defineProperty(Pe,"createVertexArray",{enumerable:!0,get:function(){return Er.createVertexArray}});Object.defineProperty(Pe,"pushVerticesInto",{enumerable:!0,get:function(){return Er.pushVerticesInto}})});var $I=D(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.BatchDrawCall=ao.BatchTexture=void 0;var E5=Xg();ao.BatchDrawCall=E5.default;var w5=Gg();ao.BatchTexture=w5.default});var n_=D(t_=>{"use strict";Object.defineProperty(t_,"__esModule",{value:!0});var e_=class t{constructor(){this.data=null}isEmpty(){return this.data===null}_partialClone(){let e=new t;return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}splitRight(e){if(e>=this.width)return null;let n=this._partialClone();return n.x+=e,n.width-=e,this.width=e,n}splitLeft(e){if(e>=this.width)return null;let n=this._partialClone();return this.x+=e,this.width-=e,n.width=e,n}splitBottom(e){if(e>=this.height)return null;let n=this._partialClone();return n.y+=e,n.height-=e,this.height=e,n}splitTop(e){if(e>=this.height)return null;let n=this._partialClone();return this.y+=e,this.height-=e,n.height=e,n}getArea(){return this.width*this.height}canContain(e,n){return e<=this.width&&n<=this.height}};t_.default=e_});var GI=D(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});var D5=qu(),x5=Jr(),zI=Uu(),b5=n_(),r_=class{constructor(e,n,r=[]){this._width=0,this._height=0,this._zones=[],this._textures=[],this._textureData=null,this._reset(e,n,r)}_sortZonesByAreaAsc(e,n){return e.getArea()>n.getArea()?-1:1}_sortSourcesByAreaAsc(e,n){let r=e.source.width*e.source.height,i=n.source.width*n.source.height;return r>i?-1:1}_drawTextures(){let e=x5.default.create(this._width,this._height),n=D5.default.createFromSource("main",e),i=n.data.getSource().getContext("2d"),s=this.getZones().filter(a=>!a.isEmpty()),o=s.map(a=>({id:a.data.id,sx:a.x,sy:a.y,sw:a.width,sh:a.height}));return s.forEach(a=>{i.save(),i.drawImage(a.data.source,a.x,a.y,a.width,a.height),i.restore()}),this._textureData=n.data,n.createSubTextures(o)}_addSource(e){let n=this._findFreeZoneFor(e.source);if(n===null)return!1;let r=null,i=null;return e.source.width>e.source.height?(r=n.splitBottom(e.source.height),i=n.splitRight(e.source.width)):(i=n.splitRight(e.source.width),r=n.splitBottom(e.source.height)),n.data=e,i!==null&&i.getArea()>0&&this._zones.push(i),r!==null&&r.getArea()>0&&this._zones.push(r),!0}_findFreeZoneFor(e){return this._zones.sort(this._sortZonesByAreaAsc),this._zones.find(n=>n.canContain(e.width,e.height)&&n.isEmpty())||null}_reset(e,n,r){this._width=zI.default.getNextPowerOf2(e),this._height=zI.default.getNextPowerOf2(n);let i=new b5.default;i.x=0,i.y=0,i.width=this._width,i.height=this._height,i.data=null,this._zones=[i],r.sort(this._sortSourcesByAreaAsc),r.forEach(s=>{this._addSource(s)}),this._textures=this._drawTextures()}getTextureData(){return this._textureData}getTextures(){return this._textures}getZones(){return this._zones}getWidth(){return this._width}getHeight(){return this._height}};i_.default=r_});var qI=D(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.Zone=er.TextureData=er.Texture=er.Spritesheet=void 0;var I5=GI();er.Spritesheet=I5.default;var M5=qu();er.Texture=M5.default;var T5=Gu();er.TextureData=T5.default;var S5=n_();er.Zone=S5.default});var YI=D(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});var s_=class t{constructor(){this._map=[],this._numRows=0,this._numCols=0}reset(e,n){this._numRows=e,this._numCols=n,this._map=[];for(let r=0;r<e;r++){let i=[];for(let s=0;s<n;s++)i.push(null);this._map.push(i)}}destroy(){this._map=[],this._numRows=0,this._numCols=0}getNeighbours(e,n){return{topLeft:this.getTopLeft(e,n),top:this.getTop(e,n),topRight:this.getTopRight(e,n),left:this.getLeft(e,n),center:this.getAt(e,n),right:this.getRight(e,n),bottomLeft:this.getBottomLeft(e,n),bottom:this.getBottom(e,n),bottomRight:this.getBottomRight(e,n)}}getLeft(e,n){return this.getAt(e,n-1)}getRight(e,n){return this.getAt(e,n+1)}getBottom(e,n){return this.getAt(e+1,n)}getBottomLeft(e,n){return this.getAt(e+1,n-1)}getBottomRight(e,n){return this.getAt(e+1,n+1)}getTop(e,n){return this.getAt(e-1,n)}getTopLeft(e,n){return this.getAt(e-1,n-1)}getTopRight(e,n){return this.getAt(e-1,n+1)}getAt(e,n){return this.isOutOfBounds(e,n)?null:this._map[e][n]}addAt(e,n,r){this.isOutOfBounds(e,n)||(this._map[e][n]=r)}removeAt(e,n){this.isOutOfBounds(e,n)||(this._map[e][n]=null)}isOutOfBounds(e,n){return e>this.numRows-1||n>this.numCols-1||e<0||n<0}forEach(e){for(let n=0;n<this.numRows;n++)for(let r=0;r<this.numCols;r++)e(this._map[n][r],n,r)}map(e){let n=[];for(let r=0;r<this.numRows;r++){n[r]=[];for(let i=0;i<this.numCols;i++)n[r][i]=e(this._map[r][i],r,i)}return t.from(n)}extract(e,n,r,i){let s=[];n=n>this.numRows-1?this.numRows-1:n,i=i>this.numCols-1?this.numCols-1:i,e=e<0?0:e,r=r<0?0:r;for(let o=e;o<=n;o++){let a=[];for(let l=r;l<=i;l++)a.push(this.getAt(o,l));s.push(a)}return t.from(s)}get numCols(){return this._numCols}get numRows(){return this._numRows}get data(){return this._map}static from(e){let n=new t,r=e.length,i=e[0]?.length||0;n.reset(r,i);for(let s=0;s<r;s++)for(let o=0;o<i;o++)n.addAt(s,o,e[s][o]);return n}};o_.default=s_});var WI=D(l_=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});var a_=class t{constructor(){this._map=[],this._numRows=0,this._numCols=0,this._numLayers=0}reset(e,n,r){this._numRows=e,this._numCols=n,this._numLayers=r,this._map=[];for(let i=0;i<r;i++){let s=[];this._map.push(s);for(let o=0;o<e;o++){let a=[];s.push(a);for(let l=0;l<n;l++)a.push(null)}}}destroy(){this._map=[],this._numRows=0,this._numCols=0,this._numLayers=0}getAt(e,n,r){return this.isOutOfBounds(e,n,r)?null:this._map[r][e][n]}addAt(e,n,r,i){this.isOutOfBounds(e,n,r)||(this._map[r][e][n]=i)}removeAt(e,n,r){this.isOutOfBounds(e,n,r)||(this._map[r][e][n]=null)}isOutOfBounds(e,n,r){return e>this.numRows-1||n>this.numCols-1||r>this.numLayers-1||r<0||e<0||n<0}forEach(e){for(let n=0;n<this.numLayers;n++)for(let r=0;r<this.numRows;r++)for(let i=0;i<this.numCols;i++)e(this._map[n][r][i],r,i,n)}getNeighbours(e,n,r){return{topLeftFront:this.getTopLeftFront(e,n,r),topFront:this.getTopFront(e,n,r),topRightFront:this.getTopRightFront(e,n,r),leftFront:this.getLeftFront(e,n,r),centerFront:this.getFront(e,n,r),rightFront:this.getRightFront(e,n,r),bottomLeftFront:this.getBottomLeftFront(e,n,r),bottomFront:this.getBottomFront(e,n,r),bottomRightFront:this.getBottomRightFront(e,n,r),topLeftBack:this.getTopLeftBack(e,n,r),topBack:this.getTopBack(e,n,r),topRightBack:this.getTopRightBack(e,n,r),leftBack:this.getLeftBack(e,n,r),centerBack:this.getBack(e,n,r),rightBack:this.getRightBack(e,n,r),bottomLeftBack:this.getBottomLeftBack(e,n,r),bottomBack:this.getBottomBack(e,n,r),bottomRightBack:this.getBottomRightBack(e,n,r),topLeft:this.getTopLeft(e,n,r),top:this.getTop(e,n,r),topRight:this.getTopRight(e,n,r),left:this.getLeft(e,n,r),center:this.getAt(e,n,r),right:this.getRight(e,n,r),bottomLeft:this.getBottomLeft(e,n,r),bottom:this.getBottom(e,n,r),bottomRight:this.getBottomRight(e,n,r)}}getLeftFront(e,n,r){return this.getAt(e,n-1,r-1)}getRightFront(e,n,r){return this.getAt(e,n+1,r-1)}getBottomFront(e,n,r){return this.getAt(e+1,n,r-1)}getBottomLeftFront(e,n,r){return this.getAt(e+1,n-1,r-1)}getBottomRightFront(e,n,r){return this.getAt(e+1,n+1,r-1)}getTopFront(e,n,r){return this.getAt(e-1,n,r-1)}getTopLeftFront(e,n,r){return this.getAt(e-1,n-1,r-1)}getTopRightFront(e,n,r){return this.getAt(e-1,n+1,r-1)}getFront(e,n,r){return this.getAt(e,n,r-1)}getBack(e,n,r){return this.getAt(e,n,r+1)}getLeftBack(e,n,r){return this.getAt(e,n-1,r+1)}getRightBack(e,n,r){return this.getAt(e,n+1,r+1)}getBottomBack(e,n,r){return this.getAt(e+1,n,r+1)}getBottomLeftBack(e,n,r){return this.getAt(e+1,n-1,r+1)}getBottomRightBack(e,n,r){return this.getAt(e+1,n+1,r+1)}getTopBack(e,n,r){return this.getAt(e-1,n,r+1)}getTopLeftBack(e,n,r){return this.getAt(e-1,n-1,r+1)}getTopRightBack(e,n,r){return this.getAt(e-1,n+1,r+1)}getLeft(e,n,r){return this.getAt(e,n-1,r)}getRight(e,n,r){return this.getAt(e,n+1,r)}getBottom(e,n,r){return this.getAt(e+1,n,r)}getBottomLeft(e,n,r){return this.getAt(e+1,n-1,r)}getBottomRight(e,n,r){return this.getAt(e+1,n+1,r)}getTop(e,n,r){return this.getAt(e-1,n,r)}getTopLeft(e,n,r){return this.getAt(e-1,n-1,r)}getTopRight(e,n,r){return this.getAt(e-1,n+1,r)}map(e){let n=[];for(let r=0;r<this.numLayers;r++){n[r]=[];for(let i=0;i<this.numRows;i++){n[r][i]=[];for(let s=0;s<this.numCols;s++)n[r][i][s]=e(this._map[r][i][s],i,s,r)}}return t.from(n)}extract(e,n,r,i,s,o){let a=[];o=o>this.numLayers-1?this.numLayers-1:o,n=n>this.numRows-1?this.numRows-1:n,i=i>this.numCols-1?this.numCols-1:i,e=e<0?0:e,r=r<0?0:r,s=s<0?0:s;for(let l=s;l<=o;l++){let c=[];for(let u=e;u<=n;u++){let d=[];for(let f=r;f<=i;f++)d.push(this.getAt(u,f,l));c.push(d)}a.push(c)}return t.from(a)}static from(e){let n=new t,r=e.length,i=e[0]?.length||0,s=e[0]?.[0]?.length||0;n.reset(i,s,r);for(let o=0;o<r;o++)for(let a=0;a<i;a++)for(let l=0;l<s;l++)n.addAt(a,l,o,e[o][a][l]);return n}get numLayers(){return this._numLayers}get numCols(){return this._numCols}get numRows(){return this._numRows}get data(){return this._map}};l_.default=a_});var co=D(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.Grid3D=lo.Grid2D=void 0;var A5=YI();lo.Grid2D=A5.default;var R5=WI();lo.Grid3D=R5.default});var d_=D(u_=>{"use strict";Object.defineProperty(u_,"__esModule",{value:!0});var c_=class{constructor(){this.id="",this.state={}}};u_.default=c_});var uo=D(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.GameNode=void 0;var O5=d_();Zu.GameNode=O5.default});var Xu=D(f_=>{"use strict";Object.defineProperty(f_,"__esModule",{value:!0});var QI=function(t){return t.WALL="WALL",t.FREE="FREE",t.BLOCK="BLOCK",t}(QI||{});f_.default=QI});var ZI=D(p_=>{"use strict";Object.defineProperty(p_,"__esModule",{value:!0});var P5=co(),N5=uo(),fo=Xu(),h_=class{constructor(){this._grid=null,this._currentRow=0,this._currentCol=0}reset(e,n,r,i){this._pathCoords=[],this._grid=new P5.Grid2D,this._grid.reset(e,n),this._currentRow=r,this._currentCol=i,this._grid.forEach((s,o,a)=>{let l=new N5.GameNode;l.state.type=o%2==0||a%2==0?fo.default.WALL:fo.default.BLOCK,this._grid.addAt(o,a,l)})}getRows(){return this._grid.numRows}getCols(){return this._grid.numCols}getCurrentNode(){return this._grid.getAt(this._currentRow,this._currentCol)}getData(){return this._grid.data}isFinished(){return this._currentRow===null&&this._currentCol===null}finalize(){for(;!this.isFinished();)this.step()}step(){if(this.isFinished())return;let e=this._grid,n=this._pathCoords,r=this._currentRow,i=this._currentCol;e.getAt(r,i).state.type=fo.default.FREE;let s=[{wall:this._grid.getLeft(r,i),target:this._grid.getLeft(r,i-1),row:r,col:i-2},{wall:this._grid.getRight(r,i),target:this._grid.getRight(r,i+1),row:r,col:i+2},{wall:this._grid.getTop(r,i),target:this._grid.getTop(r-1,i),row:r-2,col:i},{wall:this._grid.getBottom(r,i),target:this._grid.getBottom(r+1,i),row:r+2,col:i}].filter(o=>o.wall!==null&&o.target!==null&&o.target.state.type===fo.default.BLOCK);if(s.length>0){let o=Math.round(Math.random()*(s.length-1)),a=s[o];a.wall.state.type=fo.default.FREE,a.target.state.type=fo.default.FREE,n.push([r,i]),this._currentRow=a.row,this._currentCol=a.col}else if(n.length>0){let o=n.pop();this._currentRow=o[0],this._currentCol=o[1]}else this._currentRow=null,this._currentCol=null}};p_.default=h_});var XI=D(g_=>{"use strict";Object.defineProperty(g_,"__esModule",{value:!0});var F5=co(),L5=uo(),ho=Xu(),m_=class{constructor(){this._grid=null,this._currentRow=0,this._currentCol=0,this._currentLayer=0}reset(e,n,r,i,s,o){this._pathCoords=[],this._grid=new F5.Grid3D,this._grid.reset(e,n,r),this._currentRow=i,this._currentCol=s,this._currentLayer=o,this._grid.forEach((a,l,c,u)=>{let d=new L5.GameNode;d.state.type=l%2==0||c%2==0||u%2==0?ho.default.WALL:ho.default.BLOCK,this._grid.addAt(l,c,u,d)})}getRows(){return this._grid.numRows}getCols(){return this._grid.numCols}getLayers(){return this._grid.numLayers}getCurrentNode(){return this._grid.getAt(this._currentRow,this._currentCol,this._currentLayer)}getData(){return this._grid.data}isFinished(){return this._currentRow===null&&this._currentCol===null&&this._currentLayer===null}finalize(){for(;!this.isFinished();)this.step()}step(){if(this.isFinished())return;let e=this._grid,n=this._pathCoords,r=this._currentRow,i=this._currentCol,s=this._currentLayer;e.getAt(r,i,s).state.type=ho.default.FREE;let o=[{wall:this._grid.getAt(r,i-1,s),target:this._grid.getAt(r,i-2,s),row:r,col:i-2,layer:s},{wall:this._grid.getAt(r,i+1,s),target:this._grid.getAt(r,i+2,s),row:r,col:i+2,layer:s},{wall:this._grid.getAt(r-1,i,s),target:this._grid.getAt(r-2,i,s),row:r-2,col:i,layer:s},{wall:this._grid.getAt(r+1,i,s),target:this._grid.getAt(r+2,i,s),row:r+2,col:i,layer:s},{wall:this._grid.getAt(r,i,s-1),target:this._grid.getAt(r,i,s-2),row:r,col:i,layer:s-2},{wall:this._grid.getAt(r,i,s+1),target:this._grid.getAt(r,i,s+2),row:r,col:i,layer:s+2}].filter(a=>a.wall!==null&&a.target!==null&&a.target.state.type===ho.default.BLOCK);if(o.length>0){let a=Math.round(Math.random()*(o.length-1)),l=o[a];l.wall.state.type=ho.default.FREE,l.target.state.type=ho.default.FREE,n.push([r,i,s]),this._currentRow=l.row,this._currentCol=l.col,this._currentLayer=l.layer}else if(n.length>0){let a=n.pop();this._currentRow=a[0],this._currentCol=a[1],this._currentLayer=a[2]}else this._currentRow=null,this._currentCol=null,this._currentLayer=null}};g_.default=m_});var KI=D($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.NODE_DISTANCE_VALUE=void 0;var k5=co(),V5=uo(),__=class{constructor(){this.opened=[],this.closed=[]}createGraphe(e,n){let r=new k5.Grid2D;return r.reset(e.numRows,e.numCols),e.forEach((i,s,o)=>{let a=new V5.GameNode;a.state.row=s,a.state.col=o,a.state.g=0,a.state.f=0,a.state.h=0,a.state.walkable=i===n,a.state.parent=null,r.addAt(s,o,a)}),r}resetGraphe(e){this.opened=new Array,this.closed=new Array,e.forEach((n,r,i)=>{n&&(n.state.row=r,n.state.col=i,n.state.g=0,n.state.f=0,n.state.h=0,n.state.parent=null)})}findPath(e,n,r,i=!1){this.opened=new Array,this.closed=new Array,this._addToOpenList(n);let s=!0;for(;s;){if(this.opened.sort((u,d)=>u.state.f<d.state.f?-1:1),this.opened.length===0||this.opened[0]===r){s=!1;break}let a=this.opened[0];this._addToCloseList(a);let l=[e.getLeft(a.state.row,a.state.col),e.getRight(a.state.row,a.state.col),e.getTop(a.state.row,a.state.col),e.getBottom(a.state.row,a.state.col)];i&&l.push(e.getTopLeft(a.state.row,a.state.col),e.getTopRight(a.state.row,a.state.col),e.getBottomLeft(a.state.row,a.state.col),e.getBottomRight(a.state.row,a.state.col)),l.filter(u=>u!==null).forEach(u=>{if(this._isOnCloseList(u)||!u.state||!u.state.walkable)return;let d=this._isOnOpenList(u),f=a.state.g+$i.NODE_DISTANCE_VALUE,h=(Math.abs(r.state.row-u.state.row)+Math.abs(r.state.col-u.state.col))*$i.NODE_DISTANCE_VALUE,m=h+f;(d&&f<u.state.g||!d)&&(u.state.parent=a,u.state.g=f,u.state.h=h,u.state.f=m,d||this._addToOpenList(u))})}let o=[];if(this.opened.length>0){let a=r;for(;a!=n;)o.unshift(a),a=a.state.parent;o.unshift(n)}return o}_addToCloseList(e){let n=this.opened.indexOf(e);n>-1&&this.opened.splice(n,1),this.closed.push(e)}_addToOpenList(e){let n=this.closed.indexOf(e);n>-1&&this.closed.splice(n,1),this.opened.push(e)}_isOnOpenList(e){return this.opened.indexOf(e)>-1}_isOnCloseList(e){return this.closed.indexOf(e)>-1}};$i.default=__;$i.NODE_DISTANCE_VALUE=10});var JI=D(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.NODE_DISTANCE_VALUE=void 0;var j5=co(),B5=uo(),v_=class{constructor(){this.opened=[],this.closed=[]}createGraphe(e,n){let r=new j5.Grid3D;return r.reset(e.numRows,e.numCols,e.numLayers),e.forEach((i,s,o,a)=>{let l=new B5.GameNode;l.state.row=s,l.state.col=o,l.state.layer=a,l.state.g=0,l.state.f=0,l.state.h=0,l.state.walkable=i===n,l.state.parent=null,r.addAt(s,o,a,l)}),r}resetGraphe(e){this.opened=new Array,this.closed=new Array,e.forEach((n,r,i,s)=>{n&&(n.state.row=r,n.state.col=i,n.state.layer=s,n.state.g=0,n.state.f=0,n.state.h=0,n.state.parent=null)})}findPath(e,n,r,i=!1){this.opened=new Array,this.closed=new Array,this._addToOpenList(n);let s=!0;for(;s;){if(this.opened.sort((u,d)=>u.state.f<d.state.f?-1:1),this.opened.length===0||this.opened[0]===r){s=!1;break}let a=this.opened[0];this._addToCloseList(a);let l=[e.getLeft(a.state.row,a.state.col,a.state.layer),e.getRight(a.state.row,a.state.col,a.state.layer),e.getTop(a.state.row,a.state.col,a.state.layer),e.getBottom(a.state.row,a.state.col,a.state.layer),e.getBack(a.state.row,a.state.col,a.state.layer),e.getFront(a.state.row,a.state.col,a.state.layer)];i&&l.push(e.getTopLeftBack(a.state.row,a.state.col,a.state.layer),e.getTopRightBack(a.state.row,a.state.col,a.state.layer),e.getBottomLeftBack(a.state.row,a.state.col,a.state.layer),e.getBottomRightBack(a.state.row,a.state.col,a.state.layer),e.getTopLeftFront(a.state.row,a.state.col,a.state.layer),e.getTopRightFront(a.state.row,a.state.col,a.state.layer),e.getBottomLeftFront(a.state.row,a.state.col,a.state.layer),e.getBottomRightFront(a.state.row,a.state.col,a.state.layer),e.getTopLeft(a.state.row,a.state.col,a.state.layer),e.getTopRight(a.state.row,a.state.col,a.state.layer),e.getBottomLeft(a.state.row,a.state.col,a.state.layer),e.getBottomRight(a.state.row,a.state.col,a.state.layer)),l.filter(u=>u!==null).forEach(u=>{if(this._isOnCloseList(u)||!u.state||!u.state.walkable)return;let d=this._isOnOpenList(u),f=a.state.g+zi.NODE_DISTANCE_VALUE,h=(Math.abs(r.state.row-u.state.row)+Math.abs(r.state.col-u.state.col)+Math.abs(r.state.layer-u.state.layer))*zi.NODE_DISTANCE_VALUE,m=h+f;(d&&f<u.state.g||!d)&&(u.state.parent=a,u.state.g=f,u.state.h=h,u.state.f=m,d||this._addToOpenList(u))})}let o=[];if(this.opened.length>0){let a=r;for(;a!=n;)o.unshift(a),a=a.state.parent;o.unshift(n)}return o}_addToCloseList(e){let n=this.opened.indexOf(e);n>-1&&this.opened.splice(n,1),this.closed.push(e)}_addToOpenList(e){let n=this.closed.indexOf(e);n>-1&&this.closed.splice(n,1),this.opened.push(e)}_isOnOpenList(e){return this.opened.indexOf(e)>-1}_isOnCloseList(e){return this.closed.indexOf(e)>-1}};zi.default=v_;zi.NODE_DISTANCE_VALUE=10});var eM=D(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.PathFinder3D=yn.PathFinder2D=yn.MazeNodeType=yn.Maze3D=yn.Maze2D=void 0;var U5=ZI();yn.Maze2D=U5.default;var H5=XI();yn.Maze3D=H5.default;var $5=Xu();yn.MazeNodeType=$5.default;var z5=KI();yn.PathFinder2D=z5.default;var G5=JI();yn.PathFinder3D=G5.default});var tM=D(y_=>{"use strict";Object.defineProperty(y_,"__esModule",{value:!0});var q5=yr(),Ku=class extends q5.Emitter{constructor(){super(...arguments),this._states=[],this._current=null,this._timestamp=0}setTime(e){this._timestamp=e;let n=this.getCurrentState();if(n===null||n.onCompleteAction===null)return;let r=n.duration||0,i=n.lockDuration||0,s=Math.max(r,i);this.getElapsedTime()<s||this.emit("ON_COMPLETE_ACTION",n.onCompleteAction)}getTime(){return this._timestamp}addState(e){this._states.push(e)}removeState(e){this._states.splice(this._states.indexOf(e),1)}reset(){this._current=null,this._states=[]}hasState(e){return this.getStateById(e)!==null}getStateById(e){return this._states.find(n=>n.id===e)||null}getElapsedTime(){let e=this.getCurrentState();return e===null?-1:this._timestamp-e.startTime}dispatch(e){let n=this.getCurrentState();if(n===null||this._timestamp-n.startTime<n.lockDuration)return;let i=n.actions.find(o=>o.name===e)||null;if(i===null)return;let s=this.getStateById(i.target);s!==n&&(this.setCurrentState(s),this.emit("CHANGE_STATE",s))}getCurrentState(){return this._current||null}setCurrentState(e){this.hasState(e.id)||this.addState(e),e.startTime=this._timestamp,this._current=e}getStates(){return this._states}};y_.default=Ku;Ku.ON_COMPLETE_ACTION="ON_COMPLETE_ACTION"});var nM=D(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.FiniteStateMachine=void 0;var Y5=tM();Ju.FiniteStateMachine=Y5.default});var rM=D(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});var C_=class t{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i}toString(){return"[x:"+this.x+",y:"+this.y+",width:"+this.width+",height:"+this.height+"]"}collideBox(e){return this.collidePoint(e.x,e.y)||this.collidePoint(e.x+e.width,e.y)||this.collidePoint(e.x,e.y+e.height)||this.collidePoint(e.x+e.width,e.y+e.height)||e.collidePoint(this.x,this.y)||e.collidePoint(this.x+this.width,this.y)||e.collidePoint(this.x,this.y+this.height)||e.collidePoint(this.x+this.width,this.y+this.height)}collidePoint(e,n){return!(e<this.x||n<this.y||e>this.x+this.width||n>this.y+this.height)}getMidX(){return this.x+this.width/2}getMidY(){return this.y+this.height/2}splitVertical(){return[new t(this.x,this.y,this.width/2,this.height),new t(this.getMidX(),this.y,this.width/2,this.height)]}splitHorizontal(){return[new t(this.x,this.y,this.width,this.height/2),new t(this.x,this.getMidY(),this.width,this.height/2)]}};E_.default=C_});var iM=D(D_=>{"use strict";Object.defineProperty(D_,"__esModule",{value:!0});var w_=class t{constructor(e,n){this.box=e,this.axis=n}search(e,n,r=[]){if(e.getPartitionMethod().box.collideBox(n)){if(e.getLeft()!==null)e.getLeft().search(n,r),e.getRight().search(n,r);else{let o=e.getChildren(),a=o.length;for(let l=0;l<a;l++)o[l].collideBox(n)&&r.push(o[l])}return r}}split(e){let n=[],r=[],i=e.length,s=this.box.getMidX(),o=this.box.getMidY();for(let d=0;d<i;d++){let f=e[d];this.axis==="x"?f.x>=s?r.push(f):n.push(f):f.y>=o?r.push(f):n.push(f)}let a=this.axis==="x"?this.box.splitVertical():this.box.splitHorizontal(),l=this.axis==="x"?"y":"x",c=new t(a[0],l),u=new t(a[1],l);return{left:n,right:r,leftFunction:c,rightFunction:u}}};D_.default=w_});var sM=D(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});var x_=class t{constructor(e,n,r,i){this._maxChildren=e,this._depth=n,this._maxDepth=r,this._partitionMethod=i,this.parent=null,this._left=null,this._right=null,this._children=[],this.reset()}search(...e){return this._partitionMethod.search(this,...e)}reset(){this._children=[],this._left=null,this._right=null}createSubNodes(){let e=this._partitionMethod.split(this.getChildren());this._left=new t(this._maxChildren,this._depth+1,this._maxDepth,e.leftFunction),this._right=new t(this._maxChildren,this._depth+1,this._maxDepth,e.rightFunction),e.left.forEach(this._left.addChild.bind(this._left)),e.right.forEach(this._right.addChild.bind(this._right)),this._left.parent=this,this._right.parent=this,this._children=[]}getChildren(){return this._children}addChild(e){if(this._children.length>=this._maxChildren&&this._depth<this._maxDepth&&this.createSubNodes(),this._left===null&&this._right===null)this._children.push(e);else{let n=this._partitionMethod.split([e]);n.left.length>0&&this._left.addChild(n.left[0]),n.right.length>0&&this._right.addChild(n.right[0])}}getPartitionMethod(){return this._partitionMethod}getLeft(){return this._left}getRight(){return this._right}getDepth(){return this._depth}setDepth(e){this._depth=e}};b_.default=x_});var oM=D(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.Partition2D=ei.BoundingBox=ei.PartitionTreeNode=void 0;var W5=rM();ei.BoundingBox=W5.default;var Q5=iM();ei.Partition2D=Q5.default;var Z5=sM();ei.PartitionTreeNode=Z5.default});var aM=D(M_=>{"use strict";Object.defineProperty(M_,"__esModule",{value:!0});var I_=class{constructor(){this._maxWeight=0,this._maxItems=0,this._items=[],this.reset(0,0)}reset(e,n){this.maxWeight=n,this.maxItems=e,this._items=[]}add(e){return this.remainingSpace>0&&this.remainingWeight>=e.weight?(this._items.push(e),!0):!1}getAllByCategory(e){return this._items.filter(n=>n.category===e)}getAllCategories(){let e=this._items.map(r=>r.category),n=new Set(e);return Array.from(n)}getAllGroupByCategory(){return this.getAllCategories().map(n=>({category:n,items:this.getAllByCategory(n)}))}remove(e){let n=this._items.indexOf(e);return n>-1?(this._items.splice(n,1),e):null}contains(e){return this._items.indexOf(e)>-1}get remainingSpace(){return this.maxItems-this._items.length}get totalWeight(){let e=0;for(let n of this._items)e+=n.weight;return e}get numItems(){return this._items.length}get remainingWeight(){return this.maxWeight-this.totalWeight}get maxWeight(){return this._maxWeight}set maxWeight(e){this._maxWeight=e<0?0:e}get maxItems(){return this._maxItems}set maxItems(e){this._maxItems=e<0?0:e}};M_.default=I_});var lM=D(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.Inventory=void 0;var X5=aM();ed.Inventory=X5.default});var td=D(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.isoSort=ti.isoToScreen=ti.screenToIso=void 0;function K5(t,e,n,r){let i={row:0,col:0},s=e/r,o=t/n;return i.col=s+o,i.row=s-o,i}ti.screenToIso=K5;function J5(t,e,n,r){let i=(e-t)*(n*.5),s=(e+t)*(r*.5);return{x:i>>0,y:s>>0}}ti.isoToScreen=J5;function e$(t,e){return!t.isoNode||!e.isoNode?-1:t.isoNode.isoY===e.isoNode.isoY?t.isoNode.isoZ<e.isoNode.isoZ?-1:1:t.isoNode.isoY<e.isoNode.isoY?-1:1}ti.isoSort=e$});var A_=D(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});var cM=td(),t$=d_(),T_=class extends t$.default{constructor(){super(...arguments),this.isoX=0,this.isoY=0,this.isoZ=0,this.row=0,this.col=0,this.cellWidth=64,this.cellHeight=32,this.width=64,this.height=64}get offsetY(){return this.height-this.cellHeight}get offsetX(){return this.width-this.cellWidth>>1}resetRowAndColFromCoordinates(){let e=cM.screenToIso(this.isoX,this.isoY,this.cellWidth,this.cellHeight);this.col=e.col,this.row=e.row}resetCoordinatesFromRowAndCol(){let e=cM.isoToScreen(this.row,this.col,this.cellWidth,this.cellHeight);this.isoX=e.x,this.isoY=e.y,this.isoZ=0}};S_.default=T_});var uM=D(R_=>{"use strict";Object.defineProperty(R_,"__esModule",{value:!0});var n$=A_();function r$(t){return class extends t{constructor(...e){super(...e),this.isoNode=new n$.default}syncWithNode(){this.isoNode!==null&&(this.y=this.isoNode.isoY-this.isoNode.isoZ-this.isoNode.offsetY,this.x=this.isoNode.isoX-this.isoNode.offsetX)}}}R_.default=r$});var dM=D(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.makeIsometric=void 0;var i$=uM();nd.makeIsometric=i$.default});var fM=D(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.IsoNode=void 0;var s$=A_();rd.IsoNode=s$.default});var hM=D(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.screenToIso=ni.isoToScreen=ni.isoSort=void 0;var O_=td();Object.defineProperty(ni,"isoSort",{enumerable:!0,get:function(){return O_.isoSort}});Object.defineProperty(ni,"isoToScreen",{enumerable:!0,get:function(){return O_.isoToScreen}});Object.defineProperty(ni,"screenToIso",{enumerable:!0,get:function(){return O_.screenToIso}})});var pM=D(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0});var o$=Va(),a$=td(),P_=class extends o$.default{constructor(){super(...arguments),this.sortAuto=!1}sort(){this.getChildren().sort(a$.isoSort)}render(e){this.sortAuto&&this.sort(),super.render(e)}};N_.default=P_});var mM=D(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.IsoMap=void 0;var l$=pM();id.IsoMap=l$.default});var nt=D(Te=>{"use strict";var c$=Te&&Te.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Xe=Te&&Te.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&c$(e,t,n)};Object.defineProperty(Te,"__esModule",{value:!0});Xe(yb(),Te);Xe(CI(),Te);Xe(OI(),Te);Xe(NI(),Te);Xe(LI(),Te);Xe(kI(),Te);Xe(HI(),Te);Xe($I(),Te);Xe(qI(),Te);Xe(Hu(),Te);Xe(yr(),Te);Xe(eM(),Te);Xe(nM(),Te);Xe(uo(),Te);Xe(co(),Te);Xe(oM(),Te);Xe(lM(),Te);Xe(dM(),Te);Xe(fM(),Te);Xe(hM(),Te);Xe(mM(),Te);var u$=(La(),il(Fa));u$.glMatrix.setMatrixArrayType(Array)});var Rd=D(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.rootContainer=void 0;var Ad=class{constructor(){this.reset()}resolve(e){return this._map.has(e)?this._singleton.has(e)?(this._singleton.get(e)===null&&this._singleton.set(e,this._map.get(e).call(null)),this._singleton.get(e)):this._map.get(e).call(null):null}reset(){this._map=new Map,this._singleton=new Map}register(e,n,r=!1){this._map.delete(e),this._singleton.delete(e),this._map.set(e,n),r&&this._singleton.set(e,null)}get(e){return this._map.get(e)||null}};Ja.default=Ad;Ja.rootContainer=new Ad});var IT=D(S0=>{"use strict";Object.defineProperty(S0,"__esModule",{value:!0});var qz=Rd();function Yz(t){let e=t.container||qz.rootContainer,n=t.singleton||!1;return function(r){e.register(t.token,()=>new r,n)}}S0.default=Yz});var MT=D(A0=>{"use strict";Object.defineProperty(A0,"__esModule",{value:!0});var Wz=Rd();function Qz(t,e=null){return e!==null?e.resolve(t):Wz.rootContainer.resolve(t)}A0.default=Qz});var P0=D(O0=>{"use strict";Object.defineProperty(O0,"__esModule",{value:!0});var R0=class{constructor(){this._state=null}setState(e){this._state=e}getState(){return this._state}resetState(){this._state=null}};O0.default=R0});var TT=D(F0=>{"use strict";Object.defineProperty(F0,"__esModule",{value:!0});var N0=class{constructor(){this._facade=null}setFacade(e){this._facade=e}getFacade(){return this._facade}};F0.default=N0});var ST=D(k0=>{"use strict";Object.defineProperty(k0,"__esModule",{value:!0});var Zz=P0(),L0=class extends Zz.default{constructor(){super(...arguments),this._old=null}setState(e){let n=V(V({},this._state),e);this._old=this._state,this._state=n,this.deepFreeze(this._state)}getState(){return this._state}getPrevState(){return this._old}resetState(){this._state=null,this._old=null}updated(){let e=this._state!==this._old;return this._state=this._old,e}deepFreeze(e){return Object.freeze(e)}};k0.default=L0});var AT=D(j0=>{"use strict";Object.defineProperty(j0,"__esModule",{value:!0});var V0=class{constructor(){this._facade=null}setFacade(e){this._facade=e}getFacade(){return this._facade}};j0.default=V0});var RT=D(U0=>{"use strict";Object.defineProperty(U0,"__esModule",{value:!0});var Xz=yr(),B0=class extends Xz.Emitter{constructor(){super(...arguments),this._proxies=new Map,this._mediators=new Map,this._services=new Map,this.sendNotification=(e,n={})=>{this.emit(e,n)},this.query=(e,n={})=>this.emit(e,n,!0).then(i=>i.length===1?i.shift():i)}registerCommand(e,n){this.subscribe(e,r=>n.call(null).execute(r))}registerProxy(e,n){n.setFacade(this),this._proxies.set(e,n)}registerMediator(e,n){n.setFacade(this),this._mediators.set(e,n)}registerService(e,n){this._services.set(e,n)}getService(e){return this._services.get(e)||null}getProxy(e){return this._proxies.get(e)||null}getMediator(e){return this._mediators.get(e)||null}};U0.default=B0});var OT=D($0=>{"use strict";Object.defineProperty($0,"__esModule",{value:!0});var H0=class{constructor(){this._config=null}load(e){this._config!==null&&(this._config.proxies.forEach(n=>{e.registerProxy(n.key,n.instance)}),this._config.mediators.forEach(n=>{e.registerMediator(n.key,n.instance)}),this._config.services.forEach(n=>{e.registerService(n.key,n.instance)}),this._config.commands.forEach(n=>{e.registerCommand(n.key,n.factory)}))}getConfiguration(){return this._config}configure(e){this._config=e}};$0.default=H0});var ss=D(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.resolve=rt.Injectable=rt.CoffeeModule=rt.Facade=rt.Mediator=rt.StoreModel=rt.Proxy=rt.Model=rt.Container=void 0;var Kz=Rd();rt.Container=Kz.default;var Jz=IT();rt.Injectable=Jz.default;var eG=MT();rt.resolve=eG.default;var tG=P0();rt.Model=tG.default;var nG=TT();rt.Proxy=nG.default;var rG=ST();rt.StoreModel=rG.default;var iG=AT();rt.Mediator=iG.default;var sG=RT();rt.Facade=sG.default;var oG=OT();rt.CoffeeModule=oG.default});var Yt=D(z0=>{"use strict";Object.defineProperty(z0,"__esModule",{value:!0});var We=class{};z0.default=We;We.APP_FACADE="AppFacade";We.GAME_STORE_MODEL="GameStoreModel";We.FIGHT="Fight";We.GAME_OVER="GameOver";We.REMOVE_WINNERS="RemoveWinners";We.MOVE_FIGHTERS="MoveFighters";We.REMOVE_DEAD_FIGHTERS="RemoveDeadFighters";We.SET_FIGHTERS_PATH="SetFightersPath";We.CREATE_BATTLEFIELD="CreateBattleField";We.SPAWN_NEW_FIGHTERS="SpawnNewFighters";We.SEARCH_FOR_ENNEMIES="SearchForEnnemies";We.DO_CYCLE="DoCycle";We.BATTLEFIELD_REPOSITORY="BattleFieldRepository";We.FIGHTER_FACTORY="FighterFactory";We.SPAWNER_FACTORY="SpawnerFactory";We.BATTLEFIELD_FACTORY="BattleFieldFactory";We.PATH_SERVICE="PathService";We.UID_SERVICE="UIDService";We.SERIALIZER_SERVICE="SerializerService"});var PT=D(q0=>{"use strict";Object.defineProperty(q0,"__esModule",{value:!0});var G0=class{constructor(){this.ids=new Map}reset(){this.ids=new Map}createUID(e="no_category",n=-1){this.ids.has(e)||this.ids.set(e,[]);let r=this.ids.get(e),i=Math.max(...r,0),s=n>i+1?n:i+1;return r.push(s),s}};q0.default=G0});var NT=D(W0=>{"use strict";Object.defineProperty(W0,"__esModule",{value:!0});var Y0=class{constructor(e,n,r,i,s,o,a,l,c,u,d,f=0,h=0,m=null,p=[]){this.id=e,this.tplID=n,this.name=r,this.speed=i,this.radius=s,this.phyAtk=o,this.phyDef=a,this.magAtk=l,this.magDef=c,this.hp=u,this.hpMax=d,this.row=f,this.col=h,this.enemy=m,this.path=p}};W0.default=Y0});var FT=D(Z0=>{"use strict";Object.defineProperty(Z0,"__esModule",{value:!0});var aG=NT(),Q0=class{constructor(e){this._uidService=e,this.fromData=this.fromData.bind(this)}fromData(e){let n=this._uidService.createUID("fighters",e.id);return new aG.default(n,e.tplID,e.name,e.speed,e.radius,e.phyAtk,e.phyDef,e.magAtk,e.magDef,e.hp,e.hp)}};Z0.default=Q0});var LT=D(K0=>{"use strict";Object.defineProperty(K0,"__esModule",{value:!0});var X0=class{constructor(e,n,r,i,s,o,a){this.id=e,this.name=n,this.ownerID=r,this.row=i,this.col=s,this.frequency=o,this.fighters=a}};K0.default=X0});var kT=D(ev=>{"use strict";Object.defineProperty(ev,"__esModule",{value:!0});var lG=LT(),J0=class{constructor(e,n){this._uidService=e,this._fighterFactory=n,this.fromData=this.fromData.bind(this)}fromData(e){let n=this._uidService.createUID("spawners",e.id),r=e.fighters.flatMap(s=>{let o=[];for(let a=0;a<s.amount;a++){let l=this._fighterFactory.fromData(s.desc);l.active=!1,l.row=e.row,l.col=e.col,o.push(l)}return o});return new lG.default(n,e.name,e.ownerID,e.row,e.col,e.frequency,r)}};ev.default=J0});var VT=D(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0});var cG=ss(),tv=class extends cG.Proxy{constructor(e,n){super(),this._state=e,this._key=n,this.reset()}reset(){let e={};e[this._key]=new Array,this._state.setState(e)}add(e){let n=this.getAll();n.push(e);let r={};r[this._key]=n,this._state.setState(r)}remove(e){let n=this.getAll();n.splice(n.indexOf(e),1);let r={};r[this._key]=n,this._state.setState(r)}getAllBy(e,n){return this.getAll().filter(r=>r[e]===n)}getOneBy(e,n){return this.getAll().find(r=>r[e]===n)||null}getAll(){return this._state.getState()[this._key]}};nv.default=tv});var jT=D(iv=>{"use strict";Object.defineProperty(iv,"__esModule",{value:!0});var uG=VT(),rv=class extends uG.default{};iv.default=rv});var BT=D(ov=>{"use strict";Object.defineProperty(ov,"__esModule",{value:!0});var sv=class t{constructor(){this._map=[],this._numRows=0,this._numCols=0}reset(e,n){this._numRows=e,this._numCols=n,this._map=[];for(let r=0;r<e;r++){let i=[];for(let s=0;s<n;s++)i.push(null);this._map.push(i)}}destroy(){this._map=[],this._numRows=0,this._numCols=0}getNeighbours(e,n){return{topLeft:this.getTopLeft(e,n),top:this.getTop(e,n),topRight:this.getTopRight(e,n),left:this.getLeft(e,n),center:this.getAt(e,n),right:this.getRight(e,n),bottomLeft:this.getBottomLeft(e,n),bottom:this.getBottom(e,n),bottomRight:this.getBottomRight(e,n)}}getLeft(e,n){return this.getAt(e,n-1)}getRight(e,n){return this.getAt(e,n+1)}getBottom(e,n){return this.getAt(e+1,n)}getBottomLeft(e,n){return this.getAt(e+1,n-1)}getBottomRight(e,n){return this.getAt(e+1,n+1)}getTop(e,n){return this.getAt(e-1,n)}getTopLeft(e,n){return this.getAt(e-1,n-1)}getTopRight(e,n){return this.getAt(e-1,n+1)}getAt(e,n){return this.isOutOfBounds(e,n)?null:this._map[e][n]}addAt(e,n,r){this.isOutOfBounds(e,n)||(this._map[e][n]=r)}removeAt(e,n){this.isOutOfBounds(e,n)||(this._map[e][n]=null)}isOutOfBounds(e,n){return e>this.numRows-1||n>this.numCols-1||e<0||n<0}forEach(e){for(let n=0;n<this.numRows;n++)for(let r=0;r<this.numCols;r++)e(this._map[n][r],n,r)}map(e){let n=[];for(let r=0;r<this.numRows;r++){n[r]=[];for(let i=0;i<this.numCols;i++)n[r][i]=e(this._map[r][i],r,i)}return t.from(n)}extract(e,n,r,i){let s=[];n=n>this.numRows-1?this.numRows-1:n,i=i>this.numCols-1?this.numCols-1:i,e=e<0?0:e,r=r<0?0:r;for(let o=e;o<=n;o++){let a=[];for(let l=r;l<=i;l++)a.push(this.getAt(o,l));s.push(a)}return t.from(s)}get numCols(){return this._numCols}get numRows(){return this._numRows}get data(){return this._map}static from(e){let n=new t,r=e.length,i=e.length==0?0:e[0].length;n.reset(r,i);for(let s=0;s<r;s++)for(let o=0;o<i;o++)n.addAt(s,o,e[s][o]);return n}};ov.default=sv});var Pd=D(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.Grid2D=void 0;var dG=BT();Od.Grid2D=dG.default});var UT=D(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0});var av=class{constructor(){this.id="",this.state={}}};lv.default=av});var cv=D(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.GameNode=void 0;var fG=UT();Nd.GameNode=fG.default});var dv=D(uv=>{"use strict";Object.defineProperty(uv,"__esModule",{value:!0});var HT=function(t){return t.WALL="WALL",t.FREE="FREE",t.BLOCK="BLOCK",t}(HT||{});uv.default=HT});var $T=D(hv=>{"use strict";Object.defineProperty(hv,"__esModule",{value:!0});var hG=Pd(),pG=cv(),bo=dv(),fv=class{constructor(){this._grid=null,this._currentRow=0,this._currentCol=0}reset(e,n,r,i){this._pathCoords=[],this._grid=new hG.Grid2D,this._grid.reset(e,n),this._currentRow=r,this._currentCol=i,this._grid.forEach((s,o,a)=>{let l=new pG.GameNode;l.state.type=o%2==0||a%2==0?bo.default.WALL:bo.default.BLOCK,this._grid.addAt(o,a,l)})}getRows(){return this._grid.numRows}getCols(){return this._grid.numCols}getCurrentNode(){return this._grid.getAt(this._currentRow,this._currentCol)}getData(){return this._grid.data}isFinished(){return this._currentRow===null&&this._currentCol===null}finalize(){for(;!this.isFinished();)this.step()}step(){if(this.isFinished())return;let e=this._grid,n=this._pathCoords,r=this._currentRow,i=this._currentCol;e.getAt(r,i).state.type=bo.default.FREE;let s=[{wall:this._grid.getLeft(r,i),target:this._grid.getLeft(r,i-1),row:r,col:i-2},{wall:this._grid.getRight(r,i),target:this._grid.getRight(r,i+1),row:r,col:i+2},{wall:this._grid.getTop(r,i),target:this._grid.getTop(r-1,i),row:r-2,col:i},{wall:this._grid.getBottom(r,i),target:this._grid.getBottom(r+1,i),row:r+2,col:i}].filter(o=>o.wall!==null&&o.target!==null&&o.target.state.type===bo.default.BLOCK);if(s.length>0){let o=Math.round(Math.random()*(s.length-1)),a=s[o];a.wall.state.type=bo.default.FREE,a.target.state.type=bo.default.FREE,n.push([r,i]),this._currentRow=a.row,this._currentCol=a.col}else if(n.length>0){let o=n.pop();this._currentRow=o[0],this._currentCol=o[1]}else this._currentRow=null,this._currentCol=null}};hv.default=fv});var zT=D(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.NODE_DISTANCE_VALUE=void 0;var mG=Pd(),gG=cv(),pv=class{constructor(){this.opened=[],this.closed=[]}createGraphe(e,n){let r=new mG.Grid2D;return r.reset(e.numRows,e.numCols),e.forEach((i,s,o)=>{let a=new gG.GameNode;a.state.row=s,a.state.col=o,a.state.g=0,a.state.f=0,a.state.h=0,a.state.walkable=i===n,a.state.parent=null,r.addAt(s,o,a)}),r}resetGraphe(e){this.opened=new Array,this.closed=new Array,e.forEach((n,r,i)=>{n&&(n.state.row=r,n.state.col=i,n.state.g=0,n.state.f=0,n.state.h=0,n.state.parent=null)})}findPath(e,n,r,i=!1){this.opened=new Array,this.closed=new Array,this._addToOpenList(n);let s=!0;for(;s;){if(this.opened.sort((u,d)=>u.state.f<d.state.f?-1:1),this.opened.length===0||this.opened[0]===r){s=!1;break}let a=this.opened[0];this._addToCloseList(a);let l=[e.getLeft(a.state.row,a.state.col),e.getRight(a.state.row,a.state.col),e.getTop(a.state.row,a.state.col),e.getBottom(a.state.row,a.state.col)];i&&l.push(e.getTopLeft(a.state.row,a.state.col),e.getTopRight(a.state.row,a.state.col),e.getBottomLeft(a.state.row,a.state.col),e.getBottomRight(a.state.row,a.state.col)),l.filter(u=>u!==null).forEach(u=>{if(this._isOnCloseList(u)||!u.state||!u.state.walkable)return;let d=this._isOnOpenList(u),f=a.state.g+os.NODE_DISTANCE_VALUE,h=(Math.abs(r.state.row-u.state.row)+Math.abs(r.state.col-u.state.col))*os.NODE_DISTANCE_VALUE,m=h+f;(d&&f<u.state.g||!d)&&(u.state.parent=a,u.state.g=f,u.state.h=h,u.state.f=m,d||this._addToOpenList(u))})}let o=[];if(this.opened.length>0){let a=r;for(;a!=n;)o.unshift(a),a=a.state.parent;o.unshift(n)}return o}_addToCloseList(e){let n=this.opened.indexOf(e);n>-1&&this.opened.splice(n,1),this.closed.push(e)}_addToOpenList(e){let n=this.closed.indexOf(e);n>-1&&this.closed.splice(n,1),this.opened.push(e)}_isOnOpenList(e){return this.opened.indexOf(e)>-1}_isOnCloseList(e){return this.closed.indexOf(e)>-1}};os.default=pv;os.NODE_DISTANCE_VALUE=10});var mv=D(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.PathFinder2D=mi.MazeNodeType=mi.Maze2D=void 0;var _G=$T();mi.Maze2D=_G.default;var vG=dv();mi.MazeNodeType=vG.default;var yG=zT();mi.PathFinder2D=yG.default});var GT=D(_v=>{"use strict";Object.defineProperty(_v,"__esModule",{value:!0});var gv=class{constructor(e,n,r,i,s,o,a,l,c,u,d=[],f=[],h=[],m=[],p=[]){this.id=e,this.name=n,this.attackerID=r,this.defenderID=i,this.atkSpawners=s,this.dfdSpawners=o,this.door=a,this.targetRow=l,this.targetCol=c,this.grid=u,this.attackers=d,this.defenders=f,this.winners=h,this.deadDefenders=m,this.deadAttackers=p}};_v.default=gv});var qT=D(yv=>{"use strict";Object.defineProperty(yv,"__esModule",{value:!0});var CG=Pd(),EG=mv(),wG=GT(),vv=class{constructor(e,n,r){this._uidService=e,this._spawnerFactory=n,this._fighterFactory=r,this.fromData=this.fromData.bind(this)}fromData(e){let n=this._uidService.createUID("battlefields",e.id),r=e.atkSpawners.map(this._spawnerFactory.fromData),i=e.dfdSpawners.map(this._spawnerFactory.fromData),s=this._fighterFactory.fromData(e.door),a=new EG.PathFinder2D().createGraphe(CG.Grid2D.from(e.grid),0);return s.row=e.targetRow,s.col=e.targetCol,new wG.default(n,e.name,e.attackerID,e.defenderID,r,i,s,e.targetRow,e.targetCol,a,[],[s])}};yv.default=vv});var Ev=D(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});var YT=function(t){return t.TO_THE_DOOR="TO_THE_DOOR",t.TO_THE_CLOSEST_ENEMY="TO_THE_CLOSEST_ENEMY",t}(YT||{});Cv.default=YT});var xv=D(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0});var wv=class{static getInRadius(e,n,r,i){let s=[],o=n-i<0?0:n-i,a=r-i<0?0:r-i,l=n+i+1>e.numRows?e.numRows:n+i+1,c=r+i+1>e.numCols?e.numCols:r+i+1;for(let u=o;u<l;u++)for(let d=a;d<c;d++)u===n&&d===r||s.push(e.getAt(u,d));return s}static getEnnemiesInRadius(e,n,r,i){let s=n-i,o=r-i,a=n+i,l=r+i;return e.filter(c=>!(c.col<o||c.col>l||c.row<s||c.row>a))}static getClosestEnemyIn(e,n,r){let i=1/0,s=null;for(let o=0;o<e.length;o++){let a=e[o].row-n,l=e[o].col-r,c=Math.sqrt(a*a+l*l);c<i&&(i=c,s=e[o])}return s}};Dv.default=wv});var WT=D(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});var DG=mv(),xG=Ev(),bG=xv(),bv=class{constructor(){this._pathfinder=new DG.PathFinder2D}getPathFinder(){return this._pathfinder}findPath(e,n,r){let i=n.grid.getAt(e.row,e.col),o=n.grid.getAt(n.door.row,n.door.col);if(r===xG.default.TO_THE_CLOSEST_ENEMY){let l=n.attackers.includes(e)?n.defenders:n.attackers,c=e.enemy!==null?e.enemy:bG.default.getClosestEnemyIn(l,e.row,e.col);if(c==null)return[];o=n.grid.getAt(c.row,c.col)}if(e.path.length>0){let l=e.path[e.path.length-1];if(l.state.row==o.state.row&&l.state.col==o.state.col){let c=e.path;return c[0].state.row==e.row&&c[0].state.col==e.col&&c.shift(),e.path}}this._pathfinder.resetGraphe(n.grid);let a=this._pathfinder.findPath(n.grid,i,o,!1);return a.length==0||a[0].state.row==e.row&&a[0].state.col==e.col&&a.shift(),a}};Iv.default=bv});var ZT=D(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});var QT=Yt(),Mv=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),i=n.getService(QT.default.BATTLEFIELD_FACTORY),s=n.getProxy(QT.default.BATTLEFIELD_REPOSITORY),o=i.fromData(r);return s.add(o),o}};Tv.default=Mv});var XT=D(Av=>{"use strict";Object.defineProperty(Av,"__esModule",{value:!0});var IG=Yt(),Sv=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),s=n.getProxy(IG.default.BATTLEFIELD_REPOSITORY).getOneBy("id",r.id);return s===null?!1:(s.atkSpawners.forEach(o=>{let a=r.numCycle%o.frequency!==0,l=o.fighters.length===0;a||l||s.attackers.push(o.fighters.shift())}),s.dfdSpawners.forEach(o=>{let a=r.numCycle%o.frequency!==0,l=o.fighters.length===0;a||l||s.defenders.push(o.fighters.shift())}),!0)}};Av.default=Sv});var KT=D(Ov=>{"use strict";Object.defineProperty(Ov,"__esModule",{value:!0});var MG=Yt(),Fd=xv(),Rv=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),s=n.getProxy(MG.default.BATTLEFIELD_REPOSITORY).getOneBy("id",r.id);return s===null?!1:(s.attackers.forEach(o=>{let a=Fd.default.getEnnemiesInRadius(s.defenders,o.row,o.col,o.radius);o.enemy=Fd.default.getClosestEnemyIn(a,o.row,o.col)}),s.defenders.forEach(o=>{let a=Fd.default.getEnnemiesInRadius(s.attackers,o.row,o.col,o.radius);o.enemy=Fd.default.getClosestEnemyIn(a,o.row,o.col)}),!0)}};Ov.default=Rv});var tS=D(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0});var JT=Yt(),eS=Ev(),Pv=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),i=n.getService(JT.default.PATH_SERVICE),o=n.getProxy(JT.default.BATTLEFIELD_REPOSITORY).getOneBy("id",r.id);return o===null?!1:(o.attackers.forEach(a=>{if(a.path.length>0){a.col==a.path[0].state.col&&a.row==a.path[0].state.row&&a.path.shift();return}a.path=i.findPath(a,o,eS.default.TO_THE_DOOR)}),o.defenders.forEach(a=>{a!==o.door&&(a.path=i.findPath(a,o,eS.default.TO_THE_CLOSEST_ENEMY))}),!0)}};Nv.default=Pv});var nS=D(Lv=>{"use strict";Object.defineProperty(Lv,"__esModule",{value:!0});var TG=Yt(),Fv=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),s=n.getProxy(TG.default.BATTLEFIELD_REPOSITORY).getOneBy("id",r.id);return s===null?!1:(s.attackers.forEach(o=>{if(o.path.length===0||o.enemy!==null)return;let a=Math.min(o.path.length-1,o.speed);o.row=o.path[a].state.row,o.col=o.path[a].state.col,o.path.splice(0,a)}),s.defenders.forEach(o=>{if(o.path.length===0||o.enemy!==null)return;let a=Math.min(o.path.length-1,o.speed);o.row=o.path[a].state.row,o.col=o.path[a].state.col,o.path.splice(0,a)}),!0)}};Lv.default=Fv});var rS=D(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0});var SG=Yt(),kv=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),s=n.getProxy(SG.default.BATTLEFIELD_REPOSITORY).getOneBy("id",r.id);return s===null?!1:(s.attackers.concat(s.defenders).forEach(a=>{if(!a.enemy)return;let l=Math.max(0,a.phyAtk-a.enemy.phyDef),u=Math.max(0,a.magAtk-a.enemy.magDef)+l;a.enemy.hp=Math.max(0,a.enemy.hp-u)}),!0)}};Vv.default=kv});var iS=D(Bv=>{"use strict";Object.defineProperty(Bv,"__esModule",{value:!0});var AG=Yt(),jv=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),s=n.getProxy(AG.default.BATTLEFIELD_REPOSITORY).getOneBy("id",r.id);return s===null?!1:(s.attackers.forEach(o=>{o.hp<=0&&(s.attackers.splice(s.attackers.indexOf(o),1),s.deadAttackers.push(o))}),s.defenders.forEach(o=>{o.hp<=0&&(s.defenders.splice(s.defenders.indexOf(o),1),s.deadDefenders.push(o))}),!0)}};Bv.default=jv});var sS=D(Hv=>{"use strict";Object.defineProperty(Hv,"__esModule",{value:!0});var RG=Yt(),Uv=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),s=n.getProxy(RG.default.BATTLEFIELD_REPOSITORY).getOneBy("id",r.id);return s===null?!1:(s.door.hp>0||s.defenders.includes(s.door)||s.attackers.forEach(o=>{o.row===s.targetRow&&o.col===s.targetCol&&(s.attackers.splice(s.attackers.indexOf(o),1),s.winners.push(o))}),!0)}};Hv.default=Uv});var oS=D(zv=>{"use strict";Object.defineProperty(zv,"__esModule",{value:!0});var OG=Yt(),$v=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),s=n.getProxy(OG.default.BATTLEFIELD_REPOSITORY).getOneBy("id",r.id),o={attackers:[],defenders:[],winners:[],attackerWins:!1,defenderWins:!1,gameover:!1,isDoorDead:!1,deadAttackers:[],deadDefenders:[]};if(s===null)return o;o.deadAttackers=s.deadAttackers,o.deadDefenders=s.deadDefenders,o.attackers=s.attackers,o.defenders=s.defenders,o.winners=s.winners;let a=s.atkSpawners.reduceRight((f,h,m)=>f+h.fighters.length,0),l=s.attackers.length+a,c=o.winners.length,d=!(s.defenders.includes(s.door)&&s.door.hp>0);return o.isDoorDead=d,l==0&&(o.gameover=!0,o.defenderWins=c==0,o.attackerWins=c>0),o}};zv.default=$v});var aS=D(qv=>{"use strict";Object.defineProperty(qv,"__esModule",{value:!0});var Sr=Yt(),Gv=class{execute(e){return F(this,null,function*(){let n=e.getEmitter(),r=e.getPayload(),s=n.getProxy(Sr.default.BATTLEFIELD_REPOSITORY).getOneBy("id",r.id),o=r.complete===!0,a=null;if(s===null)return!1;if(a=yield this._processCycle(n,s,r.numCycle),!o||a.gameover)return a;let l=0;for(;a.gameover==!1&&l<1e4;)l++,r.numCycle++,a=yield this._processCycle(n,s,r.numCycle);return a})}_processCycle(e,n,r){return F(this,null,function*(){return yield e.query(Sr.default.SPAWN_NEW_FIGHTERS,{id:n.id,numCycle:r}),yield e.query(Sr.default.SEARCH_FOR_ENNEMIES,{id:n.id}),yield e.query(Sr.default.SET_FIGHTERS_PATH,{id:n.id}),yield e.query(Sr.default.MOVE_FIGHTERS,{id:n.id}),yield e.query(Sr.default.FIGHT,{id:n.id}),yield e.query(Sr.default.REMOVE_DEAD_FIGHTERS,{id:n.id}),yield e.query(Sr.default.REMOVE_WINNERS,{id:n.id}),yield e.query(Sr.default.GAME_OVER,{id:n.id})})}};qv.default=Gv});var lS=D(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.DoCycleCommand=Qe.GameOverCommand=Qe.FightCommand=Qe.RemoveWinnersCommand=Qe.RemoveDeadFightersCommand=Qe.MoveFightersCommand=Qe.SetFightersPathCommand=Qe.SearchForEnnemiesCommand=Qe.SpawnNewFightersCommand=Qe.CreateBattleFieldCommand=void 0;var PG=ZT();Qe.CreateBattleFieldCommand=PG.default;var NG=XT();Qe.SpawnNewFightersCommand=NG.default;var FG=KT();Qe.SearchForEnnemiesCommand=FG.default;var LG=tS();Qe.SetFightersPathCommand=LG.default;var kG=nS();Qe.MoveFightersCommand=kG.default;var VG=rS();Qe.FightCommand=VG.default;var jG=iS();Qe.RemoveDeadFightersCommand=jG.default;var BG=sS();Qe.RemoveWinnersCommand=BG.default;var UG=oS();Qe.GameOverCommand=UG.default;var HG=aS();Qe.DoCycleCommand=HG.default});var uS=D(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.configFacade=Io.configIOC=void 0;var cS=ss(),H=Yt(),$G=PT(),zG=FT(),GG=kT(),qG=jT(),YG=qT(),WG=WT(),ar=lS();function QG(t){return t.reset(),t.register(H.default.APP_FACADE,()=>new cS.Facade,!0),t.register(H.default.DO_CYCLE,()=>new ar.DoCycleCommand,!1),t.register(H.default.GAME_OVER,()=>new ar.GameOverCommand,!1),t.register(H.default.FIGHT,()=>new ar.FightCommand,!1),t.register(H.default.REMOVE_WINNERS,()=>new ar.RemoveWinnersCommand,!1),t.register(H.default.REMOVE_DEAD_FIGHTERS,()=>new ar.RemoveDeadFightersCommand,!1),t.register(H.default.MOVE_FIGHTERS,()=>new ar.MoveFightersCommand,!1),t.register(H.default.SET_FIGHTERS_PATH,()=>new ar.SetFightersPathCommand,!1),t.register(H.default.CREATE_BATTLEFIELD,()=>new ar.CreateBattleFieldCommand,!1),t.register(H.default.SPAWN_NEW_FIGHTERS,()=>new ar.SpawnNewFightersCommand,!1),t.register(H.default.SEARCH_FOR_ENNEMIES,()=>new ar.SearchForEnnemiesCommand,!1),t.register(H.default.GAME_STORE_MODEL,()=>new cS.StoreModel,!0),t.register(H.default.BATTLEFIELD_REPOSITORY,()=>new qG.default(t.resolve(H.default.GAME_STORE_MODEL),"battlefields"),!0),t.register(H.default.FIGHTER_FACTORY,()=>new zG.default(t.resolve(H.default.UID_SERVICE)),!0),t.register(H.default.UID_SERVICE,()=>new $G.default,!0),t.register(H.default.PATH_SERVICE,()=>new WG.default,!0),t.register(H.default.SPAWNER_FACTORY,()=>new GG.default(t.resolve(H.default.UID_SERVICE),t.resolve(H.default.FIGHTER_FACTORY)),!0),t.register(H.default.BATTLEFIELD_FACTORY,()=>new YG.default(t.resolve(H.default.UID_SERVICE),t.resolve(H.default.SPAWNER_FACTORY),t.resolve(H.default.FIGHTER_FACTORY)),!0),t}Io.configIOC=QG;function ZG(t){let e=t.resolve(H.default.APP_FACADE);return e.registerCommand(H.default.DO_CYCLE,t.get(H.default.DO_CYCLE)),e.registerCommand(H.default.GAME_OVER,t.get(H.default.GAME_OVER)),e.registerCommand(H.default.FIGHT,t.get(H.default.FIGHT)),e.registerCommand(H.default.REMOVE_DEAD_FIGHTERS,t.get(H.default.REMOVE_DEAD_FIGHTERS)),e.registerCommand(H.default.MOVE_FIGHTERS,t.get(H.default.MOVE_FIGHTERS)),e.registerCommand(H.default.SET_FIGHTERS_PATH,t.get(H.default.SET_FIGHTERS_PATH)),e.registerCommand(H.default.CREATE_BATTLEFIELD,t.get(H.default.CREATE_BATTLEFIELD)),e.registerCommand(H.default.SPAWN_NEW_FIGHTERS,t.get(H.default.SPAWN_NEW_FIGHTERS)),e.registerCommand(H.default.SEARCH_FOR_ENNEMIES,t.get(H.default.SEARCH_FOR_ENNEMIES)),e.registerCommand(H.default.REMOVE_WINNERS,t.get(H.default.REMOVE_WINNERS)),e.registerProxy(H.default.BATTLEFIELD_REPOSITORY,t.resolve(H.default.BATTLEFIELD_REPOSITORY)),e.registerService(H.default.PATH_SERVICE,t.resolve(H.default.PATH_SERVICE)),e.registerService(H.default.UID_SERVICE,t.resolve(H.default.UID_SERVICE)),e.registerService(H.default.SERIALIZER_SERVICE,t.resolve(H.default.SERIALIZER_SERVICE)),e.registerService(H.default.FIGHTER_FACTORY,t.resolve(H.default.FIGHTER_FACTORY)),e.registerService(H.default.SPAWNER_FACTORY,t.resolve(H.default.SPAWNER_FACTORY)),e.registerService(H.default.BATTLEFIELD_FACTORY,t.resolve(H.default.BATTLEFIELD_FACTORY)),e}Io.configFacade=ZG});var dS=D(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.version=void 0;Ld.version="1.1.3"});var hS=D(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});var XG=yr(),as=Yt(),fS=uS(),KG=dS(),Yv=class extends XG.Emitter{constructor(){super()}reset(){let e=this._container.resolve(as.default.UID_SERVICE),n=this._container.resolve(as.default.BATTLEFIELD_REPOSITORY);e.reset(),n.reset()}init(e){e.reset(),fS.configIOC(e),fS.configFacade(e),this._facade=e.resolve(as.default.APP_FACADE),this._container=e,this.reset()}getVersion(){return KG.version}getFacade(){return this._facade}createBattleField(e){return this.getFacade().query(as.default.CREATE_BATTLEFIELD,e)}getBattleFields(){return this.getFacade().getProxy(as.default.BATTLEFIELD_REPOSITORY).getAll()}getBattleFieldByID(e){return this.getFacade().getProxy(as.default.BATTLEFIELD_REPOSITORY).getOneBy("id",e)}doCycle(e,n,r=!1){return this.getFacade().query(as.default.DO_CYCLE,{id:e,numCycle:n,complete:r})}};Wv.default=Yv});var gS=D((xte,mS)=>{"use strict";var JG=ss(),eq=hS(),tq=Yt(),pS=new eq.default,nq=new JG.Container;pS.init(nq);mS.exports={enginetowerIdleEngine:pS,consts:tq.default}});var Ze=D(Zv=>{"use strict";Object.defineProperty(Zv,"__esModule",{value:!0});var he=class{};Zv.default=he;he.APP_FACADE="AppFacade";he.GAME_STORE_MODEL="GameStoreModel";he.SET_BUILDING_FROZEN_STATUS="SetBuildingFrozenStatus";he.SELL_BUILDING="SellBuildingCommand";he.REMOVE_BUILDING_FROM_CITY="RemoveBuildingFromCityCommand";he.ADD_BUILDING_TO_CITY="AddBuildingToCityCommand";he.UPGRADE_BUILDING="UpgradeBuildingCommand";he.ADD_CITY="AddCityCommand";he.REMOVE_CITY="RemoveCityCommand";he.BUY_BUILDING="BuyBuildingCommand";he.CREATE_RESOURCES="CreateResourcesCommand";he.CREATE_CITIES="CreateCitiesCommand";he.CREATE_TEMPLATE_BUILDINGS="CreateTemplateBuildingsCommand";he.RESTORE_SAVED_DATA="RestoreSavedDataCommand";he.DO_CYCLE="DoCycleCommand";he.GET_CITY_QUERY="GetCityQuery";he.GET_CITIES_QUERY="GetCitiesQuery";he.GET_RESOURCES_QUERY="GetResourcesQuery";he.GET_TEMPLATES_BUILDINGS_QUERY="GetTemplateBuildingsQuery";he.SAVE_GAME_DATA_QUERY="SaveGameDataQuery";he.CITY_REPOSITORY="CityRepository";he.RESOURCE_REPOSITORY="ResourceRepository";he.TEMPLATE_BUILDING_REPOSITORY="TemplateBuildingRepository";he.BUILDING_FACTORY="BuildingFactory";he.CITY_FACTORY="CityFactory";he.RESOURCE_FACTORY="ResourceFactory";he.QUANTITY_FACTORY="QuantityFactory";he.QUANTITY_LIST_FACTORY="QuantityListFactory";he.BUILDING_LEVEL_FACTORY="BuildingLevelFactory";he.TEMPLATE_BUILDING_FACTORY="TemplateBuildingFactory";he.UID_SERVICE="UIDService";he.PAYMENT_SERVICE="PaymentService";he.SERIALIZER_SERVICE="SerializerService"});var yS=D(Jv=>{"use strict";Object.defineProperty(Jv,"__esModule",{value:!0});var Xv=Ze(),Kv=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),i=n.getProxy(Xv.default.TEMPLATE_BUILDING_REPOSITORY),s=n.getProxy(Xv.default.CITY_REPOSITORY),o=i.getOneBy("id",r.tplID),a=s.getOneBy("id",r.cityID);if(o===null||a===null)return!1;let l=n.getService(Xv.default.BUILDING_FACTORY);return a.buildings.push(l.fromData({tplID:o.id})),!0}};Jv.default=Kv});var ES=D(ty=>{"use strict";Object.defineProperty(ty,"__esModule",{value:!0});var CS=Ze(),ey=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),i=n.getProxy(CS.default.CITY_REPOSITORY),o=n.getService(CS.default.CITY_FACTORY).fromData(r);return i.add(o),o}};ty.default=ey});var DS=D(ry=>{"use strict";Object.defineProperty(ry,"__esModule",{value:!0});var wS=Ze(),ny=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),i=n.getProxy(wS.default.RESOURCE_REPOSITORY),s=n.getService(wS.default.RESOURCE_FACTORY);r.forEach(o=>{i.add(s.fromData(o))})}};ry.default=ny});var bS=D(sy=>{"use strict";Object.defineProperty(sy,"__esModule",{value:!0});var xS=Ze(),iy=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),i=n.getProxy(xS.default.TEMPLATE_BUILDING_REPOSITORY),s=n.getService(xS.default.TEMPLATE_BUILDING_FACTORY);r.forEach(o=>{i.add(s.fromData(o))})}};sy.default=iy});var el=D(ay=>{"use strict";Object.defineProperty(ay,"__esModule",{value:!0});var oy=class t{constructor(e=-1,n=0,r=0,i=1/0){this.resourceID=e,this._amount=n,this._min=r,this._max=i}clone(){return new t(this.resourceID,this.amount,this._min,this._max)}get amount(){return this._amount}set amount(e){this._amount=e<this._min?this._min:e>this._max?this._max:e}isFull(){return this._amount>=this._max}};ay.default=oy});var MS=D(cy=>{"use strict";Object.defineProperty(cy,"__esModule",{value:!0});var IS=el(),sq=Ze(),ly=class{execute(e){e.getEmitter().getProxy(sq.default.CITY_REPOSITORY).getAll().forEach(i=>{i.buildings.forEach(s=>{if(s.level===null||s.frozen||(s.level.cycleCounter++,s.level.cycleCounter%s.level.prodFrequency!==0))return;let o=s.level.prod.get().length>0;if(s.level.prod.get().map(u=>{let d=i.wallet.get().find(f=>f.resourceID==u.resourceID)||null;return d==null?!1:d.isFull()}).reduce((u,d)=>u&&d,o))return;let l=i.wallet.clone();s.level.prod.get().forEach(u=>{let d=l.get(),f=d.findIndex(m=>m.resourceID===u.resourceID);f<0&&(d.push(new IS.default(u.resourceID,0)),f=d.length-1);let h=d[f];h.amount+=u.amount}),s.level.cons.get().forEach(u=>{let d=l.get(),f=d.findIndex(m=>m.resourceID===u.resourceID);f<0&&(d.push(new IS.default(u.resourceID,0)),f=d.length-1);let h=d[f];h.amount-=u.amount}),l.get().filter(u=>u.amount<0).length>0||(i.wallet=l.clone())})})}};cy.default=ly});var TS=D(dy=>{"use strict";Object.defineProperty(dy,"__esModule",{value:!0});var oq=Ze(),uy=class{execute(e){return e.getEmitter().getProxy(oq.default.CITY_REPOSITORY).getAll()}};dy.default=uy});var SS=D(hy=>{"use strict";Object.defineProperty(hy,"__esModule",{value:!0});var aq=Ze(),fy=class{execute(e){return e.getEmitter().getProxy(aq.default.RESOURCE_REPOSITORY).getAll()}};hy.default=fy});var AS=D(my=>{"use strict";Object.defineProperty(my,"__esModule",{value:!0});var lq=Ze(),py=class{execute(e){return e.getEmitter().getProxy(lq.default.TEMPLATE_BUILDING_REPOSITORY).getAll()}};my.default=py});var jd=D(_y=>{"use strict";Object.defineProperty(_y,"__esModule",{value:!0});var cq=ss(),gy=class extends cq.Proxy{constructor(e,n){super(),this._state=e,this._key=n,this.reset()}reset(){let e={};e[this._key]=new Array,this._state.setState(e)}add(e){let n=this.getAll();n.push(e);let r={};r[this._key]=n,this._state.setState(r)}remove(e){let n=this.getAll();n.splice(n.indexOf(e),1);let r={};r[this._key]=n,this._state.setState(r)}getAllBy(e,n){return this.getAll().filter(r=>r[e]===n)}getOneBy(e,n){return this.getAll().find(r=>r[e]===n)||null}getAll(){return this._state.getState()[this._key]}};_y.default=gy});var RS=D(yy=>{"use strict";Object.defineProperty(yy,"__esModule",{value:!0});var uq=jd(),vy=class extends uq.default{};yy.default=vy});var OS=D(Ey=>{"use strict";Object.defineProperty(Ey,"__esModule",{value:!0});var dq=jd(),Cy=class extends dq.default{};Ey.default=Cy});var PS=D(Dy=>{"use strict";Object.defineProperty(Dy,"__esModule",{value:!0});var fq=jd(),wy=class extends fq.default{};Dy.default=wy});var NS=D(by=>{"use strict";Object.defineProperty(by,"__esModule",{value:!0});var Bd=Ze(),xy=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),i=n.getProxy(Bd.default.CITY_REPOSITORY),o=n.getProxy(Bd.default.TEMPLATE_BUILDING_REPOSITORY).getOneBy("id",r.tplID),a=i.getOneBy("id",r.cityID);if(o===null||a===null)return!1;let l=n.getService(Bd.default.BUILDING_FACTORY);if(o.levels.length===0||r.freely)return a.buildings.push(l.fromData({tplID:o.id})),!0;let c=o.levels[0].cost,u=a.wallet;return n.getService(Bd.default.PAYMENT_SERVICE).pay(u,c)?(a.buildings.push(l.fromData({tplID:o.id})),!0):!1}};by.default=xy});var FS=D(Ty=>{"use strict";Object.defineProperty(Ty,"__esModule",{value:!0});var Iy=Ze(),My=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),i=n.getProxy(Iy.default.TEMPLATE_BUILDING_REPOSITORY),o=n.getProxy(Iy.default.CITY_REPOSITORY).getOneBy("id",r.cityID)||null;if(o===null)return!1;let a=o.buildings.find(m=>m.id===r.id)||null,l=a===null?-1:a.tplBuildingID,c=i.getOneBy("id",l);if(c===null||a===null)return!1;let u=c.levels.find(m=>m.level===a.level.level+1)||null;if(u===null)return!1;if(r.freely===!0)return a.level=u.clone(),!0;let d=u.cost,f=o.wallet;return n.getService(Iy.default.PAYMENT_SERVICE).pay(f,d)?(a.level=u.clone(),!0):!1}};Ty.default=My});var LS=D(Ay=>{"use strict";Object.defineProperty(Ay,"__esModule",{value:!0});var Sy=class t{constructor(e="",n=null,r=-1,i=-1,s=!1){this.name=e,this.level=n,this.tplBuildingID=r,this.id=i,this.frozen=s}clone(){return new t(this.name,this.level.clone(),this.tplBuildingID,this.id,this.frozen)}};Ay.default=Sy});var VS=D(Oy=>{"use strict";Object.defineProperty(Oy,"__esModule",{value:!0});var kS=LS(),Ry=class{constructor(e,n){this._repo=e,this._uidService=n,this.fromData=this.fromData.bind(this)}fromData(e){let n=this._repo.getOneBy("id",e.tplID)||null;if(n===null)return null;let r=this._uidService.createUID("buildings",e.id);if(n.levels.length===0)return new kS.default(n.name,null,n.id,r,e.frozen);let i=n.levels.find(s=>s.level===e.level)||n.levels[0];return new kS.default(n.name,i.clone(),n.id,r,e.frozen)}};Oy.default=Ry});var tl=D(Ny=>{"use strict";Object.defineProperty(Ny,"__esModule",{value:!0});var Py=class t{constructor(e=[]){this._quantities=[],this.set(e)}set(e){this._quantities=e}get(){return this._quantities}clone(){return new t(this._quantities.filter(e=>e!==null).map(e=>e.clone()))}};Ny.default=Py});var jS=D(Ly=>{"use strict";Object.defineProperty(Ly,"__esModule",{value:!0});var hq=tl(),Fy=class{constructor(e=-1,n="",r=[],i=new hq.default([])){this.id=e,this.name=n,this.buildings=r,this.wallet=i}};Ly.default=Fy});var BS=D(Vy=>{"use strict";Object.defineProperty(Vy,"__esModule",{value:!0});var pq=jS(),ky=class{constructor(e,n,r){this._buildingFactory=e,this._quantityListFactory=n,this._uidService=r,this.fromData=this.fromData.bind(this)}fromData(e){let n=[],r=this._quantityListFactory.fromData(e.wallet);Array.isArray(e.buildings)&&(n=e.buildings.map((s,o)=>this._buildingFactory.fromData(V({},s))));let i=this._uidService.createUID("cities",e.id);return new pq.default(i,e.name,n,r)}};Vy.default=ky});var US=D(By=>{"use strict";Object.defineProperty(By,"__esModule",{value:!0});var jy=class{constructor(e=-1,n="",r=0,i=1/0){this.id=e,this.name=n,this.min=r,this.max=i}};By.default=jy});var HS=D(Hy=>{"use strict";Object.defineProperty(Hy,"__esModule",{value:!0});var mq=US(),Uy=class{constructor(e){this._uidService=e,this.fromData=this.fromData.bind(this)}fromData(e){return new mq.default(this._uidService.createUID("resources",e.id),e.name,e.min,e.max)}};Hy.default=Uy});var $S=D(zy=>{"use strict";Object.defineProperty(zy,"__esModule",{value:!0});var gq=el(),$y=class{constructor(e){this._resourceIRepository=e,this.fromData=this.fromData.bind(this)}fromData(e){let n=this._resourceIRepository.getOneBy("id",e.resourceID);if(n===null)return null;let r=new gq.default(e.resourceID,0,n.min,n.max);return r.amount=e.amount,r}};zy.default=$y});var zS=D(qy=>{"use strict";Object.defineProperty(qy,"__esModule",{value:!0});var _q=tl(),Gy=class{constructor(e){this._quantityFactory=e,this.fromData=this.fromData.bind(this)}fromData(e){return new _q.default(e.map(this._quantityFactory.fromData))}};qy.default=Gy});var GS=D(Wy=>{"use strict";Object.defineProperty(Wy,"__esModule",{value:!0});var Ud=tl(),Yy=class t{constructor(e=0,n=new Ud.default([]),r=new Ud.default([]),i=new Ud.default([]),s=new Ud.default([]),o=1,a=0){this.level=e,this.cost=n,this.prod=r,this.cons=i,this.sold=s,this.prodFrequency=o,this.cycleCounter=a}clone(){return new t(this.level,this.cost.clone(),this.prod.clone(),this.cons.clone(),this.sold.clone(),this.prodFrequency)}};Wy.default=Yy});var qS=D(Zy=>{"use strict";Object.defineProperty(Zy,"__esModule",{value:!0});var vq=GS(),Qy=class{constructor(e){this._quantityListFactory=e,this.fromData=this.fromData.bind(this)}fromData(e){return new vq.default(e.level,this._quantityListFactory.fromData(e.cost||[]),this._quantityListFactory.fromData(e.prod||[]),this._quantityListFactory.fromData(e.cons||[]),this._quantityListFactory.fromData(e.sold||[]),e.prodFrequency)}};Zy.default=Qy});var YS=D(Ky=>{"use strict";Object.defineProperty(Ky,"__esModule",{value:!0});var Xy=class t{constructor(e=-1,n="",r=[]){this.id=e,this.name=n,this.levels=r}clone(){return new t(this.id,this.name,this.levels.map(e=>e.clone()))}};Ky.default=Xy});var WS=D(e1=>{"use strict";Object.defineProperty(e1,"__esModule",{value:!0});var yq=YS(),Jy=class{constructor(e,n){this._levelFactory=e,this._uidService=n,this.fromData=this.fromData.bind(this)}fromData(e){let n=this._uidService.createUID("templates",e.id);return new yq.default(n,e.name,e.levels.map(this._levelFactory.fromData))}};e1.default=Jy});var QS=D(n1=>{"use strict";Object.defineProperty(n1,"__esModule",{value:!0});var t1=class{pay(e,n){let r=[];for(let i=0;i<n.get().length;i++){let s=n.get()[i],o=e.get().find(a=>a.resourceID===s.resourceID)||null;if(o===null||o.amount<s.amount)return!1;r.push({cost:s,payment:o})}return r.forEach(i=>{i.payment.amount-=i.cost.amount}),!0}};n1.default=t1});var ZS=D(i1=>{"use strict";Object.defineProperty(i1,"__esModule",{value:!0});var r1=class{serialize(e,n,r,i="raw"){return i==="json"?JSON.stringify(this.convertToObj(e,n,r)):this.convertToObj(e,n,r)}convertToObj(e,n,r){return{cities:e.map(i=>this.cityToObject(i)),templateBuildings:n.map(i=>this.templateBuildingToObject(i)),resources:r.map(i=>this.resourceToObject(i))}}resourceToObject(e){return{id:e.id,name:e.name,min:e.min,max:e.max}}quantityToObject(e){return{resourceID:e.resourceID,amount:e.amount}}quantityListToObject(e){return e.get().map(this.quantityToObject)}buildingLevelToObject(e){return{level:e.level,cost:this.quantityListToObject(e.cost),prod:this.quantityListToObject(e.prod),cons:this.quantityListToObject(e.cons),sold:this.quantityListToObject(e.sold),prodFrequency:e.prodFrequency}}templateBuildingToObject(e){return{id:e.id,name:e.name,levels:e.levels.map(n=>this.buildingLevelToObject(n))}}buildingToObject(e){let n=e.tplBuildingID?e.tplBuildingID:-1,r=e.level?e.level.level:-1,i=e.id?e.id:-1,s=e.frozen===!0;return{tplID:n,level:r,id:i,frozen:s}}cityToObject(e){return{id:e.id,name:e.name,wallet:this.quantityListToObject(e.wallet),buildings:e.buildings.map(n=>this.buildingToObject(n))}}};i1.default=r1});var XS=D(o1=>{"use strict";Object.defineProperty(o1,"__esModule",{value:!0});var Hd=Ze(),s1=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),i=n.getProxy(Hd.default.TEMPLATE_BUILDING_REPOSITORY),s=n.getProxy(Hd.default.CITY_REPOSITORY),o=n.getProxy(Hd.default.RESOURCE_REPOSITORY);return n.getService(Hd.default.SERIALIZER_SERVICE).serialize(s.getAll(),i.getAll(),o.getAll(),r.format)}};o1.default=s1});var JS=D(l1=>{"use strict";Object.defineProperty(l1,"__esModule",{value:!0});var KS=Ze(),a1=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),i=n.getProxy(KS.default.CITY_REPOSITORY),s=n.getService(KS.default.CITY_FACTORY);r.forEach(o=>{i.add(s.fromData(o))})}};l1.default=a1});var eA=D(d1=>{"use strict";Object.defineProperty(d1,"__esModule",{value:!0});var c1=Ze(),u1=class{execute(e){let n=e.getEmitter(),r=e.getPayload();n.sendNotification(c1.default.CREATE_RESOURCES,r.resources||[]),n.sendNotification(c1.default.CREATE_TEMPLATE_BUILDINGS,r.templateBuildings||[]),n.sendNotification(c1.default.CREATE_CITIES,r.cities||[])}};d1.default=u1});var tA=D(h1=>{"use strict";Object.defineProperty(h1,"__esModule",{value:!0});var Cq=Ze(),f1=class{execute(e){let r=e.getEmitter().getProxy(Cq.default.CITY_REPOSITORY),i=e.getPayload();return r.getOneBy("id",i.id)}};h1.default=f1});var nA=D(m1=>{"use strict";Object.defineProperty(m1,"__esModule",{value:!0});var Eq=Ze(),p1=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),s=n.getProxy(Eq.default.CITY_REPOSITORY).getOneBy("id",r.cityID);if(s===null)return!1;let o=s.buildings.find(l=>l.id===r.id)||null;if(!s.buildings.includes(o))return!1;let a=s.buildings.indexOf(o);return s.buildings.splice(a,1),a>-1}};m1.default=p1});var iA=D(_1=>{"use strict";Object.defineProperty(_1,"__esModule",{value:!0});var rA=Ze(),wq=el(),g1=class{execute(e){return F(this,null,function*(){let n=e.getEmitter(),r=e.getPayload(),s=n.getProxy(rA.default.CITY_REPOSITORY).getOneBy("id",r.cityID);if(s===null)return!1;let o=s.buildings.find(a=>a.id===r.id)||null;return o===null?!1:(o.level.sold.get().forEach(a=>{let l=s.wallet.get(),c=l.find(u=>u.resourceID===a.resourceID)||new wq.default(a.resourceID,0);l.splice(l.findIndex(u=>u.resourceID===a.resourceID,1)),c.amount+=a.amount,l.push(c),s.wallet.set(l)}),yield n.query(rA.default.REMOVE_BUILDING_FROM_CITY,r),!0)})}};_1.default=g1});var sA=D(y1=>{"use strict";Object.defineProperty(y1,"__esModule",{value:!0});var v1=class{constructor(){this.ids=new Map}reset(){this.ids=new Map}createUID(e="no_category",n=-1){this.ids.has(e)||this.ids.set(e,[]);let r=this.ids.get(e),i=Math.max(...r,0),s=n>i+1?n:i+1;return r.push(s),s}};y1.default=v1});var aA=D(E1=>{"use strict";Object.defineProperty(E1,"__esModule",{value:!0});var oA=Ze(),C1=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),i=n.getProxy(oA.default.CITY_REPOSITORY),s=n.getService(oA.default.CITY_FACTORY);i.remove(i.getOneBy("id",r.id))}};E1.default=C1});var lA=D(D1=>{"use strict";Object.defineProperty(D1,"__esModule",{value:!0});var Dq=Ze(),w1=class{execute(e){let n=e.getEmitter(),r=e.getPayload(),s=n.getProxy(Dq.default.CITY_REPOSITORY).getOneBy("id",r.cityID)||null;if(s===null)return;let o=s.buildings.find(a=>a.id===r.id)||null;o!==null&&(o.frozen=r.frozen===!0)}};D1.default=w1});var uA=D(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.configFacade=Mo.configIOC=void 0;var cA=ss(),T=Ze(),xq=yS(),bq=ES(),Iq=DS(),Mq=bS(),Tq=MS(),Sq=TS(),Aq=SS(),Rq=AS(),Oq=RS(),Pq=OS(),Nq=PS(),Fq=NS(),Lq=FS(),kq=VS(),Vq=BS(),jq=HS(),Bq=$S(),Uq=zS(),Hq=qS(),$q=WS(),zq=QS(),Gq=ZS(),qq=XS(),Yq=JS(),Wq=eA(),Qq=tA(),Zq=nA(),Xq=iA(),Kq=sA(),Jq=aA(),e8=lA();function t8(t){return t.reset(),t.register(T.default.GAME_STORE_MODEL,()=>new cA.StoreModel,!0),t.register(T.default.APP_FACADE,()=>new cA.Facade,!0),t.register(T.default.BUY_BUILDING,()=>new Fq.default),t.register(T.default.SET_BUILDING_FROZEN_STATUS,()=>new e8.default),t.register(T.default.ADD_BUILDING_TO_CITY,()=>new xq.default),t.register(T.default.SELL_BUILDING,()=>new Xq.default),t.register(T.default.REMOVE_BUILDING_FROM_CITY,()=>new Zq.default),t.register(T.default.UPGRADE_BUILDING,()=>new Lq.default),t.register(T.default.ADD_CITY,()=>new bq.default),t.register(T.default.REMOVE_CITY,()=>new Jq.default),t.register(T.default.CREATE_CITIES,()=>new Yq.default),t.register(T.default.CREATE_RESOURCES,()=>new Iq.default),t.register(T.default.RESTORE_SAVED_DATA,()=>new Wq.default),t.register(T.default.CREATE_TEMPLATE_BUILDINGS,()=>new Mq.default),t.register(T.default.DO_CYCLE,()=>new Tq.default),t.register(T.default.GET_CITIES_QUERY,()=>new Sq.default),t.register(T.default.GET_CITY_QUERY,()=>new Qq.default),t.register(T.default.GET_RESOURCES_QUERY,()=>new Aq.default),t.register(T.default.SAVE_GAME_DATA_QUERY,()=>new qq.default),t.register(T.default.GET_TEMPLATES_BUILDINGS_QUERY,()=>new Rq.default),t.register(T.default.CITY_REPOSITORY,()=>new Oq.default(t.resolve(T.default.GAME_STORE_MODEL),"cities"),!0),t.register(T.default.TEMPLATE_BUILDING_REPOSITORY,()=>new Nq.default(t.resolve(T.default.GAME_STORE_MODEL),"templateBuildings"),!0),t.register(T.default.RESOURCE_REPOSITORY,()=>new Pq.default(t.resolve(T.default.GAME_STORE_MODEL),"resources"),!0),t.register(T.default.BUILDING_FACTORY,()=>new kq.default(t.resolve(T.default.TEMPLATE_BUILDING_REPOSITORY),t.resolve(T.default.UID_SERVICE)),!0),t.register(T.default.CITY_FACTORY,()=>new Vq.default(t.resolve(T.default.BUILDING_FACTORY),t.resolve(T.default.QUANTITY_LIST_FACTORY),t.resolve(T.default.UID_SERVICE)),!0),t.register(T.default.QUANTITY_LIST_FACTORY,()=>new Uq.default(t.resolve(T.default.QUANTITY_FACTORY)),!0),t.register(T.default.BUILDING_LEVEL_FACTORY,()=>new Hq.default(t.resolve(T.default.QUANTITY_LIST_FACTORY)),!0),t.register(T.default.TEMPLATE_BUILDING_FACTORY,()=>new $q.default(t.resolve(T.default.BUILDING_LEVEL_FACTORY),t.resolve(T.default.UID_SERVICE)),!0),t.register(T.default.QUANTITY_FACTORY,()=>new Bq.default(t.resolve(T.default.RESOURCE_REPOSITORY)),!0),t.register(T.default.RESOURCE_FACTORY,()=>new jq.default(t.resolve(T.default.UID_SERVICE)),!0),t.register(T.default.PAYMENT_SERVICE,()=>new zq.default,!0),t.register(T.default.SERIALIZER_SERVICE,()=>new Gq.default,!0),t.register(T.default.UID_SERVICE,()=>new Kq.default,!0),t}Mo.configIOC=t8;function n8(t){let e=t.resolve(T.default.APP_FACADE);return e.registerCommand(T.default.SET_BUILDING_FROZEN_STATUS,t.get(T.default.SET_BUILDING_FROZEN_STATUS)),e.registerCommand(T.default.SELL_BUILDING,t.get(T.default.SELL_BUILDING)),e.registerCommand(T.default.REMOVE_BUILDING_FROM_CITY,t.get(T.default.REMOVE_BUILDING_FROM_CITY)),e.registerCommand(T.default.UPGRADE_BUILDING,t.get(T.default.UPGRADE_BUILDING)),e.registerCommand(T.default.ADD_BUILDING_TO_CITY,t.get(T.default.ADD_BUILDING_TO_CITY)),e.registerCommand(T.default.BUY_BUILDING,t.get(T.default.BUY_BUILDING)),e.registerCommand(T.default.ADD_CITY,t.get(T.default.ADD_CITY)),e.registerCommand(T.default.REMOVE_CITY,t.get(T.default.REMOVE_CITY)),e.registerCommand(T.default.CREATE_CITIES,t.get(T.default.CREATE_CITIES)),e.registerCommand(T.default.CREATE_RESOURCES,t.get(T.default.CREATE_RESOURCES)),e.registerCommand(T.default.RESTORE_SAVED_DATA,t.get(T.default.RESTORE_SAVED_DATA)),e.registerCommand(T.default.CREATE_TEMPLATE_BUILDINGS,t.get(T.default.CREATE_TEMPLATE_BUILDINGS)),e.registerCommand(T.default.DO_CYCLE,t.get(T.default.DO_CYCLE)),e.registerCommand(T.default.GET_CITIES_QUERY,t.get(T.default.GET_CITIES_QUERY)),e.registerCommand(T.default.GET_CITY_QUERY,t.get(T.default.GET_CITY_QUERY)),e.registerCommand(T.default.GET_RESOURCES_QUERY,t.get(T.default.GET_RESOURCES_QUERY)),e.registerCommand(T.default.GET_TEMPLATES_BUILDINGS_QUERY,t.get(T.default.GET_TEMPLATES_BUILDINGS_QUERY)),e.registerCommand(T.default.SAVE_GAME_DATA_QUERY,t.get(T.default.SAVE_GAME_DATA_QUERY)),e.registerProxy(T.default.CITY_REPOSITORY,t.resolve(T.default.CITY_REPOSITORY)),e.registerProxy(T.default.TEMPLATE_BUILDING_REPOSITORY,t.resolve(T.default.TEMPLATE_BUILDING_REPOSITORY)),e.registerProxy(T.default.RESOURCE_REPOSITORY,t.resolve(T.default.RESOURCE_REPOSITORY)),e.registerService(T.default.BUILDING_FACTORY,t.resolve(T.default.BUILDING_FACTORY)),e.registerService(T.default.CITY_FACTORY,t.resolve(T.default.CITY_FACTORY)),e.registerService(T.default.RESOURCE_FACTORY,t.resolve(T.default.RESOURCE_FACTORY)),e.registerService(T.default.QUANTITY_FACTORY,t.resolve(T.default.QUANTITY_FACTORY)),e.registerService(T.default.QUANTITY_LIST_FACTORY,t.resolve(T.default.QUANTITY_LIST_FACTORY)),e.registerService(T.default.BUILDING_LEVEL_FACTORY,t.resolve(T.default.BUILDING_LEVEL_FACTORY)),e.registerService(T.default.TEMPLATE_BUILDING_FACTORY,t.resolve(T.default.TEMPLATE_BUILDING_FACTORY)),e.registerService(T.default.PAYMENT_SERVICE,t.resolve(T.default.PAYMENT_SERVICE)),e.registerService(T.default.SERIALIZER_SERVICE,t.resolve(T.default.SERIALIZER_SERVICE)),e.registerService(T.default.UID_SERVICE,t.resolve(T.default.UID_SERVICE)),e}Mo.configFacade=n8});var dA=D($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.version=void 0;$d.version="1.7.7"});var hA=D(b1=>{"use strict";Object.defineProperty(b1,"__esModule",{value:!0});var r8=yr(),Ve=Ze(),fA=uA(),i8=dA(),x1=class extends r8.Emitter{constructor(){super()}reset(){let e=this._container.resolve(Ve.default.UID_SERVICE),n=this._container.resolve(Ve.default.CITY_REPOSITORY),r=this._container.resolve(Ve.default.TEMPLATE_BUILDING_REPOSITORY),i=this._container.resolve(Ve.default.RESOURCE_REPOSITORY);e.reset(),n.reset(),r.reset(),i.reset()}init(e,n={}){e.reset(),(0,fA.configIOC)(e),(0,fA.configFacade)(e),this._facade=e.resolve(Ve.default.APP_FACADE),this._container=e,this.reset(),this._facade.sendNotification(Ve.default.RESTORE_SAVED_DATA,n)}getVersion(){return i8.version}getFacade(){return this._facade}doCycle(){this.getFacade().sendNotification(Ve.default.DO_CYCLE)}addBuilding(e){return this.getFacade().query(Ve.default.ADD_BUILDING_TO_CITY,e)}setBuildingFrozenStatus(e){return this.getFacade().sendNotification(Ve.default.SET_BUILDING_FROZEN_STATUS,e)}buyBuilding(e){return this.getFacade().query(Ve.default.BUY_BUILDING,e)}upgradeBuilding(e){return this.getFacade().query(Ve.default.UPGRADE_BUILDING,e)}removeBuilding(e){return this.getFacade().query(Ve.default.REMOVE_BUILDING_FROM_CITY,e)}sellBuilding(e){return this.getFacade().query(Ve.default.SELL_BUILDING,e)}createBuildingTemplates(e){return this.getFacade().sendNotification(Ve.default.CREATE_TEMPLATE_BUILDINGS,e)}getTemplateBuildings(){return this.getFacade().query(Ve.default.GET_TEMPLATES_BUILDINGS_QUERY)}createResources(e){return this.getFacade().sendNotification(Ve.default.CREATE_RESOURCES,e)}getResources(){return this.getFacade().query(Ve.default.GET_RESOURCES_QUERY)}addCity(e){return this.getFacade().query(Ve.default.ADD_CITY,e)}removeCity(e){return this.getFacade().sendNotification(Ve.default.REMOVE_CITY,e)}createCities(e){return this.getFacade().sendNotification(Ve.default.CREATE_CITIES,e)}getCities(){return this.getFacade().query(Ve.default.GET_CITIES_QUERY)}getCityByID(e){return this.getFacade().query(Ve.default.GET_CITY_QUERY,e)}restoreGameData(e){return this.reset(),this.getFacade().sendNotification(Ve.default.RESTORE_SAVED_DATA,e)}saveGameData(){return this.getFacade().query(Ve.default.SAVE_GAME_DATA_QUERY)}getSerializer(){return this.getFacade().getService(Ve.default.SERIALIZER_SERVICE)}};b1.default=x1});var mA=D((Pne,pA)=>{"use strict";var s8=ss(),o8=hA(),a8=Ze(),l8=new s8.Container,c8=new o8.default,u8=a8.default;pA.exports={engine:c8,defaultContainer:l8,paradoxConstants:u8}});var R1=null;var nf=1;function Qt(t){let e=R1;return R1=t,e}var O1={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ZA(t){if(!(of(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===nf)){if(!t.producerMustRecompute(t)&&!rf(t)){t.dirty=!1,t.lastCleanEpoch=nf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=nf}}function P1(t){return t&&(t.nextProducerIndex=0),Qt(t)}function N1(t,e){if(Qt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(of(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)sf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function rf(t){sl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ZA(n),r!==n.version))return!0}return!1}function F1(t){if(sl(t),of(t))for(let e=0;e<t.producerNode.length;e++)sf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function sf(t,e){if(XA(t),sl(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)sf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];sl(i),i.producerIndexOfThis[r]=e}}function of(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function sl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function XA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function KA(){throw new Error}var JA=KA;function L1(t){JA=t}function re(t){return typeof t=="function"}function us(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ol=us(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Oo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ot=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(s){e=s instanceof ol?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{k1(s)}catch(o){e=e??[],o instanceof ol?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ol(e)}}add(e){var n;if(e&&e!==this)if(this.closed)k1(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Oo(n,e)}remove(e){let{_finalizers:n}=this;n&&Oo(n,e),e instanceof t&&e._removeParent(this)}};ot.EMPTY=(()=>{let t=new ot;return t.closed=!0,t})();var af=ot.EMPTY;function al(t){return t instanceof ot||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function k1(t){re(t)?t():t.unsubscribe()}var Mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ds={setTimeout(t,e,...n){let{delegate:r}=ds;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ds;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ll(t){ds.setTimeout(()=>{let{onUnhandledError:e}=Mn;if(e)e(t);else throw t})}function Po(){}var V1=(()=>lf("C",void 0,void 0))();function j1(t){return lf("E",void 0,t)}function B1(t){return lf("N",t,void 0)}function lf(t,e,n){return{kind:t,value:e,error:n}}var Ci=null;function fs(t){if(Mn.useDeprecatedSynchronousErrorHandling){let e=!Ci;if(e&&(Ci={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ci;if(Ci=null,n)throw r}}else t()}function U1(t){Mn.useDeprecatedSynchronousErrorHandling&&Ci&&(Ci.errorThrown=!0,Ci.error=t)}var Ei=class extends ot{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,al(e)&&e.add(this)):this.destination=nR}static create(e,n,r){return new cr(e,n,r)}next(e){this.isStopped?uf(B1(e),this):this._next(e)}error(e){this.isStopped?uf(j1(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?uf(V1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},eR=Function.prototype.bind;function cf(t,e){return eR.call(t,e)}var df=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){cl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){cl(r)}else cl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){cl(n)}}},cr=class extends Ei{constructor(e,n,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Mn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&cf(e.next,s),error:e.error&&cf(e.error,s),complete:e.complete&&cf(e.complete,s)}):i=e}this.destination=new df(i)}};function cl(t){Mn.useDeprecatedSynchronousErrorHandling?U1(t):ll(t)}function tR(t){throw t}function uf(t,e){let{onStoppedNotification:n}=Mn;n&&ds.setTimeout(()=>n(t,e))}var nR={closed:!0,next:Po,error:tR,complete:Po};var hs=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function Dt(t){return t}function ff(...t){return hf(t)}function hf(t){return t.length===0?Dt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=iR(n)?n:new cr(n,r,i);return fs(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=H1(r),new r((i,s)=>{let o=new cr({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[hs](){return this}pipe(...n){return hf(n)(this)}toPromise(n){return n=H1(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function H1(t){var e;return(e=t??Mn.Promise)!==null&&e!==void 0?e:Promise}function rR(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}function iR(t){return t&&t instanceof Ei||rR(t)&&al(t)}function pf(t){return re(t?.lift)}function le(t){return e=>{if(pf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(t,e,n,r,i){return new mf(t,e,n,r,i)}var mf=class extends Ei{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ps(){return le((t,e)=>{let n=null;t._refCount++;let r=ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ms=class extends fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,pf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ot;let n=this.getSubject();e.add(this.source.subscribe(ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ot.EMPTY)}return e}refCount(){return ps()(this)}};var $1=us(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var at=(()=>{class t extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ul(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $1}next(n){fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?af:(this.currentObservers=null,s.push(n),new ot(()=>{this.currentObservers=null,Oo(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new fe;return n.source=this,n}}return t.create=(e,n)=>new ul(e,n),t})(),ul=class extends at{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:af}};var ft=class extends at{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var gf={now(){return(gf.delegate||Date).now()},delegate:void 0};var No=class extends at{constructor(e=1/0,n=1/0,r=gf){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}};var Ft=new fe(t=>t.complete());function z1(t){return t&&re(t.schedule)}function _f(t){return t[t.length-1]}function dl(t){return re(_f(t))?t.pop():void 0}function jn(t){return z1(_f(t))?t.pop():void 0}function G1(t,e){return typeof _f(t)=="number"?t.pop():e}function Y1(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function q1(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wi(t){return this instanceof wi?(this.v=t,this):new wi(t)}function W1(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(m,p){s.push([f,h,m,p])>1||a(f,h)})})}function a(f,h){try{l(r[f](h))}catch(m){d(s[0][3],m)}}function l(f){f.value instanceof wi?Promise.resolve(f.value.v).then(c,u):d(s[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Q1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof q1=="function"?q1(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var fl=t=>t&&typeof t.length=="number"&&typeof t!="function";function hl(t){return re(t?.then)}function pl(t){return re(t[hs])}function ml(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function gl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _l=sR();function vl(t){return re(t?.[_l])}function yl(t){return W1(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield wi(n.read());if(i)return yield wi(void 0);yield yield wi(r)}}finally{n.releaseLock()}})}function Cl(t){return re(t?.getReader)}function Fe(t){if(t instanceof fe)return t;if(t!=null){if(pl(t))return oR(t);if(fl(t))return aR(t);if(hl(t))return lR(t);if(ml(t))return Z1(t);if(vl(t))return cR(t);if(Cl(t))return uR(t)}throw gl(t)}function oR(t){return new fe(e=>{let n=t[hs]();if(re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function aR(t){return new fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function lR(t){return new fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ll)})}function cR(t){return new fe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Z1(t){return new fe(e=>{dR(t,e).catch(n=>e.error(n))})}function uR(t){return Z1(yl(t))}function dR(t,e){var n,r,i,s;return Y1(this,void 0,void 0,function*(){try{for(n=Q1(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Lt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function El(t,e=0){return le((n,r)=>{n.subscribe(ce(r,i=>Lt(r,t,()=>r.next(i),e),()=>Lt(r,t,()=>r.complete(),e),i=>Lt(r,t,()=>r.error(i),e)))})}function wl(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function X1(t,e){return Fe(t).pipe(wl(e),El(e))}function K1(t,e){return Fe(t).pipe(wl(e),El(e))}function J1(t,e){return new fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function eC(t,e){return new fe(n=>{let r;return Lt(n,e,()=>{r=t[_l](),Lt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function Dl(t,e){if(!t)throw new Error("Iterable cannot be null");return new fe(n=>{Lt(n,e,()=>{let r=t[Symbol.asyncIterator]();Lt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tC(t,e){return Dl(yl(t),e)}function nC(t,e){if(t!=null){if(pl(t))return X1(t,e);if(fl(t))return J1(t,e);if(hl(t))return K1(t,e);if(ml(t))return Dl(t,e);if(vl(t))return eC(t,e);if(Cl(t))return tC(t,e)}throw gl(t)}function Le(t,e){return e?nC(t,e):Fe(t)}function J(...t){let e=jn(t);return Le(t,e)}function gs(t,e){let n=re(t)?t:()=>t,r=i=>i.error(n());return new fe(e?i=>e.schedule(r,0,i):r)}function vf(t){return!!t&&(t instanceof fe||re(t.lift)&&re(t.subscribe))}var Tn=us(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ge(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let s=!1,o;t.subscribe({next:a=>{o=a,s=!0},error:i,complete:()=>{s?r(o):n?r(e.defaultValue):i(new Tn)}})})}function se(t,e){return le((n,r)=>{let i=0;n.subscribe(ce(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:fR}=Array;function hR(t,e){return fR(e)?t(...e):t(e)}function xl(t){return se(e=>hR(t,e))}var{isArray:pR}=Array,{getPrototypeOf:mR,prototype:gR,keys:_R}=Object;function bl(t){if(t.length===1){let e=t[0];if(pR(e))return{args:e,keys:null};if(vR(e)){let n=_R(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function vR(t){return t&&typeof t=="object"&&mR(t)===gR}function Il(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ml(...t){let e=jn(t),n=dl(t),{args:r,keys:i}=bl(t);if(r.length===0)return Le([],e);let s=new fe(yR(r,e,i?o=>Il(i,o):Dt));return n?s.pipe(xl(n)):s}function yR(t,e,n=Dt){return r=>{rC(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)rC(e,()=>{let c=Le(t[l],e),u=!1;c.subscribe(ce(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function rC(t,e,n){t?Lt(n,t,e):e()}function iC(t,e,n,r,i,s,o,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=p=>c<r?m(p):l.push(p),m=p=>{s&&e.next(p),c++;let g=!1;Fe(n(p,u++)).subscribe(ce(e,_=>{i?.(_),s?h(_):e.next(_)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<r;){let _=l.shift();o?Lt(e,o,()=>m(_)):m(_)}f()}catch(_){e.error(_)}}))};return t.subscribe(ce(e,h,()=>{d=!0,f()})),()=>{a?.()}}function it(t,e,n=1/0){return re(e)?it((r,i)=>se((s,o)=>e(r,s,i,o))(Fe(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>iC(r,i,t,n)))}function Fo(t=1/0){return it(Dt,t)}function sC(){return Fo(1)}function _s(...t){return sC()(Le(t,jn(t)))}function Tl(t){return new fe(e=>{Fe(t()).subscribe(e)})}function yf(...t){let e=dl(t),{args:n,keys:r}=bl(t),i=new fe(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;Fe(n[u]).subscribe(ce(s,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?Il(r,a):a),s.complete())}))}});return e?i.pipe(xl(e)):i}function Cf(...t){let e=jn(t),n=G1(t,1/0),r=t;return r.length?r.length===1?Fe(r[0]):Fo(n)(Le(r,e)):Ft}function Zt(t,e){return le((n,r)=>{let i=0;n.subscribe(ce(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ar(t){return le((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ce(n,void 0,void 0,o=>{s=Fe(t(o,Ar(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function oC(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(ce(o,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function Rr(t,e){return re(e)?it(t,e,1):it(t,1)}function Or(t){return le((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ur(t){return t<=0?()=>Ft:le((e,n)=>{let r=0;e.subscribe(ce(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ef(t){return se(()=>t)}function wf(t,e=Dt){return t=t??CR,le((n,r)=>{let i,s=!0;n.subscribe(ce(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function CR(t,e){return t===e}function Sl(t=ER){return le((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function ER(){return new Tn}function Pr(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Sn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Zt((i,s)=>t(i,s,r)):Dt,ur(1),n?Or(e):Sl(()=>new Tn))}function vs(t){return t<=0?()=>Ft:le((e,n)=>{let r=[];e.subscribe(ce(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Df(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Zt((i,s)=>t(i,s,r)):Dt,vs(1),n?Or(e):Sl(()=>new Tn))}function xf(t,e){return le(oC(t,e,arguments.length>=2,!0))}function Al(t={}){let{connector:e=()=>new at,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=l=void 0,u=d=!1},m=()=>{let p=o;h(),p?.unsubscribe()};return le((p,g)=>{c++,!d&&!u&&f();let _=l=l??e();g.add(()=>{c--,c===0&&!d&&!u&&(a=bf(m,i))}),_.subscribe(g),!o&&c>0&&(o=new cr({next:v=>_.next(v),error:v=>{d=!0,f(),a=bf(h,n,v),_.error(v)},complete:()=>{u=!0,f(),a=bf(h,r),_.complete()}}),Fe(p).subscribe(o))})(s)}}function bf(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new cr({next:()=>{r.unsubscribe(),t()}});return Fe(e(...n)).subscribe(r)}function If(...t){let e=jn(t);return le((n,r)=>{(e?_s(t,n,e):_s(t,n)).subscribe(r)})}function xt(t,e){return le((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ce(r,l=>{i?.unsubscribe();let c=0,u=s++;Fe(t(l,u)).subscribe(i=ce(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Mf(t){return le((e,n)=>{Fe(t).subscribe(ce(n,()=>n.complete(),Po)),!n.closed&&e.subscribe(n)})}function et(t,e,n){let r=re(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ce(s,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Dt}function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function Rl(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function _t(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(_t).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Gf(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var wR=Ie({__forward_ref__:Ie});function As(t){return t.__forward_ref__=As,t.toString=function(){return _t(this())},t}function bt(t){return $C(t)?t():t}function $C(t){return typeof t=="function"&&t.hasOwnProperty(wR)&&t.__forward_ref__===As}function zC(t){return t&&!!t.\u0275providers}var GC="https://g.co/ng/security#xss",q=class extends Error{constructor(e,n){super(hc(e,n)),this.code=e}};function hc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var DR=Ie({\u0275cmp:Ie}),xR=Ie({\u0275dir:Ie}),bR=Ie({\u0275pipe:Ie}),IR=Ie({\u0275mod:Ie}),zl=Ie({\u0275fac:Ie}),Lo=Ie({__NG_ELEMENT_ID__:Ie}),aC=Ie({__NG_ENV_ID__:Ie});function Di(t){return typeof t=="string"?t:t==null?"":String(t)}function MR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Di(t)}function TR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new q(-200,`Circular dependency in DI detected for ${t}${n}`)}function Ah(t,e){let n=e?` in ${e}`:"";throw new q(-201,!1)}function SR(t,e){t==null&&AR(e,t,null,"!=")}function AR(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jt(t){return{providers:t.providers||[],imports:t.imports||[]}}function pc(t){return lC(t,YC)||lC(t,WC)}function qC(t){return pc(t)!==null}function lC(t,e){return t.hasOwnProperty(e)?t[e]:null}function RR(t){let e=t&&(t[YC]||t[WC]);return e||null}function cC(t){return t&&(t.hasOwnProperty(uC)||t.hasOwnProperty(OR))?t[uC]:null}var YC=Ie({\u0275prov:Ie}),uC=Ie({\u0275inj:Ie}),WC=Ie({ngInjectableDef:Ie}),OR=Ie({ngInjectorDef:Ie}),ue=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ue||{}),qf;function PR(){return qf}function kt(t){let e=qf;return qf=t,e}function QC(t,e,n){let r=pc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ue.Optional)return null;if(e!==void 0)return e;Ah(_t(t),"Injector")}var Vt=globalThis;var Q=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var NR={},jo=NR,Yf="__NG_DI_FLAG__",Gl="ngTempTokenPath",FR="ngTokenPath",LR=/\n/gm,kR="\u0275",dC="__source",ko;function Nr(t){let e=ko;return ko=t,e}function VR(t,e=ue.Default){if(ko===void 0)throw new q(-203,!1);return ko===null?QC(t,void 0,e):ko.get(t,e&ue.Optional?null:void 0,e)}function W(t,e=ue.Default){return(PR()||VR)(bt(t),e)}function N(t,e=ue.Default){return W(t,mc(e))}function mc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wf(t){let e=[];for(let n=0;n<t.length;n++){let r=bt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,s=ue.Default;for(let o=0;o<r.length;o++){let a=r[o],l=jR(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(W(i,s))}else e.push(W(r))}return e}function ZC(t,e){return t[Yf]=e,t.prototype[Yf]=e,t}function jR(t){return t[Yf]}function BR(t,e,n,r){let i=t[Gl];throw e[dC]&&i.unshift(e[dC]),t.message=UR(`
`+t.message,i,n,r),t[FR]=i,t[Gl]=null,t}function UR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==kR?t.slice(2):t;let i=_t(e);if(Array.isArray(e))i=e.map(_t).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):_t(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(LR,`
  `)}`}function Zo(t){return{toString:t}.toString()}var XC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(XC||{}),$n=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}($n||{}),Ds={},It=[];function KC(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Qf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];HR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function JC(t){return t===3||t===4||t===6}function HR(t){return t.charCodeAt(0)===64}function Bo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?fC(t,n,i,null,e[++r]):fC(t,n,i,null,null))}}return t}function fC(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var eE="ng-template";function $R(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&KC(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function tE(t){return t.type===4&&t.value!==eE}function zR(t,e,n){let r=t.type===4&&!n?eE:t.value;return e===r}function GR(t,e,n){let r=4,i=t.attrs||[],s=WR(i),o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!An(r)&&!An(l))return!1;if(o&&An(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!zR(t,l,n)||l===""&&e.length===1){if(An(r))return!1;o=!0}}else{let c=r&8?l:e[++a];if(r&8&&t.attrs!==null){if(!$R(t.attrs,c,n)){if(An(r))return!1;o=!0}continue}let u=r&8?"class":l,d=qR(u,i,tE(t),n);if(d===-1){if(An(r))return!1;o=!0;continue}if(c!==""){let f;d>s?f="":f=i[d+1].toLowerCase();let h=r&8?f:null;if(h&&KC(h,c,0)!==-1||r&2&&c!==f){if(An(r))return!1;o=!0}}}}return An(r)||o}function An(t){return(t&1)===0}function qR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return QR(e,t)}function YR(t,e,n=!1){for(let r=0;r<e.length;r++)if(GR(t,e[r],n))return!0;return!1}function WR(t){for(let e=0;e<t.length;e++){let n=t[e];if(JC(n))return e}return t.length}function QR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function hC(t,e){return t?":not("+e.trim()+")":e}function ZR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!An(o)&&(e+=hC(s,i),i=""),r=o,s=s||!An(r);n++}return i!==""&&(e+=hC(s,i)),e}function XR(t){return t.map(ZR).join(",")}function KR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!An(i))break;i=s}r++}return{attrs:e,classes:n}}function ge(t){return Zo(()=>{let e=oE(t),n=De(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===XC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||$n.Emulated,styles:t.styles||It,_:null,schemas:t.schemas||null,tView:null,id:""});aE(n);let r=t.dependencies;return n.directiveDefs=mC(r,!1),n.pipeDefs=mC(r,!0),n.id=tO(n),n})}function JR(t){return bi(t)||nE(t)}function eO(t){return t!==null}function en(t){return Zo(()=>({type:t.type,bootstrap:t.bootstrap||It,declarations:t.declarations||It,imports:t.imports||It,exports:t.exports||It,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function pC(t,e){if(t==null)return Ds;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Tt(t){return Zo(()=>{let e=oE(t);return aE(e),e})}function Rh(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function bi(t){return t[DR]||null}function nE(t){return t[xR]||null}function rE(t){return t[bR]||null}function iE(t){let e=bi(t)||nE(t)||rE(t);return e!==null?e.standalone:!1}function sE(t,e){let n=t[IR]||null;if(!n&&e===!0)throw new Error(`Type ${_t(t)} does not have '\u0275mod' property.`);return n}function oE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ds,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||It,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pC(t.inputs,e),outputs:pC(t.outputs),debugInfo:null}}function aE(t){t.features?.forEach(e=>e(t))}function mC(t,e){if(!t)return null;let n=e?rE:JR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(eO)}function tO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var Kt=0,oe=1,ne=2,tt=3,On=4,Nn=5,Fr=6,Uo=7,cn=8,xs=9,bs=10,Be=11,Ho=12,gC=13,Rs=14,un=15,gc=16,ys=17,$o=18,_c=19,lE=20,Vo=21,Tf=22,Ii=23,Mt=25,cE=1,zo=6,dr=7,ql=8,Yl=9,Xt=10,Is=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(Is||{});function Hn(t){return Array.isArray(t)&&typeof t[cE]=="object"}function dn(t){return Array.isArray(t)&&t[cE]===!0}function uE(t){return(t.flags&4)!==0}function Xo(t){return t.componentOffset>-1}function Oh(t){return(t.flags&1)===1}function Lr(t){return!!t.template}function dE(t){return(t[ne]&512)!==0}function Mi(t,e){let n=t.hasOwnProperty(zl);return n?t[zl]:null}var Zf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Vr(){return fE}function fE(t){return t.type.prototype.ngOnChanges&&(t.setInput=rO),nO}Vr.ngInherit=!0;function nO(){let t=pE(this),e=t?.current;if(e){let n=t.previous;if(n===Ds)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function rO(t,e,n,r){let i=this.declaredInputs[n],s=pE(t)||iO(t,{previous:Ds,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new Zf(l&&l.currentValue,e,a===Ds),t[r]=e}var hE="__ngSimpleChanges__";function pE(t){return t[hE]||null}function iO(t,e){return t[hE]=e}var _C=null;var Bn=function(t,e,n){_C?.(t,e,n)},sO="svg",oO="math";function Pn(t){for(;Array.isArray(t);)t=t[Kt];return t}function mE(t,e){return Pn(e[t])}function tn(t,e){return Pn(e[t.index])}function gE(t,e){return t.data[e]}function aO(t,e){return t[e]}function jr(t,e){let n=e[t];return Hn(n)?n:n[Kt]}function Ph(t){return(t[ne]&128)===128}function lO(t){return dn(t[tt])}function Wl(t,e){return e==null?null:t[e]}function _E(t){t[ys]=0}function cO(t){t[ne]&1024||(t[ne]|=1024,Ph(t)&&vc(t))}function uO(t,e){for(;t>0;)e=e[Rs],t--;return e}function vE(t){return t[ne]&9216||t[Ii]?.dirty}function yE(t){vE(t)&&vc(t)}function vc(t){let e=t[tt];for(;e!==null&&!(dn(e)&&e[ne]&Is.HasChildViewsToRefresh||Hn(e)&&e[ne]&8192);){if(dn(e))e[ne]|=Is.HasChildViewsToRefresh;else if(e[ne]|=8192,!Ph(e))break;e=e[tt]}}function dO(t,e){if((t[ne]&256)===256)throw new q(911,!1);t[Vo]===null&&(t[Vo]=[]),t[Vo].push(e)}var ae={lFrame:ME(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fO(){return ae.lFrame.elementDepthCount}function hO(){ae.lFrame.elementDepthCount++}function pO(){ae.lFrame.elementDepthCount--}function CE(){return ae.bindingsEnabled}function Ko(){return ae.skipHydrationRootTNode!==null}function mO(t){return ae.skipHydrationRootTNode===t}function gO(t){ae.skipHydrationRootTNode=t}function _O(){ae.skipHydrationRootTNode=null}function xe(){return ae.lFrame.lView}function Bt(){return ae.lFrame.tView}function z(t){return ae.lFrame.contextLView=t,t[cn]}function G(t){return ae.lFrame.contextLView=null,t}function nn(){let t=EE();for(;t!==null&&t.type===64;)t=t.parent;return t}function EE(){return ae.lFrame.currentTNode}function vO(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Jo(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function wE(){return ae.lFrame.isParent}function yO(){ae.lFrame.isParent=!1}function DE(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function CO(){return ae.lFrame.bindingIndex}function EO(t){return ae.lFrame.bindingIndex=t}function Nh(){return ae.lFrame.bindingIndex++}function Fh(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function wO(){return ae.lFrame.inI18n}function DO(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,Xf(e)}function xO(){return ae.lFrame.currentDirectiveIndex}function Xf(t){ae.lFrame.currentDirectiveIndex=t}function bO(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function xE(t){ae.lFrame.currentQueryIndex=t}function IO(t){let e=t[oe];return e.type===2?e.declTNode:e.type===1?t[Nn]:null}function bE(t,e,n){if(n&ue.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ue.Host);)if(i=IO(s),i===null||(s=s[Rs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ae.lFrame=IE();return r.currentTNode=e,r.lView=t,!0}function Lh(t){let e=IE(),n=t[oe];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function IE(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?ME(t):e}function ME(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function TE(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var SE=TE;function kh(){let t=TE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function MO(t){return(ae.lFrame.contextLView=uO(t,ae.lFrame.contextLView))[cn]}function Br(){return ae.lFrame.selectedIndex}function Ti(t){ae.lFrame.selectedIndex=t}function Vh(){let t=ae.lFrame;return gE(t.tView,t.selectedIndex)}function AE(){return ae.lFrame.currentNamespace}var RE=!0;function jh(){return RE}function Ur(t){RE=t}function TO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=fE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Bh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function jl(t,e,n){OE(t,e,3,n)}function Bl(t,e,n,r){(t[ne]&3)===n&&OE(t,e,n,r)}function Sf(t,e){let n=t[ne];(n&3)===e&&(n&=16383,n+=1,t[ne]=n)}function OE(t,e,n,r){let i=r!==void 0?t[ys]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[ys]+=65536),(a<s||s==-1)&&(SO(t,n,e,l),t[ys]=(t[ys]&4294901760)+l+2),l++}function vC(t,e){Bn(4,t,e);let n=Qt(null);try{e.call(t)}finally{Qt(n),Bn(5,t,e)}}function SO(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[ne]>>14<t[ys]>>16&&(t[ne]&3)===e&&(t[ne]+=16384,vC(a,s)):vC(a,s)}var ws=-1,Si=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function AO(t){return t instanceof Si}function RO(t){return(t.flags&8)!==0}function OO(t){return(t.flags&16)!==0}function PE(t){return t!==ws}function Ql(t){let e=t&32767;return t&32767}function PO(t){return t>>16}function Zl(t,e){let n=PO(t),r=e;for(;n>0;)r=r[Rs],n--;return r}var Kf=!0;function Xl(t){let e=Kf;return Kf=t,e}var NO=256,NE=NO-1,FE=5,FO=0,Un={};function LO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Lo)&&(r=n[Lo]),r==null&&(r=n[Lo]=FO++);let i=r&NE,s=1<<i;e.data[t+(i>>FE)]|=s}function Kl(t,e){let n=LE(t,e);if(n!==-1)return n;let r=e[oe];r.firstCreatePass&&(t.injectorIndex=e.length,Af(r.data,t),Af(e,null),Af(r.blueprint,null));let i=Uh(t,e),s=t.injectorIndex;if(PE(i)){let o=Ql(i),a=Zl(i,e),l=a[oe].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Af(t,e){t.push(0,0,0,0,0,0,0,0,e)}function LE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Uh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=UE(i),r===null)return ws;if(n++,i=i[Rs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ws}function Jf(t,e,n){LO(t,e,n)}function kO(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(JC(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function kE(t,e,n){if(n&ue.Optional||t!==void 0)return t;Ah(e,"NodeInjector")}function VE(t,e,n,r){if(n&ue.Optional&&r===void 0&&(r=null),!(n&(ue.Self|ue.Host))){let i=t[xs],s=kt(void 0);try{return i?i.get(e,r,n&ue.Optional):QC(e,r,n&ue.Optional)}finally{kt(s)}}return kE(r,e,n)}function jE(t,e,n,r=ue.Default,i){if(t!==null){if(e[ne]&2048&&!(r&ue.Self)){let o=HO(t,e,n,r,Un);if(o!==Un)return o}let s=BE(t,e,n,r,Un);if(s!==Un)return s}return VE(e,n,r,i)}function BE(t,e,n,r,i){let s=BO(n);if(typeof s=="function"){if(!bE(e,t,r))return r&ue.Host?kE(i,n,r):VE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ue.Optional))Ah(n);else return o}finally{SE()}}else if(typeof s=="number"){let o=null,a=LE(t,e),l=ws,c=r&ue.Host?e[un][Nn]:null;for((a===-1||r&ue.SkipSelf)&&(l=a===-1?Uh(t,e):e[a+8],l===ws||!CC(r,!1)?a=-1:(o=e[oe],a=Ql(l),e=Zl(l,e)));a!==-1;){let u=e[oe];if(yC(s,a,u.data)){let d=VO(a,e,n,o,r,c);if(d!==Un)return d}l=e[a+8],l!==ws&&CC(r,e[oe].data[a+8]===c)&&yC(s,a,e)?(o=u,a=Ql(l),e=Zl(l,e)):a=-1}}return i}function VO(t,e,n,r,i,s){let o=e[oe],a=o.data[t+8],l=r==null?Xo(a)&&Kf:r!=o&&(a.type&3)!==0,c=i&ue.Host&&s===a,u=jO(a,o,n,l,c);return u!==null?Ms(e,o,u,a):Un}function jO(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let m=o[h];if(h<l&&n===m||h>=l&&m.type===n)return h}if(i){let h=o[l];if(h&&Lr(h)&&h.type===n)return l}return null}function Ms(t,e,n,r){let i=t[n],s=e.data;if(AO(i)){let o=i;o.resolving&&TR(MR(s[n]));let a=Xl(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?kt(o.injectImpl):null,u=bE(t,r,ue.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&TO(n,s[n],e)}finally{c!==null&&kt(c),Xl(a),o.resolving=!1,SE()}}return i}function BO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Lo)?t[Lo]:void 0;return typeof e=="number"?e>=0?e&NE:UO:e}function yC(t,e,n){let r=1<<t;return!!(n[e+(t>>FE)]&r)}function CC(t,e){return!(t&ue.Self)&&!(t&ue.Host&&e)}var xi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return jE(this._tNode,this._lView,e,mc(r),n)}};function UO(){return new xi(nn(),xe())}function ea(t){return Zo(()=>{let e=t.prototype.constructor,n=e[zl]||eh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[zl]||eh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function eh(t){return $C(t)?()=>{let e=eh(bt(t));return e&&e()}:Mi(t)}function HO(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[ne]&2048&&!(o[ne]&512);){let a=BE(s,o,n,r|ue.Self,Un);if(a!==Un)return a;let l=s.parent;if(!l){let c=o[lE];if(c){let u=c.get(n,Un,r);if(u!==Un)return u}l=UE(o),o=o[Rs]}s=l}return i}function UE(t){let e=t[oe],n=e.type;return n===2?e.declTNode:n===1?t[Nn]:null}function Hh(t){return kO(nn(),t)}var Ol="__parameters__";function $O(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function HE(t,e,n){return Zo(()=>{let r=$O(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(Ol)?l[Ol]:Object.defineProperty(l,Ol,{value:[]})[Ol];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function zO(t){return typeof t=="function"}function $h(t,e){t.forEach(n=>Array.isArray(n)?$h(n,e):e(n))}function $E(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function GO(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function qO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function zh(t,e,n){let r=ta(t,e);return r>=0?t[r|1]=n:(r=~r,qO(t,r,e,n)),r}function Rf(t,e){let n=ta(t,e);if(n>=0)return t[n|1]}function ta(t,e){return YO(t,e,1)}function YO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Gh=ZC(HE("Optional"),8);var zE=ZC(HE("SkipSelf"),4);var Os=new Q("ENVIRONMENT_INITIALIZER"),GE=new Q("INJECTOR",-1),qE=new Q("INJECTOR_DEF_TYPES"),ec=class{get(e,n=jo){if(n===jo){let r=new Error(`NullInjectorError: No provider for ${_t(e)}!`);throw r.name="NullInjectorError",r}return n}};function Hr(t){return{\u0275providers:t}}function yc(...t){return{\u0275providers:YE(!0,t),\u0275fromNgModule:!0}}function YE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return $h(e,o=>{let a=o;th(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&WE(i,s),n}function WE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];qh(i,s=>{e(s,r)})}}function th(t,e,n,r){if(t=bt(t),!t)return!1;let i=null,s=cC(t),o=!s&&bi(t);if(!s&&!o){let l=t.ngModule;if(s=cC(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)th(c,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{$h(s.imports,u=>{th(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&WE(c,e)}if(!a){let c=Mi(i)||(()=>new i);e({provide:i,useFactory:c,deps:It},i),e({provide:qE,useValue:i,multi:!0},i),e({provide:Os,useValue:()=>W(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=t;qh(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function qh(t,e){for(let n of t)zC(n)&&(n=n.\u0275providers),Array.isArray(n)?qh(n,e):e(n)}var WO=Ie({provide:String,useValue:Ie});function QE(t){return t!==null&&typeof t=="object"&&WO in t}function QO(t){return!!(t&&t.useExisting)}function ZO(t){return!!(t&&t.useFactory)}function Ts(t){return typeof t=="function"}function XO(t){return!!t.useClass}var Cc=new Q("Set Injector scope."),Ul={},KO={},Of;function Yh(){return Of===void 0&&(Of=new ec),Of}var jt=class{},Go=class extends jt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rh(e,o=>this.processProvider(o)),this.records.set(GE,Cs(void 0,this)),i.has("environment")&&this.records.set(jt,Cs(void 0,this));let s=this.records.get(Cc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(qE,It,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Nr(this),r=kt(void 0),i;try{return e()}finally{Nr(n),kt(r)}}get(e,n=jo,r=ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(aC))return e[aC](this);r=mc(r);let i,s=Nr(this),o=kt(void 0);try{if(!(r&ue.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=rP(e)&&pc(e);c&&this.injectableDefInScope(c)?l=Cs(nh(e),Ul):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&ue.Self?Yh():this.parent;return n=r&ue.Optional&&n===jo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Gl]=a[Gl]||[]).unshift(_t(e)),s)throw a;return BR(a,e,"R3InjectorError",this.source)}else throw a}finally{kt(o),Nr(s)}}resolveInjectorInitializers(){let e=Nr(this),n=kt(void 0),r;try{let i=this.get(Os,It,ue.Self);for(let s of i)s()}finally{Nr(e),kt(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(_t(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(e){e=bt(e);let n=Ts(e)?e:bt(e&&e.provide),r=eP(e);if(!Ts(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Cs(void 0,Ul,!0),i.factory=()=>Wf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===Ul&&(n.value=KO,n.value=n.factory()),typeof n.value=="object"&&n.value&&nP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=bt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function nh(t){let e=pc(t),n=e!==null?e.factory:Mi(t);if(n!==null)return n;if(t instanceof Q)throw new q(204,!1);if(t instanceof Function)return JO(t);throw new q(204,!1)}function JO(t){let e=t.length;if(e>0){let r=GO(e,"?");throw new q(204,!1)}let n=RR(t);return n!==null?()=>n.factory(t):()=>new t}function eP(t){if(QE(t))return Cs(void 0,t.useValue);{let e=ZE(t);return Cs(e,Ul)}}function ZE(t,e,n){let r;if(Ts(t)){let i=bt(t);return Mi(i)||nh(i)}else if(QE(t))r=()=>bt(t.useValue);else if(ZO(t))r=()=>t.useFactory(...Wf(t.deps||[]));else if(QO(t))r=()=>W(bt(t.useExisting));else{let i=bt(t&&(t.useClass||t.provide));if(tP(t))r=()=>new i(...Wf(t.deps));else return Mi(i)||nh(i)}return r}function Cs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function tP(t){return!!t.deps}function nP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function rP(t){return typeof t=="function"||typeof t=="object"&&t instanceof Q}function rh(t,e){for(let n of t)Array.isArray(n)?rh(n,e):n&&zC(n)?rh(n.\u0275providers,e):e(n)}function mr(t,e){t instanceof Go&&t.assertNotDestroyed();let n,r=Nr(t),i=kt(void 0);try{return e()}finally{Nr(r),kt(i)}}function EC(t,e=null,n=null,r){let i=XE(t,e,n,r);return i.resolveInjectorInitializers(),i}function XE(t,e=null,n=null,r,i=new Set){let s=[n||It,yc(t)];return r=r||(typeof t=="object"?void 0:_t(t)),new Go(s,e||Yh(),r||null,i)}var gr=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return EC({name:""},i,r,"");{let s=r.name??"";return EC({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=jo,e.NULL=new ec,e.\u0275prov=j({token:e,providedIn:"any",factory:()=>W(GE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var ih;function KE(t){ih=t}function Ec(){if(ih!==void 0)return ih;if(typeof document<"u")return document;throw new q(210,!1)}var wc=new Q("AppId",{providedIn:"root",factory:()=>iP}),iP="ng",Wh=new Q("Platform Initializer"),zn=new Q("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Qh=new Q("CSP nonce",{providedIn:"root",factory:()=>Ec().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function sP(t){return t.ownerDocument.body}function JE(t){return t instanceof Function?t():t}function Pl(t){return(t??N(gr)).get(zn)==="browser"}var oP="ngSkipHydration",aP="ngskiphydration";function ew(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===aP)return!0}return!1}function tw(t){return t.hasAttribute(oP)}function tc(t){return(t.flags&128)===128}function lP(t){if(tc(t))return!0;let e=t.parent;for(;e;){if(tc(t)||ew(e))return!0;e=e.parent}return!1}var fr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(fr||{}),cP=/^>|^->|<!--|-->|--!>|<!-$/g,uP=/(<|>)/g,dP="\u200B$1\u200B";function fP(t){return t.replace(cP,e=>e.replace(uP,dP))}var nw=new Map,hP=0;function pP(){return hP++}function mP(t){nw.set(t[_c],t)}function gP(t){nw.delete(t[_c])}var wC="__ngContext__";function Ai(t,e){Hn(e)?(t[wC]=e[_c],mP(e)):t[wC]=e}var _P;function Zh(t,e){return _P(t,e)}function Xh(t){let e=t[tt];return dn(e)?e[tt]:e}function rw(t){return sw(t[Ho])}function iw(t){return sw(t[On])}function sw(t){for(;t!==null&&!dn(t);)t=t[On];return t}function Es(t,e,n,r,i){if(r!=null){let s,o=!1;dn(r)?s=r:Hn(r)&&(o=!0,r=r[Kt]);let a=Pn(r);t===0&&n!==null?i==null?uw(e,n,a):nc(e,n,a,i||null,!0):t===1&&n!==null?nc(e,n,a,i||null,!0):t===2?fw(e,a,o):t===3&&e.destroyNode(a),s!=null&&FP(e,t,s,n,i)}}function ow(t,e){return t.createText(e)}function vP(t,e,n){t.setValue(e,n)}function aw(t,e){return t.createComment(fP(e))}function Kh(t,e,n){return t.createElement(e,n)}function yP(t,e){let n=e[Be];na(t,e,n,2,null,null),e[Kt]=null,e[Nn]=null}function CP(t,e,n,r,i,s){r[Kt]=i,r[Nn]=e,na(t,r,n,1,i,s)}function EP(t,e){na(t,e,e[Be],2,null,null)}function wP(t){let e=t[Ho];if(!e)return Pf(t[oe],t);for(;e;){let n=null;if(Hn(e))n=e[Ho];else{let r=e[Xt];r&&(n=r)}if(!n){for(;e&&!e[On]&&e!==t;)Hn(e)&&Pf(e[oe],e),e=e[tt];e===null&&(e=t),Hn(e)&&Pf(e[oe],e),n=e&&e[On]}e=n}}function DP(t,e,n,r){let i=Xt+r,s=n.length;r>0&&(n[i-1][On]=e),r<s-Xt?(e[On]=n[i],$E(n,Xt+r,e)):(n.push(e),e[On]=null),e[tt]=n;let o=e[gc];o!==null&&n!==o&&xP(o,e);let a=e[$o];a!==null&&a.insertView(t),yE(e),e[ne]|=128}function xP(t,e){let n=t[Yl],i=e[tt][tt][un];e[un]!==i&&(t[ne]|=Is.HasTransplantedViews),n===null?t[Yl]=[e]:n.push(e)}function lw(t,e){let n=t[Yl],r=n.indexOf(e),i=e[tt];n.splice(r,1)}function sh(t,e){if(t.length<=Xt)return;let n=Xt+e,r=t[n];if(r){let i=r[gc];i!==null&&i!==t&&lw(i,r),e>0&&(t[n-1][On]=r[On]);let s=Jl(t,Xt+e);yP(r[oe],r);let o=s[$o];o!==null&&o.detachView(s[oe]),r[tt]=null,r[On]=null,r[ne]&=-129}return r}function cw(t,e){if(!(e[ne]&256)){let n=e[Be];e[Ii]&&F1(e[Ii]),n.destroyNode&&na(t,e,n,3,null,null),wP(e)}}function Pf(t,e){if(!(e[ne]&256)){e[ne]&=-129,e[ne]|=256,IP(t,e),bP(t,e),e[oe].type===1&&e[Be].destroy();let n=e[gc];if(n!==null&&dn(e[tt])){n!==e[tt]&&lw(n,e);let r=e[$o];r!==null&&r.detachView(t)}gP(e)}}function bP(t,e){let n=t.cleanup,r=e[Uo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Uo]=null);let i=e[Vo];if(i!==null){e[Vo]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function IP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Si)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];Bn(4,a,l);try{l.call(a)}finally{Bn(5,a,l)}}else{Bn(4,i,s);try{s.call(i)}finally{Bn(5,i,s)}}}}}function MP(t,e,n){return TP(t,e.parent,n)}function TP(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Kt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===$n.None||s===$n.Emulated)return null}return tn(r,n)}}function nc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function uw(t,e,n){t.appendChild(e,n)}function DC(t,e,n,r,i){r!==null?nc(t,e,n,r,i):uw(t,e,n)}function SP(t,e,n,r){t.removeChild(e,n,r)}function Jh(t,e){return t.parentNode(e)}function AP(t,e){return t.nextSibling(e)}function RP(t,e,n){return PP(t,e,n)}function OP(t,e,n){return t.type&40?tn(t,n):null}var PP=OP,xC;function ep(t,e,n,r){let i=MP(t,r,e),s=e[Be],o=r.parent||e[Nn],a=RP(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)DC(s,i,n[l],a,!1);else DC(s,i,n,a,!1);xC!==void 0&&xC(s,r,e,n,i)}function Hl(t,e){if(e!==null){let n=e.type;if(n&3)return tn(e,t);if(n&4)return oh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Hl(t,r);{let i=t[e.index];return dn(i)?oh(-1,i):Pn(i)}}else{if(n&32)return Zh(e,t)()||Pn(t[e.index]);{let r=dw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Xh(t[un]);return Hl(i,r)}else return Hl(t,e.next)}}}return null}function dw(t,e){if(e!==null){let r=t[un][Nn],i=e.projection;return r.projection[i]}return null}function oh(t,e){let n=Xt+t+1;if(n<e.length){let r=e[n],i=r[oe].firstChild;if(i!==null)return Hl(r,i)}return e[dr]}function fw(t,e,n){let r=Jh(t,e);r&&SP(t,r,e,n)}function hw(t){t.textContent=""}function tp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],l=n.type;if(o&&e===0&&(a&&Ai(Pn(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)tp(t,e,n.child,r,i,s,!1),Es(e,t,i,a,s);else if(l&32){let c=Zh(n,r),u;for(;u=c();)Es(e,t,i,u,s);Es(e,t,i,a,s)}else l&16?NP(t,e,r,n,i,s):Es(e,t,i,a,s);n=o?n.projectionNext:n.next}}function na(t,e,n,r,i,s){tp(n,r,t.firstChild,e,i,s,!1)}function NP(t,e,n,r,i,s){let o=n[un],l=o[Nn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Es(e,t,i,u,s)}else{let c=l,u=o[tt];tc(r)&&(c.flags|=128),tp(t,e,c,u,i,s,!0)}}function FP(t,e,n,r,i){let s=n[dr],o=Pn(n);s!==o&&Es(e,t,r,s,i);for(let a=Xt;a<n.length;a++){let l=n[a];na(l[oe],l,t,e,r,s)}}function LP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:fr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=fr.Important),t.setStyle(n,r,i,s))}}function kP(t,e,n){t.setAttribute(e,"style",n)}function pw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function mw(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Qf(t,e,r),i!==null&&pw(t,e,i),s!==null&&kP(t,e,s)}var Nl;function VP(){if(Nl===void 0&&(Nl=null,Vt.trustedTypes))try{Nl=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Nl}function bC(t){return VP()?.createScriptURL(t)||t}var rc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${GC})`}};function Ps(t){return t instanceof rc?t.changingThisBreaksApplicationSecurity:t}function np(t,e){let n=jP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${GC})`)}return n===e}function jP(t){return t instanceof rc&&t.getTypeName()||null}var BP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gw(t){return t=String(t),t.match(BP)?t:"unsafe:"+t}var Dc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Dc||{});function Me(t){let e=vw();return e?e.sanitize(Dc.URL,t)||"":np(t,"URL")?Ps(t):gw(Di(t))}function UP(t){let e=vw();if(e)return bC(e.sanitize(Dc.RESOURCE_URL,t)||"");if(np(t,"ResourceURL"))return bC(Ps(t));throw new q(904,!1)}function HP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?UP:Me}function _w(t,e,n){return HP(e,n)(t)}function vw(){let t=xe();return t&&t[bs].sanitizer}function $P(){let t=new Ni;return N(zn)==="browser"&&(t.store=zP(Ec(),N(wc))),t}var Ni=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=j({token:e,providedIn:"root",factory:$P});let t=e;return t})();function zP(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var yw="h",Cw="b",ah=function(t){return t.FirstChild="f",t.NextSibling="n",t}(ah||{}),GP="e",qP="t",rp="c",Ew="x",ic="r",YP="i",WP="n",QP="d",ZP="__nghData__",ww=ZP,Nf="ngh",XP="nghm",Dw=(t,e,n)=>null;function KP(t,e,n=!1){let r=t.getAttribute(Nf);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=n?i:s?`|${s}`:"",a={};if(r!==""){let c=e.get(Ni,null,{optional:!0});c!==null&&(a=c.get(ww,[])[Number(r)])}let l={data:a,firstChild:t.firstChild??null};return n&&(l.firstChild=t,xc(l,0,t.nextSibling)),o?t.setAttribute(Nf,o):t.removeAttribute(Nf),l}function JP(){Dw=KP}function ip(t,e,n=!1){return Dw(t,e,n)}function eN(t){let e=t._lView;return e[oe].type===2?null:(dE(e)&&(e=e[Mt]),e)}function tN(t){return t.textContent?.replace(/\s/gm,"")}function nN(t){let e=Ec(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=tN(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function xc(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function lh(t,e){return t.segmentHeads?.[e]??null}function rN(t,e){let n=t.data,r=n[GP]?.[e]??null;return r===null&&n[rp]?.[e]&&(r=sp(t,e)),r}function xw(t,e){return t.data[rp]?.[e]??null}function sp(t,e){let n=xw(t,e)??[],r=0;for(let i of n)r+=i[ic]*(i[Ew]??1);return r}function bc(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[QP];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var ch=class{},sc=class{};function iN(t){let e=Error(`No component factory found for ${_t(t)}.`);return e[sN]=t,e}var sN="ngComponent";var uh=class{resolveComponentFactory(e){throw iN(e)}},Ic=(()=>{let e=class e{};e.NULL=new uh;let t=e;return t})();function oN(){return Mc(nn(),xe())}function Mc(t,e){return new $r(tn(t,e))}var $r=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=oN;let t=e;return t})();var qo=class{},Fi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>aN();let t=e;return t})();function aN(){let t=xe(),e=nn(),n=jr(e.index,t);return(Hn(n)?n:t)[Be]}var lN=(()=>{let e=class e{};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ri=class{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}},cN=new Ri("17.0.5"),Ff={};function bw(t){return dN(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function uN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function dN(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var dh=class{constructor(){}supports(e){return bw(e)}create(e){return new fh(e)}},fN=(t,e)=>e,fh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fN}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<IC(r,i,s)?n:r,a=IC(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){let h=f<s.length?s[f]:s[f]=0,m=h+f;u<=m&&m<c&&(s[f]=h+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!bw(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,uN(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new hh(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new oc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new oc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},hh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ph=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},oc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new ph,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function IC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function MC(){return new op([new dh])}var op=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||MC()),deps:[[e,new zE,new Gh]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new q(901,!1)}};e.\u0275prov=j({token:e,providedIn:"root",factory:MC});let t=e;return t})();function ac(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Pn(s)),dn(s)&&hN(s,r);let o=n.type;if(o&8)ac(t,e,n.child,r);else if(o&32){let a=Zh(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=dw(e,n);if(Array.isArray(a))r.push(...a);else{let l=Xh(e[un]);ac(l[oe],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function hN(t,e){for(let n=Xt;n<t.length;n++){let r=t[n],i=r[oe].firstChild;i!==null&&ac(r[oe],r,i,e)}t[dr]!==t[Kt]&&e.push(t[dr])}var Iw=[];function pN(t){return t[Ii]??mN(t)}function mN(t){let e=Iw.pop()??Object.create(_N);return e.lView=t,e}function gN(t){t.lView[Ii]!==t&&(t.lView=null,Iw.push(t))}var _N=De(V({},O1),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{vc(t.lView)},consumerOnSignalRead(){this.lView[Ii]=this}}),vN="ngOriginalError";function Lf(t){return t[vN]}var hr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Lf(e);for(;n&&Lf(n);)n=Lf(n);return n||null}},Fl=new Q(""),Mw=!1,Tw=new Q("",{providedIn:"root",factory:()=>Mw});var rn={};function I(t){Sw(Bt(),xe(),Br()+t,!1)}function Sw(t,e,n,r){if(!r)if((e[ne]&3)===3){let s=t.preOrderCheckHooks;s!==null&&jl(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Bl(e,s,0,n)}Ti(n)}function L(t,e=ue.Default){let n=xe();if(n===null)return W(t,e);let r=nn();return jE(r,n,bt(t),e)}function yN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ti(~i);else{let s=i,o=n[++r],a=n[++r];DO(o,s);let l=e[s];a(2,l)}}}finally{Ti(-1)}}function Tc(t,e,n,r,i,s,o,a,l,c,u){let d=e.blueprint.slice();return d[Kt]=i,d[ne]=r|4|128|8,(c!==null||t&&t[ne]&2048)&&(d[ne]|=2048),_E(d),d[tt]=d[Rs]=t,d[cn]=n,d[bs]=o||t&&t[bs],d[Be]=a||t&&t[Be],d[xs]=l||t&&t[xs]||null,d[Nn]=s,d[_c]=pP(),d[Fr]=u,d[lE]=c,d[un]=e.type==2?t[un]:d,d}function Sc(t,e,n,r,i){let s=t.data[e];if(s===null)s=CN(t,e,n,r,i),wO()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=vO();s.injectorIndex=o===null?-1:o.injectorIndex}return Jo(s,!0),s}function CN(t,e,n,r,i){let s=EE(),o=wE(),a=o?s:s&&s.parent,l=t.data[e]=IN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function Aw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Rw(t,e,n,r,i){let s=Br(),o=r&2;try{Ti(-1),o&&e.length>Mt&&Sw(t,e,Mt,!1),Bn(o?2:0,i),n(r,i)}finally{Ti(s),Bn(o?3:1,i)}}function Ow(t,e,n){if(uE(e)){let r=Qt(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Qt(r)}}}function Pw(t,e,n){CE()&&(ON(t,e,n,tn(n,e)),(n.flags&64)===64&&Bw(t,e,n))}function Nw(t,e,n=tn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function Fw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ap(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ap(t,e,n,r,i,s,o,a,l,c,u){let d=Mt+r,f=d+i,h=EN(d,f),m=typeof c=="function"?c():c;return h[oe]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1,ssrId:u}}function EN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:rn);return n}function wN(t,e,n,r){let s=r.get(Tw,Mw)||n===$n.ShadowDom,o=t.selectRootElement(e,s);return DN(o),o}function DN(t){Lw(t)}var Lw=t=>null;function xN(t){tw(t)?hw(t):nN(t)}function bN(){Lw=xN}function IN(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Ko()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function TC(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?SC(n,e,i,s):r.hasOwnProperty(i)&&SC(n,e,r[i],s)}return n}function SC(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function MN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=s[u],f=n?n.get(d):null,h=f?f.inputs:null,m=f?f.outputs:null;l=TC(d.inputs,u,l,h),c=TC(d.outputs,u,c,m);let p=l!==null&&o!==null&&!tE(e)?$N(l,u,o):null;a.push(p)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function TN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function kw(t,e,n,r,i,s,o,a){let l=tn(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[r])?(lp(t,n,u,r,i),Xo(e)&&SN(n,e.index)):e.type&3?(r=TN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function SN(t,e){let n=jr(e,t);n[ne]&16||(n[ne]|=64)}function Vw(t,e,n,r){if(CE()){let i=r===null?null:{"":-1},s=NN(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&jw(t,e,n,o,i,a),i&&FN(n,r,i)}n.mergedAttrs=Bo(n.mergedAttrs,n.attrs)}function jw(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Jf(Kl(n,e),t,r[c].type);kN(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Aw(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=Bo(n.mergedAttrs,u.hostAttrs),VN(t,n,e,l,u),LN(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}MN(t,n,s)}function AN(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;RN(o)!=a&&o.push(a),o.push(n,r,s)}}function RN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ON(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Xo(n)&&jN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Kl(n,e),Ai(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let l=t.data[a],c=Ms(e,t,a,n);if(Ai(c,e),o!==null&&HN(e,a-i,c,l,n,o),Lr(l)){let u=jr(n.index,e);u[cn]=Ms(e,t,a,n)}}}function Bw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=xO();try{Ti(s);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];Xf(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&PN(l,c)}}finally{Ti(-1),Xf(o)}}function PN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function NN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(YR(e,o.selectors,!1))if(r||(r=[]),Lr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let l=a.length;mh(t,e,l)}else r.unshift(o),mh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function mh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function FN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new q(-301,!1);r.push(e[i],s)}}}function LN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Lr(e)&&(n[""]=t)}}function kN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function VN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Mi(i.type,!0)),o=new Si(s,Lr(i),L);t.blueprint[r]=o,n[r]=o,AN(t,e,r,Aw(t,n,i.hostVars,rn),i)}function jN(t,e,n){let r=tn(e,t),i=Fw(n),s=t[bs].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Ac(t,Tc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function BN(t,e,n,r,i,s){let o=tn(t,e);UN(e[Be],o,s,t.value,n,r,i)}function UN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Di(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function HN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++];Uw(r,n,l,c,u)}}function Uw(t,e,n,r,i){let s=Qt(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{Qt(s)}}function $N(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}return r}function Hw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function $w(t,e){let n=t.contentQueries;if(n!==null){let r=Qt(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];xE(s),a.contentQueries(2,e[o],o)}}}finally{Qt(r)}}}function Ac(t,e){return t[Ho]?t[gC][On]=e:t[Ho]=e,t[gC]=e,e}function gh(t,e,n){xE(0);let r=Qt(null);try{e(t,n)}finally{Qt(r)}}function zN(t){return t[Uo]||(t[Uo]=[])}function GN(t){return t.cleanup||(t.cleanup=[])}function zw(t,e){let n=t[xs],r=n?n.get(hr,null):null;r&&r.handleError(e)}function lp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=e[o],c=t.data[o];Uw(c,l,r,a,i)}}function Gw(t,e,n){let r=mE(e,t);vP(t[Be],r,n)}var qN=100;function YN(t,e=!0){let n=t[bs],r=n.rendererFactory,i=n.afterRenderEventManager,s=!1;s||(r.begin?.(),i?.begin());try{let o=t[oe],a=t[cn];qw(o,t,o.template,a),WN(t)}catch(o){throw e&&zw(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush(),i?.end())}}function WN(t){let e=0;for(;vE(t);){if(e===qN)throw new q(103,!1);e++,Qw(t,1)}}function qw(t,e,n,r){let i=e[ne];if((i&256)===256)return;let s=!1;!s&&e[bs].inlineEffectRunner?.flush(),Lh(e);let o=null,a=null;!s&&QN(t)&&(a=pN(e),o=P1(a));try{_E(e),EO(t.bindingStartIndex),n!==null&&Rw(t,e,n,2,r);let l=(i&3)===3;if(!s)if(l){let d=t.preOrderCheckHooks;d!==null&&jl(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Bl(e,d,0,null),Sf(e,0)}if(ZN(e),Yw(e,0),t.contentQueries!==null&&$w(t,e),!s)if(l){let d=t.contentCheckHooks;d!==null&&jl(e,d)}else{let d=t.contentHooks;d!==null&&Bl(e,d,1),Sf(e,1)}yN(t,e);let c=t.components;c!==null&&Zw(e,c,0);let u=t.viewQuery;if(u!==null&&gh(2,u,r),!s)if(l){let d=t.viewCheckHooks;d!==null&&jl(e,d)}else{let d=t.viewHooks;d!==null&&Bl(e,d,2),Sf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Tf]){for(let d of e[Tf])d();e[Tf]=null}s||(e[ne]&=-73)}catch(l){throw vc(e),l}finally{a!==null&&(N1(a,o),gN(a)),kh()}}function QN(t){return t.type!==2}function Yw(t,e){for(let n=rw(t);n!==null;n=iw(n)){n[ne]&=~Is.HasChildViewsToRefresh;for(let r=Xt;r<n.length;r++){let i=n[r];Ww(i,e)}}}function ZN(t){for(let e=rw(t);e!==null;e=iw(e)){if(!(e[ne]&Is.HasTransplantedViews))continue;let n=e[Yl];for(let r=0;r<n.length;r++){let i=n[r],s=i[tt];cO(i)}}}function XN(t,e,n){let r=jr(e,t);Ww(r,n)}function Ww(t,e){Ph(t)&&Qw(t,e)}function Qw(t,e){let r=t[oe],i=t[ne],s=t[Ii],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&rf(s)),s&&(s.dirty=!1),t[ne]&=-9217,o)qw(r,t,r.template,t[cn]);else if(i&8192){Yw(t,1);let a=r.components;a!==null&&Zw(t,a,1)}}function Zw(t,e,n){for(let r=0;r<e.length;r++)XN(t,e[r],n)}function cp(t){for(;t;){t[ne]|=64;let e=Xh(t);if(dE(t)&&!e)return t;t=e}return null}var Oi=class{get rootNodes(){let e=this._lView,n=e[oe];return ac(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[cn]}set context(e){this._lView[cn]=e}get destroyed(){return(this._lView[ne]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[tt];if(dn(e)){let n=e[ql],r=n?n.indexOf(this):-1;r>-1&&(sh(e,r),Jl(n,r))}this._attachedToViewContainer=!1}cw(this._lView[oe],this._lView)}onDestroy(e){dO(this._lView,e)}markForCheck(){cp(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){yE(this._lView),this._lView[ne]|=128}detectChanges(){YN(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,EP(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e}},Li=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=KN;let t=e;return t})();function KN(t){return JN(nn(),xe(),(t&16)===16)}function JN(t,e,n){if(Xo(t)&&!n){let r=jr(t.index,e);return new Oi(r,r)}else if(t.type&47){let r=e[un];return new Oi(r,e)}return null}var AC=new Set;function ra(t){AC.has(t)||(AC.add(t),performance?.mark?.("mark_use_counter",{detail:{feature:t}}))}var _h=class extends at{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=kf(s),i&&(i=kf(i)),o&&(o=kf(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ot&&e.add(a),a}};function kf(t){return e=>{setTimeout(t,void 0,e)}}var ve=_h;function RC(...t){}function e2(){let t=typeof Vt.requestAnimationFrame=="function",e=Vt[t?"requestAnimationFrame":"setTimeout"],n=Vt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Re=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ve(!1),this.onMicrotaskEmpty=new ve(!1),this.onStable=new ve(!1),this.onError=new ve(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=e2().nativeRequestAnimationFrame,r2(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,t2,RC,RC);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},t2={};function up(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function n2(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Vt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vh(t),t.isCheckStableRunning=!0,up(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vh(t))}function r2(t){let e=()=>{n2(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(i2(a))return n.invokeTask(i,s,o,a);try{return OC(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),PC(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return OC(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),PC(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,vh(t),up(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function vh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function OC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function PC(t){t._nesting--,up(t)}var Xw=new Q("",{providedIn:"root",factory:Kw});function Kw(){let t=N(Re),e=!0,n=new fe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),r=new fe(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});let o=t.onUnstable.subscribe(()=>{Re.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}});return Cf(n,r.pipe(Al()))}function i2(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var s2=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function o2(t,e){let n=jr(e,t),r=n[oe];a2(r,n);let i=n[Kt];i!==null&&n[Fr]===null&&(n[Fr]=ip(i,n[xs])),dp(r,n,n[cn])}function a2(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function dp(t,e,n){Lh(e);try{let r=t.viewQuery;r!==null&&gh(1,r,n);let i=t.template;i!==null&&Rw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&$w(t,e),t.staticViewQueries&&gh(2,t.viewQuery,n);let s=t.components;s!==null&&l2(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,kh()}}function l2(t,e){for(let n=0;n<e.length;n++)o2(t,e[n])}function yh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Gf(i,a);else if(s==2){let l=a,c=e[++o];r=Gf(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var lc=class extends Ic{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=bi(e);return new Yo(n,this.ngModule)}};function NC(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function c2(t){let e=t.toLowerCase();return e==="svg"?sO:e==="math"?oO:null}var Ch=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=mc(r);let i=this.injector.get(e,Ff,r);return i!==Ff||n===Ff?i:this.parentInjector.get(e,n,r)}},Yo=class extends sc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=NC(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return NC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=XR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof jt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Ch(e,s):e,a=o.get(qo,null);if(a===null)throw new q(407,!1);let l=o.get(lN,null),c=o.get(s2,null),u={rendererFactory:a,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:c},d=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",h=r?wN(d,r,this.componentDef.encapsulation,o):Kh(d,f,c2(f)),m=4608,p=this.componentDef.onPush?576:528,g=this.componentDef.signals?m:p,_=null;h!==null&&(_=ip(h,o,!0));let v=ap(0,null,null,1,0,null,null,null,null,null,null),C=Tc(null,v,null,g,null,null,u,d,o,null,_);Lh(C);let y,E;try{let b=this.componentDef,A,O=null;b.findHostDirectiveDefs?(A=[],O=new Map,b.findHostDirectiveDefs(b,A,O),A.push(b)):A=[b];let S=u2(C,h),U=d2(S,h,b,A,C,u,d);E=gE(v,Mt),h&&p2(d,b,h,r),n!==void 0&&m2(E,this.ngContentSelectors,n),y=h2(U,b,A,O,C,[g2]),dp(v,C,null)}finally{kh()}return new Eh(this.componentType,y,Mc(E,C),C,E)}},Eh=class extends ch{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Oi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;lp(s[oe],s,i,e,n),this.previousInputValues.set(e,n);let o=jr(this._tNode.index,s);cp(o)}}get injector(){return new xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function u2(t,e){let n=t[oe],r=Mt;return t[r]=e,Sc(n,r,2,"#host",null)}function d2(t,e,n,r,i,s,o){let a=i[oe];f2(r,t,e,o);let l=null;e!==null&&(l=ip(e,i[xs]));let c=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Tc(i,Fw(n),null,u,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&mh(a,t,r.length-1),Ac(i,d),i[t.index]=d}function f2(t,e,n,r){for(let i of t)e.mergedAttrs=Bo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(yh(e,e.mergedAttrs,!0),n!==null&&mw(r,n,e))}function h2(t,e,n,r,i,s){let o=nn(),a=i[oe],l=tn(o,i);jw(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,f=Ms(i,a,d,o);Ai(f,i)}Bw(a,i,o),l&&Ai(l,i);let c=Ms(i,a,o.directiveStart+o.componentOffset,o);if(t[cn]=i[cn]=c,s!==null)for(let u of s)u(c,e);return Ow(a,o,t),c}function p2(t,e,n,r){if(r)Qf(t,n,["ng-version",cN.full]);else{let{attrs:i,classes:s}=KR(e.selectors[0]);i&&Qf(t,n,i),s&&s.length>0&&pw(t,n,s.join(" "))}}function m2(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function g2(){let t=nn();Bh(xe()[oe],t)}function _2(t){return Object.getPrototypeOf(t.prototype).constructor}function zr(t){let e=_2(t.type),n=!0,r=[t];for(;e;){let i;if(Lr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Ll(t.inputs),o.inputTransforms=Ll(t.inputTransforms),o.declaredInputs=Ll(t.declaredInputs),o.outputs=Ll(t.outputs);let a=i.hostBindings;a&&E2(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&y2(t,l),c&&C2(t,c),Rl(t.inputs,i.inputs),Rl(t.declaredInputs,i.declaredInputs),Rl(t.outputs,i.outputs),i.inputTransforms!==null&&(o.inputTransforms===null&&(o.inputTransforms={}),Rl(o.inputTransforms,i.inputTransforms)),Lr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===zr&&(n=!1)}}e=Object.getPrototypeOf(e)}v2(r)}function v2(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Bo(i.hostAttrs,n=Bo(n,i.hostAttrs))}}function Ll(t){return t===Ds?{}:t===It?[]:t}function y2(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function C2(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function E2(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function fp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Jw(t,e,n){return t[e]=n}function w2(t,e){return t[e]}function pr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function D2(t,e,n,r){let i=pr(t,e,n);return pr(t,e+1,r)||i}function x2(t,e,n,r,i){let s=D2(t,e,n,r);return pr(t,e+2,i)||s}function Rc(t,e,n,r){let i=xe(),s=Nh();if(pr(i,s,e)){let o=Bt(),a=Vh();BN(a,i,t,e,n,r)}return Rc}function eD(t,e,n,r){return pr(t,Nh(),n)?e+Di(n)+r:rn}function b2(t,e,n,r,i,s,o,a){let l=CO(),c=x2(t,l,n,i,o);return Fh(3),c?e+Di(n)+r+Di(i)+s+Di(o)+a:rn}function kl(t,e){return t<<17|e<<2}function Pi(t){return t>>17&32767}function I2(t){return(t&2)==2}function M2(t,e){return t&131071|e<<17}function wh(t){return t|2}function Ss(t){return(t&131068)>>2}function Vf(t,e){return t&-131069|e<<2}function T2(t){return(t&1)===1}function Dh(t){return t|1}function S2(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Pi(o),l=Ss(o);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||ta(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let f=Pi(t[a+1]);t[r+1]=kl(f,a),f!==0&&(t[f+1]=Vf(t[f+1],r)),t[a+1]=M2(t[a+1],r)}else t[r+1]=kl(a,0),a!==0&&(t[a+1]=Vf(t[a+1],r)),a=r;else t[r+1]=kl(l,0),a===0?a=r:t[l+1]=Vf(t[l+1],r),l=r;c&&(t[r+1]=wh(t[r+1])),FC(t,u,r,!0,s),FC(t,u,r,!1,s),A2(e,u,t,r,s),o=kl(a,l),s?e.classBindings=o:e.styleBindings=o}function A2(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ta(s,e)>=0&&(n[r+1]=Dh(n[r+1]))}function FC(t,e,n,r,i){let s=t[n+1],o=e===null,a=r?Pi(s):Ss(s),l=!1;for(;a!==0&&(l===!1||o);){let c=t[a],u=t[a+1];R2(c,e)&&(l=!0,t[a+1]=r?Dh(u):wh(u)),a=r?Pi(u):Ss(u)}l&&(t[n+1]=r?wh(s):Dh(s))}function R2(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ta(t,e)>=0:!1}var Rn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function O2(t){return t.substring(Rn.key,Rn.keyEnd)}function P2(t){return N2(t),tD(t,nD(t,0,Rn.textEnd))}function tD(t,e){let n=Rn.textEnd;return n===e?-1:(e=Rn.keyEnd=F2(t,Rn.key=e,n),nD(t,e,n))}function N2(t){Rn.key=0,Rn.keyEnd=0,Rn.value=0,Rn.valueEnd=0,Rn.textEnd=t.length}function nD(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function F2(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function M(t,e,n){let r=xe(),i=Nh();if(pr(r,i,e)){let s=Bt(),o=Vh();kw(s,o,r,t,e,r[Be],n,!1)}return M}function xh(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";lp(t,n,s[o],o,r)}function Oc(t,e){return k2(t,e,null,!0),Oc}function hp(t){V2(z2,L2,t,!0)}function L2(t,e){for(let n=P2(e);n>=0;n=tD(e,n))zh(t,O2(e),!0)}function k2(t,e,n,r){let i=xe(),s=Bt(),o=Fh(2);if(s.firstUpdatePass&&iD(s,t,o,r),e!==rn&&pr(i,o,e)){let a=s.data[Br()];sD(s,a,i,i[Be],t,i[o+1]=q2(e,n),r,o)}}function V2(t,e,n,r){let i=Bt(),s=Fh(2);i.firstUpdatePass&&iD(i,null,s,r);let o=xe();if(n!==rn&&pr(o,s,n)){let a=i.data[Br()];if(oD(a,r)&&!rD(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Gf(l,n||"")),xh(i,a,o,n,r)}else G2(i,a,o,o[Be],o[s+1],o[s+1]=$2(t,e,n),r,s)}}function rD(t,e){return e>=t.expandoStartIndex}function iD(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Br()],o=rD(t,n);oD(s,r)&&e===null&&!o&&(e=!1),e=j2(i,s,e,r),S2(i,s,e,n,o,r)}}function j2(t,e,n,r){let i=bO(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=jf(null,t,e,n,r),n=Wo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=jf(i,t,e,n,r),s===null){let l=B2(t,e,r);l!==void 0&&Array.isArray(l)&&(l=jf(null,t,e,l[1],r),l=Wo(l,e.attrs,r),U2(t,e,r,l))}else s=H2(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function B2(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ss(r)!==0)return t[Pi(r)]}function U2(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Pi(i)]=r}function H2(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Wo(r,o,n)}return Wo(r,e.attrs,n)}function jf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Wo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Wo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),zh(t,o,n?!0:e[++s]))}return t===void 0?null:t}function $2(t,e,n){if(n==null||n==="")return It;let r=[],i=Ps(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function z2(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&zh(t,r,n)}function G2(t,e,n,r,i,s,o,a){i===rn&&(i=It);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let f=l<i.length?i[l+1]:void 0,h=c<s.length?s[c+1]:void 0,m=null,p;u===d?(l+=2,c+=2,f!==h&&(m=d,p=h)):d===null||u!==null&&u<d?(l+=2,m=u):(c+=2,m=d,p=h),m!==null&&sD(t,e,n,r,m,p,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}function sD(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=T2(c)?LC(l,e,n,i,Ss(c),o):void 0;if(!cc(u)){cc(s)||I2(c)&&(s=LC(l,null,n,i,a,o));let d=mE(Br(),n);LP(r,o,d,i,s)}}function LC(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[i+1];f===rn&&(f=d?It:void 0);let h=d?Rf(f,r):u===r?f:void 0;if(c&&!cc(h)&&(h=Rf(l,r)),cc(h)&&(a=h,o))return a;let m=t[i+1];i=o?Pi(m):Ss(m)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=Rf(l,r))}return a}function cc(t){return t!==void 0}function q2(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=_t(Ps(t)))),t}function oD(t,e){return(t.flags&(e?8:16))!==0}function aD(t){let e=t[zo]??[],r=t[tt][Be];for(let i of e)Y2(i,r);t[zo]=It}function Y2(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[ic];for(;n<i;){let s=r.nextSibling;fw(e,r,!1),r=s,n++}}}function lD(t){aD(t);for(let e=Xt;e<t.length;e++)uc(t[e])}function uc(t){let e=t[oe];for(let n=Mt;n<e.bindingStartIndex;n++)if(dn(t[n])){let r=t[n];lD(r)}else Hn(t[n])&&uc(t[n])}function W2(t){let e=t._views;for(let n of e){let r=eN(n);if(r!==null&&r[Kt]!==null)if(Hn(r))uc(r);else{let i=r[Kt];uc(i),lD(r)}}}var Q2=new RegExp(`^(\\d+)*(${Cw}|${yw})*(.*)`);function Z2(t){let e=t.match(Q2),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[l,c,u]of s.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(c,d)}return[o,...a]}function X2(t){return!t.prev&&t.parent?.type===8}function Bf(t){return t.index-Mt}function Pc(t,e,n,r){let i=null,s=Bf(r),o=t.data[WP];if(o?.[s])i=J2(o[s],n);else if(e.firstChild===r)i=t.firstChild;else{let a=r.prev===null,l=r.prev??r.parent;if(X2(r)){let c=Bf(r.parent);i=lh(t,c)}else{let c=tn(l,n);if(a)i=c.firstChild;else{let u=Bf(l),d=lh(t,u);if(l.type===2&&d){let h=sp(t,u)+1;i=Nc(h,d)}else i=c.nextSibling}}}return i}function Nc(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function K2(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case ah.FirstChild:n=n.firstChild;break;case ah.NextSibling:n=n.nextSibling;break}}return n}function J2(t,e){let[n,...r]=Z2(t),i;if(n===yw)i=e[un][Kt];else if(n===Cw)i=sP(e[un][Kt]);else{let s=Number(n);i=Pn(e[s+Mt])}return K2(i,r)}function eF(t,e){let n=[];for(let r of e)for(let i=0;i<(r[Ew]??1);i++){let s={data:r,firstChild:null};r[ic]>0&&(s.firstChild=t,t=Nc(r[ic],t)),n.push(s)}return[t,n]}var cD=(t,e)=>null;function tF(t,e){let n=t[zo];return!e||n===null||n.length===0?null:n[0].data[YP]===e?n.shift():(aD(t),null)}function nF(){cD=tF}function kC(t,e){return cD(t,e)}function rF(t,e,n,r){let i=e.tView,o=t[ne]&4096?4096:16,a=Tc(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];a[gc]=l;let c=t[$o];return c!==null&&(a[$o]=c.createEmbeddedView(i)),dp(i,a,n),a}function VC(t,e){return!e||tc(t)}function iF(t,e,n,r=!0){let i=e[oe];if(DP(i,e,t,n),r){let s=oh(n,t),o=e[Be],a=Jh(o,t[dr]);a!==null&&CP(i,t[Nn],o,e,a,s)}}var Ns=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=sF;let t=e;return t})();function sF(){let t=nn();return aF(t,xe())}var oF=Ns,uD=class extends oF{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Mc(this._hostTNode,this._hostLView)}get injector(){return new xi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Uh(this._hostTNode,this._hostLView);if(PE(e)){let n=Zl(e,this._hostLView),r=Ql(e),i=n[oe].data[r+8];return new xi(i,n)}else return new xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=jC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=kC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,VC(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!zO(e),a;if(o)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let l=o?e:new Yo(bi(e)),c=r||this.parentInjector;if(!s&&l.ngModule==null){let p=(o?c:this.parentInjector).get(jt,null);p&&(s=p)}let u=bi(l.componentType??{}),d=kC(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,s);return this.insertImpl(h.hostView,a,VC(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(lO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[tt],c=new uD(l,l[Nn],l[tt]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return iF(o,i,s,r),e.attachToViewContainerRef(),$E(Uf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=jC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=sh(this._lContainer,n);r&&(Jl(Uf(this._lContainer),n),cw(r[oe],r))}detach(e){let n=this._adjustIndex(e,-1),r=sh(this._lContainer,n);return r&&Jl(Uf(this._lContainer),n)!=null?new Oi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function jC(t){return t[ql]}function Uf(t){return t[ql]||(t[ql]=[])}function aF(t,e){let n,r=e[t.index];return dn(r)?n=r:(n=Hw(r,e,null,t),e[t.index]=n,Ac(e,n)),dD(n,e,t,r),new uD(n,t,e)}function lF(t,e){let n=t[Be],r=n.createComment(""),i=tn(e,t),s=Jh(n,i);return nc(n,s,r,AP(n,i),!1),r}var dD=fD,pp=(t,e,n)=>!1;function cF(t,e,n){return pp(t,e,n)}function fD(t,e,n,r){if(t[dr])return;let i;n.type&8?i=Pn(r):i=lF(e,n),t[dr]=i}function uF(t,e,n){if(t[dr]&&t[zo])return!0;let r=n[Fr],i=e.index-Mt;if(!r||lP(e)||bc(r,i))return!1;let o=lh(r,i),a=r.data[rp]?.[i],[l,c]=eF(o,a);return t[dr]=l,t[zo]=c,!0}function dF(t,e,n,r){pp(t,n,e)||fD(t,e,n,r)}function fF(){dD=dF,pp=uF}function hF(t,e,n,r,i,s,o,a,l){let c=e.consts,u=Sc(e,t,4,o||null,Wl(c,a));Vw(e,n,u,Wl(c,l)),Bh(e,u);let d=u.tView=ap(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function X(t,e,n,r,i,s,o,a){let l=xe(),c=Bt(),u=t+Mt,d=c.firstCreatePass?hF(u,c,l,e,n,r,i,s,o):c.data[u];Jo(d,!1);let f=hD(c,l,d,t);jh()&&ep(c,l,f,d),Ai(f,l);let h=Hw(f,l,f,d);return l[u]=h,Ac(l,h),cF(h,d,l),Oh(d)&&Pw(c,l,d),o!=null&&Nw(l,d,a),X}var hD=pD;function pD(t,e,n,r){return Ur(!0),e[Be].createComment("")}function pF(t,e,n,r){let i=e[Fr],s=!i||Ko()||bc(i,r);if(Ur(s),s)return pD(t,e,n,r);let o=i.data[qP]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=Pc(i,t,e,n);xc(i,r,a);let l=sp(i,r);return Nc(l,a)}function mF(){hD=pF}function gF(t,e,n,r,i,s){let o=e.consts,a=Wl(o,i),l=Sc(e,t,2,r,a);return Vw(e,n,l,Wl(o,s)),l.attrs!==null&&yh(l,l.attrs,!1),l.mergedAttrs!==null&&yh(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function w(t,e,n,r){let i=xe(),s=Bt(),o=Mt+t,a=i[Be],l=s.firstCreatePass?gF(o,s,i,e,n,r):s.data[o],c=mD(s,i,l,a,e,t);i[o]=c;let u=Oh(l);return Jo(l,!0),mw(a,c,l),(l.flags&32)!==32&&jh()&&ep(s,i,c,l),fO()===0&&Ai(c,i),hO(),u&&(Pw(s,i,l),Ow(s,l,i)),r!==null&&Nw(i,l),w}function x(){let t=nn();wE()?yO():(t=t.parent,Jo(t,!1));let e=t;mO(e)&&_O(),pO();let n=Bt();return n.firstCreatePass&&(Bh(n,t),uE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&RO(e)&&xh(n,e,xe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&OO(e)&&xh(n,e,xe(),e.stylesWithoutHost,!1),x}function Y(t,e,n,r){return w(t,e,n,r),x(),Y}var mD=(t,e,n,r,i,s)=>(Ur(!0),Kh(r,i,AE()));function _F(t,e,n,r,i,s){let o=e[Fr],a=!o||Ko()||bc(o,s);if(Ur(a),a)return Kh(r,i,AE());let l=Pc(o,t,e,n);return xw(o,s)&&xc(o,s,l.nextSibling),o&&(ew(n)||tw(l))&&Xo(n)&&(gO(n),hw(l)),l}function vF(){mD=_F}var yF=(t,e,n,r)=>(Ur(!0),aw(e[Be],""));function CF(t,e,n,r){let i,s=e[Fr],o=!s||Ko();if(Ur(o),o)return aw(e[Be],"");let a=Pc(s,t,e,n),l=rN(s,r);return xc(s,r,a),i=Nc(l,a),i}function EF(){yF=CF}function me(){return xe()}var dc="en-US";var wF=dc;function DF(t){SR(t,"Expected localeId to be defined"),typeof t=="string"&&(wF=t.toLowerCase().replace(/_/g,"-"))}function ki(t){return!!t&&typeof t.then=="function"}function gD(t){return!!t&&typeof t.subscribe=="function"}function $(t,e,n,r){let i=xe(),s=Bt(),o=nn();return bF(s,i,i[Be],o,t,e,r),$}function xF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Uo],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function bF(t,e,n,r,i,s,o){let a=Oh(r),c=t.firstCreatePass&&GN(t),u=e[cn],d=zN(e),f=!0;if(r.type&3||o){let p=tn(r,e),g=o?o(p):p,_=d.length,v=o?y=>o(Pn(y[r.index])):r.index,C=null;if(!o&&a&&(C=xF(t,e,i,r.index)),C!==null){let y=C.__ngLastListenerFn__||C;y.__ngNextListenerFn__=s,C.__ngLastListenerFn__=s,f=!1}else{s=UC(r,e,u,s,!1);let y=n.listen(g,i,s);d.push(s,y),c&&c.push(i,v,_,_+1)}}else s=UC(r,e,u,s,!1);let h=r.outputs,m;if(f&&h!==null&&(m=h[i])){let p=m.length;if(p)for(let g=0;g<p;g+=2){let _=m[g],v=m[g+1],E=e[_][v].subscribe(s),b=d.length;d.push(s,E),c&&c.push(i,r.index,b,-(b+1))}}}function BC(t,e,n,r){try{return Bn(6,e,n),n(r)!==!1}catch(i){return zw(t,i),!1}finally{Bn(7,e,n)}}function UC(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?jr(t.index,e):e;cp(a);let l=BC(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)l=BC(e,n,c,o)&&l,c=c.__ngNextListenerFn__;return i&&l===!1&&o.preventDefault(),l}}function R(t=1){return MO(t)}function Ce(t,e,n){return _D(t,"",e,"",n),Ce}function _D(t,e,n,r,i){let s=xe(),o=eD(s,e,n,r);if(o!==rn){let a=Bt(),l=Vh();kw(a,l,s,t,o,s[Be],i,!1)}return _D}function IF(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function P(t,e=""){let n=xe(),r=Bt(),i=t+Mt,s=r.firstCreatePass?Sc(r,i,1,e,null):r.data[i],o=vD(r,n,s,e,t);n[i]=o,jh()&&ep(r,n,o,s),Jo(s,!1)}var vD=(t,e,n,r,i)=>(Ur(!0),ow(e[Be],r));function MF(t,e,n,r,i){let s=e[Fr],o=!s||Ko()||bc(s,i);return Ur(o),o?ow(e[Be],r):Pc(s,t,e,n)}function TF(){vD=MF}function be(t){return Fs("",t,""),be}function Fs(t,e,n){let r=xe(),i=eD(r,t,e,n);return i!==rn&&Gw(r,Br(),i),Fs}function mp(t,e,n,r,i,s,o){let a=xe(),l=b2(a,t,e,n,r,i,s,o);return l!==rn&&Gw(a,Br(),l),mp}function SF(t,e,n){let r=Bt();if(r.firstCreatePass){let i=Lr(t);bh(n,r.data,r.blueprint,i,!0),bh(e,r.data,r.blueprint,i,!1)}}function bh(t,e,n,r,i){if(t=bt(t),Array.isArray(t))for(let s=0;s<t.length;s++)bh(t[s],e,n,r,i);else{let s=Bt(),o=xe(),a=nn(),l=Ts(t)?t:bt(t.provide),c=ZE(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Ts(t)||!t.multi){let h=new Si(c,i,L),m=$f(l,e,i?u:u+f,d);m===-1?(Jf(Kl(a,o),s,l),Hf(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[m]=h,o[m]=h)}else{let h=$f(l,e,u+f,d),m=$f(l,e,u,u+f),p=h>=0&&n[h],g=m>=0&&n[m];if(i&&!g||!i&&!p){Jf(Kl(a,o),s,l);let _=OF(i?RF:AF,n.length,i,r,c);!i&&g&&(n[m].providerFactory=_),Hf(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),o.push(_)}else{let _=yD(n[i?m:h],c,!i&&r);Hf(s,t,h>-1?h:m,_)}!i&&r&&g&&n[m].componentProviders++}}}function Hf(t,e,n,r){let i=Ts(e),s=XO(e);if(i||s){let l=(s?bt(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function yD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $f(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function AF(t,e,n,r){return Ih(this.multi,[])}function RF(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ms(n,n[oe],this.providerFactory.index,r);s=a.slice(0,o),Ih(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Ih(i,s);return s}function Ih(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function OF(t,e,n,r,i){let s=new Si(t,n,L);return s.multi=[],s.index=e,s.componentProviders=0,yD(s,i,r&&!n),s}function Fc(t,e=[]){return n=>{n.providersResolver=(r,i)=>SF(r,i?i(t):t,e)}}var kr=class{},Qo=class{};var Mh=class extends kr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new lc(this);let i=sE(e);this._bootstrapComponents=JE(i.bootstrap),this._r3Injector=XE(e,n,[{provide:kr,useValue:this},{provide:Ic,useValue:this.componentFactoryResolver},...r],_t(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Th=class extends Qo{constructor(e){super(),this.moduleType=e}create(e){return new Mh(this.moduleType,e,[])}};var fc=class extends kr{constructor(e){super(),this.componentFactoryResolver=new lc(this),this.instance=null;let n=new Go([...e.providers,{provide:kr,useValue:this},{provide:Ic,useValue:this.componentFactoryResolver}],e.parent||Yh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function gp(t,e,n=null){return new fc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var PF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=YE(!1,r.type),s=i.length>0?gp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=j({token:e,providedIn:"environment",factory:()=>new e(W(jt))});let t=e;return t})();function _e(t){ra("NgStandalone"),t.getStandaloneInjector=e=>e.get(PF).getOrCreateStandaloneInjector(t)}function _r(t,e,n){let r=DE()+t,i=xe();return i[r]===rn?Jw(i,r,n?e.call(n):e()):w2(i,r)}function NF(t,e){let n=t[e];return n===rn?void 0:n}function FF(t,e,n,r,i,s){let o=e+n;return pr(t,o,i)?Jw(t,o+1,s?r.call(s,i):r(i)):NF(t,o+1)}function Lc(t,e){let n=Bt(),r,i=t+Mt;n.firstCreatePass?(r=LF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Mi(r.type,!0)),o,a=kt(L);try{let l=Xl(!1),c=s();return Xl(l),IF(n,xe(),i,c),c}finally{kt(a)}}function LF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function kc(t,e,n){let r=t+Mt,i=xe(),s=aO(i,r);return kF(i,r)?FF(i,DE(),e,s.transform,n,s):s.transform(n)}function kF(t,e){return t[oe].data[e].pure}var Vc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=BF;let t=e;return t})(),VF=Vc,jF=class extends VF{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=rF(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Oi(i)}};function BF(){return UF(nn(),xe())}function UF(t,e){return t.type&4?new jF(e,t,Mc(t,e)):null}var CD=new Q("Application Initializer"),ED=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=N(CD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ki(o))r.push(o);else if(gD(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function HF(){return typeof $localize<"u"&&$localize.locale||dc}var _p=new Q("LocaleId",{providedIn:"root",factory:()=>N(_p,ue.Optional|ue.SkipSelf)||HF()});var Ls=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ft(!1)}add(){this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},vp=(()=>{let e=class e{compileModuleSync(r){return new Th(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=sE(r),o=JE(s.declarations).reduce((a,l)=>{let c=bi(l);return c&&a.push(new Yo(c)),a},[]);return new Sh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yp=new Q(""),ia=new Q(""),Bc=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Cp||($F(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(W(Re),W(Uc),W(ia))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Uc=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Cp?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function $F(t){Cp=t}var Cp,$l=null;var wD=new Q("PlatformDestroyListeners"),ks=new Q("appBootstrapListener");function zF(){L1(()=>{throw new q(600,!1)})}function GF(t){return t.isBoundToModule}function qF(t=[]){if($l)return $l;let e=WF(t);return $l=e,zF(),YF(e),e}function YF(t){t.get(Wh,null)?.forEach(n=>n())}function DD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=qF(r),s=[eL(),...n||[]],a=new fc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(Re);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(hr,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:h=>{c.handleError(h)}})});let d=()=>a.destroy(),f=i.get(wD);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),ZF(c,l,()=>{let h=a.get(ED);return h.runInitializers(),h.donePromise.then(()=>{let m=a.get(_p,dc);DF(m||dc);let p=a.get(Gr);return e!==void 0&&p.bootstrap(e),p})})})}catch(e){return Promise.reject(e)}}function WF(t=[],e){return gr.create({name:e,providers:[{provide:Cc,useValue:"platform"},{provide:wD,useValue:new Set([()=>$l=null])},...t]})}function QF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}function ZF(t,e,n){try{let r=n();return ki(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Gr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(xD),this.zoneIsStable=N(Xw),this.componentTypes=[],this.components=[],this.isStable=N(Ls).hasPendingTasks.pipe(xt(r=>r?J(!1):this.zoneIsStable),wf(),Al()),this._injector=N(jt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof sc;if(!this._injector.get(ED).done){let m="Cannot bootstrap as there are still asynchronous initializers running."+(!s&&iE(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new q(405,!1)}let a;s?a=r:a=this._injector.get(Ic).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=GF(a)?void 0:this._injector.get(kr),c=i||a.selector,u=a.create(gr.NULL,[],c,l),d=u.location.nativeElement,f=u.injector.get(yp,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),zf(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new q(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;zf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(ks,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>zf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new q(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var xD=new Q("",{providedIn:"root",factory:()=>N(hr).handleError.bind(void 0)});function XF(){let t=N(Re),e=N(hr);return n=>t.runOutsideAngular(()=>e.handleError(n))}var KF=(()=>{let e=class e{constructor(){this.zone=N(Re),this.applicationRef=N(Gr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function JF(t){return[{provide:Re,useFactory:t},{provide:Os,multi:!0,useFactory:()=>{let e=N(KF,{optional:!0});return()=>e.initialize()}},{provide:xD,useFactory:XF},{provide:Xw,useFactory:Kw}]}function eL(t){let e=JF(()=>new Re(QF(t)));return Hr([[],e])}var Vl;function Ep(t){Vl??=new WeakMap;let e=Vl.get(t);if(e)return e;let n=t.isStable.pipe(Sn(r=>r)).toPromise().then(()=>{});return Vl.set(t,n),t.onDestroy(()=>Vl?.delete(t)),n}var HC=!1;function tL(){HC||(HC=!0,JP(),vF(),TF(),EF(),mF(),fF(),nF(),bN())}function nL(t,e){return Ep(t)}function bD(){return Hr([{provide:Fl,useFactory:()=>{let t=!0;return Pl()&&(t=!!N(Ni,{optional:!0})?.get(ww,null)),t&&ra("NgHydration"),t}},{provide:Os,useValue:()=>{Pl()&&N(Fl)&&(rL(),tL())},multi:!0},{provide:Tw,useFactory:()=>Pl()&&N(Fl)},{provide:ks,useFactory:()=>{if(Pl()&&N(Fl)){let t=N(Gr),e=N(gr);return()=>{nL(t,e).then(()=>{Re.assertInAngularZone(),W2(t)})}}return()=>{}},multi:!0}])}function rL(){let t=Ec(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===XP){e=n;break}if(!e)throw new q(-507,!1)}function Vs(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var wp=null;function Gn(){return wp}function AD(t){wp||(wp=t)}var Hc=class{},St=new Q("DocumentToken"),RD=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>(()=>N(iL))(),providedIn:"platform"});let t=e;return t})();var iL=(()=>{let e=class e extends RD{constructor(){super(),this._doc=N(St),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gn().getBaseHref(this._doc)}onPopState(r){let i=Gn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Gn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function OD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function ID(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Vi(t){return t&&t[0]!=="?"?"?"+t:t}var Bs=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>(()=>N(PD))(),providedIn:"root"});let t=e;return t})(),bp=new Q("appBaseHref"),PD=(()=>{let e=class e extends Bs{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??N(St).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return OD(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Vi(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Vi(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Vi(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(W(RD),W(bp,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sa=(()=>{let e=class e{constructor(r){this._subject=new ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=aL(ID(MD(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Vi(i))}normalize(r){return e.stripTrailingSlash(oL(this._basePath,MD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Vi(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Vi(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Vi,e.joinWithSlash=OD,e.stripTrailingSlash=ID,e.\u0275fac=function(i){return new(i||e)(W(Bs))},e.\u0275prov=j({token:e,factory:()=>sL(),providedIn:"root"});let t=e;return t})();function sL(){return new sa(W(Bs))}function oL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function MD(t){return t.replace(/\/index.html$/,"")}function aL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function $c(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Dp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ut=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Dp(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let l=i.get(o);i.move(l,a),TD(l,s)}});for(let s=0,o=i.length;s<o;s++){let l=i.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);TD(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(L(Ns),L(Vc),L(op))},e.\u0275dir=Tt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function TD(t,e){t.context.$implicit=e.item}var Oe=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new xp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){SD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){SD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(L(Ns),L(Vc))},e.\u0275dir=Tt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),xp=class{constructor(){this.$implicit=null,this.ngIf=null}};function SD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${_t(e)}'.`)}var sn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=en({type:e}),e.\u0275inj=Jt({});let t=e;return t})(),ND="browser",lL="server";function Ip(t){return t===lL}var js=class{};var aa=class{},qc=class{},qn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Tp=class{encodeKey(e){return FD(e)}encodeValue(e){return FD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function uL(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var dL=/%(\d[a-f0-9])/gi,fL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function FD(t){return encodeURIComponent(t).replace(dL,(e,n)=>fL[n]??e)}function zc(t){return`${t}`}var qr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Tp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=uL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(zc):[zc(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(zc(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(zc(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Sp=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function hL(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function LD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function kD(t){return typeof Blob<"u"&&t instanceof Blob}function VD(t){return typeof FormData<"u"&&t instanceof FormData}function pL(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var oa=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(hL(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new qn),this.context||(this.context=new Sp),!this.params)this.params=new qr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:LD(this.body)||kD(this.body)||VD(this.body)||pL(this.body)||typeof this.body=="string"?this.body:this.body instanceof qr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||VD(this.body)?null:kD(this.body)?this.body.type||null:LD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof qr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,l=e.headers||this.headers,c=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),c)),new t(n,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}},Hs=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Hs||{}),la=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new qn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ap=class t extends la{constructor(e={}){super(e),this.type=Hs.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},$s=class t extends la{constructor(e={}){super(e),this.type=Hs.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Yc=class extends la{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function Mp(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Rp=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof oa)o=r;else{let c;s.headers instanceof qn?c=s.headers:c=new qn(s.headers);let u;s.params&&(s.params instanceof qr?u=s.params:u=new qr({fromObject:s.params})),o=new oa(r,i,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=J(o).pipe(Rr(c=>this.handler.handle(c)));if(r instanceof oa||s.observe==="events")return a;let l=a.pipe(Zt(c=>c instanceof $s));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(se(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(se(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(se(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(se(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new qr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Mp(s,i))}post(r,i,s={}){return this.request("POST",r,Mp(s,i))}put(r,i,s={}){return this.request("PUT",r,Mp(s,i))}};e.\u0275fac=function(i){return new(i||e)(W(aa))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function WD(t,e){return e(t)}function mL(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function gL(t,e,n){return(r,i)=>mr(n,()=>e(r,s=>t(s,i)))}var _L=new Q(""),Op=new Q(""),QD=new Q(""),vL=new Q("");function yL(){let t=null;return(e,n)=>{t===null&&(t=(N(_L,{optional:!0})??[]).reduceRight(mL,WD));let r=N(Ls),i=r.add();return t(e,n).pipe(Pr(()=>r.remove(i)))}}var jD=(()=>{let e=class e extends aa{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=N(Ls);let s=N(vL,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Op),...this.injector.get(QD,[])]));this.chain=s.reduceRight((o,a)=>gL(o,a,this.injector),WD)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Pr(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(W(qc),W(jt))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();var CL=/^\)\]\}',?\n/;function EL(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var BD=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new q(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Le(i.\u0275loadImpl()):J(null)).pipe(xt(()=>new fe(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((g,_)=>a.setRequestHeader(g,_.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let g=r.detectContentTypeHeader();g!==null&&a.setRequestHeader("Content-Type",g)}if(r.responseType){let g=r.responseType.toLowerCase();a.responseType=g!=="json"?g:"text"}let l=r.serializeBody(),c=null,u=()=>{if(c!==null)return c;let g=a.statusText||"OK",_=new qn(a.getAllResponseHeaders()),v=EL(a)||r.url;return c=new Ap({headers:_,status:a.status,statusText:g,url:v}),c},d=()=>{let{headers:g,status:_,statusText:v,url:C}=u(),y=null;_!==204&&(y=typeof a.response>"u"?a.responseText:a.response),_===0&&(_=y?200:0);let E=_>=200&&_<300;if(r.responseType==="json"&&typeof y=="string"){let b=y;y=y.replace(CL,"");try{y=y!==""?JSON.parse(y):null}catch(A){y=b,E&&(E=!1,y={error:A,text:y})}}E?(o.next(new $s({body:y,headers:g,status:_,statusText:v,url:C||void 0})),o.complete()):o.error(new Yc({error:y,headers:g,status:_,statusText:v,url:C||void 0}))},f=g=>{let{url:_}=u(),v=new Yc({error:g,status:a.status||0,statusText:a.statusText||"Unknown Error",url:_||void 0});o.error(v)},h=!1,m=g=>{h||(o.next(u()),h=!0);let _={type:Hs.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(_.total=g.total),r.responseType==="text"&&a.responseText&&(_.partialText=a.responseText),o.next(_)},p=g=>{let _={type:Hs.UploadProgress,loaded:g.loaded};g.lengthComputable&&(_.total=g.total),o.next(_)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",m),l!==null&&a.upload&&a.upload.addEventListener("progress",p)),a.send(l),o.next({type:Hs.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",m),l!==null&&a.upload&&a.upload.removeEventListener("progress",p)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(W(js))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),ZD=new Q("XSRF_ENABLED"),wL="XSRF-TOKEN",DL=new Q("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>wL}),xL="X-XSRF-TOKEN",bL=new Q("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>xL}),Wc=class{},IL=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=$c(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(W(St),W(zn),W(DL))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function ML(t,e){let n=t.url.toLowerCase();if(!N(ZD)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=N(Wc).getToken(),i=N(bL);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var XD=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(XD||{});function TL(t,e){return{\u0275kind:t,\u0275providers:e}}function SL(...t){let e=[Rp,BD,jD,{provide:aa,useExisting:jD},{provide:qc,useExisting:BD},{provide:Op,useValue:ML,multi:!0},{provide:ZD,useValue:!0},{provide:Wc,useClass:IL}];for(let n of t)e.push(...n.\u0275providers);return Hr(e)}var UD=new Q("LEGACY_INTERCEPTOR_FN");function AL(){return TL(XD.LegacyInterceptors,[{provide:UD,useFactory:yL},{provide:Op,useExisting:UD,multi:!0}])}var KD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=en({type:e}),e.\u0275inj=Jt({providers:[SL(AL())]});let t=e;return t})();var HD="b",$D="h",zD="s",GD="st",qD="u",YD="rt",Gc=new Q(""),RL=["GET","HEAD"];function OL(t,e){let u=N(Gc),{isCacheActive:n}=u,r=S1(u,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!RL.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);let o=N(Ni),a=NL(t),l=o.get(a,null),c=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(c=i.includeHeaders),l){let{[HD]:d,[YD]:f,[$D]:h,[zD]:m,[GD]:p,[qD]:g}=l,_=d;switch(f){case"arraybuffer":_=new TextEncoder().encode(d).buffer;break;case"blob":_=new Blob([d]);break}let v=new qn(h);return J(new $s({body:_,headers:v,status:m,statusText:p,url:g}))}return e(t).pipe(et(d=>{d instanceof $s&&o.set(a,{[HD]:d.body,[$D]:PL(d.headers,c),[zD]:d.status,[GD]:d.statusText,[qD]:d.url||"",[YD]:t.responseType})}))}function PL(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function NL(t){let{params:e,method:n,responseType:r,url:i}=t,s=e.keys().sort().map(l=>`${l}=${e.getAll(l)}`).join("&"),o=n+"."+r+"."+i+"?"+s,a=FL(o);return a}function FL(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483647+1,e.toString()}function JD(t){return[{provide:Gc,useFactory:()=>(ra("NgHttpTransferCache"),V({isCacheActive:!0},t))},{provide:QD,useValue:OL,multi:!0,deps:[Ni,Gc]},{provide:ks,multi:!0,useFactory:()=>{let e=N(Gr),n=N(Gc);return()=>{Ep(e).then(()=>{n.isCacheActive=!1})}}}]}var Fp=class extends Hc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Lp=class t extends Fp{static makeCurrent(){AD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=kL();return n==null?null:VL(n)}resetBaseElement(){ca=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return $c(document.cookie,e)}},ca=null;function kL(){return ca=ca||document.querySelector("base"),ca?ca.getAttribute("href"):null}function VL(t){return new URL(t,"http://a").pathname}var kp=class{addToWindow(e){Vt.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new q(5103,!1);return s},Vt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Vt.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Vt.getAllAngularTestabilities(),s=i.length,o=!1,a=function(l){o=o||l,s--,s==0&&r(o)};i.forEach(l=>{l.whenStable(a)})};Vt.frameworkStabilizers||(Vt.frameworkStabilizers=[]),Vt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Gn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},jL=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Vp=new Q("EventManagerPlugins"),rx=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new q(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(W(Vp),W(Re))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Qc=class{constructor(e){this._doc=e}},Pp="ng-app-id",ix=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ip(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Pp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Pp),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Pp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(W(St),W(wc),W(Qh,8),W(zn))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Np={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bp=/%COMP%/g,sx="%COMP%",BL=`_nghost-${sx}`,UL=`_ngcontent-${sx}`,HL=!0,$L=new Q("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>HL});function zL(t){return UL.replace(Bp,t)}function GL(t){return BL.replace(Bp,t)}function ox(t,e){return e.map(n=>n.replace(Bp,t))}var ex=(()=>{let e=class e{constructor(r,i,s,o,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ip(l),this.defaultRenderer=new ua(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===$n.ShadowDom&&(i=De(V({},i),{encapsulation:$n.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Zc?s.applyToHost(r):s instanceof da&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case $n.Emulated:o=new Zc(c,u,i,this.appId,d,a,l,f);break;case $n.ShadowDom:return new jp(c,u,r,i,a,l,this.nonce,f);default:o=new da(c,u,i,d,a,l,f);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(W(rx),W(ix),W(wc),W($L),W(St),W(zn),W(Re),W(Qh))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),ua=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Np[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(tx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(tx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Np[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Np[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(fr.DashCase|fr.Important)?e.style.setProperty(n,r,i&fr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&fr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Gn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function tx(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var jp=class extends ua{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=ox(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},da=class extends ua{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?ox(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zc=class extends da{constructor(e,n,r,i,s,o,a,l){let c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=zL(c),this.hostAttr=GL(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},qL=(()=>{let e=class e extends Qc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(W(St))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),nx=["alt","control","meta","shift"],YL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},WL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},QL=(()=>{let e=class e extends Qc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),nx.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=YL[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),nx.forEach(a=>{if(a!==s){let l=WL[a];l(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(W(St))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function ax(t,e){return DD(V({rootComponent:t},ZL(e)))}function ZL(t){return{appProviders:[...nk,...t?.providers??[]],platformProviders:ek}}function lx(){return[...tk]}function XL(){Lp.makeCurrent()}function KL(){return new hr}function JL(){return KE(document),document}var ek=[{provide:zn,useValue:ND},{provide:Wh,useValue:XL,multi:!0},{provide:St,useFactory:JL,deps:[]}];var tk=[{provide:ia,useClass:kp,deps:[]},{provide:yp,useClass:Bc,deps:[Re,Uc,ia]},{provide:Bc,useClass:Bc,deps:[Re,Uc,ia]}],nk=[{provide:Cc,useValue:"root"},{provide:hr,useFactory:KL,deps:[]},{provide:Vp,useClass:qL,multi:!0,deps:[St,Re,zn]},{provide:Vp,useClass:QL,multi:!0,deps:[St]},ex,ix,rx,{provide:qo,useExisting:ex},{provide:js,useClass:jL,deps:[]},[]];function rk(){return new Up(W(St))}var Up=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(W(St))},e.\u0275prov=j({token:e,factory:function(i){let s=null;return i?s=new i:s=rk(),s},providedIn:"root"});let t=e;return t})();function cx(...t){let e=[],n=new Set,r=n.has(1);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return Hr([[],bD(),n.has(0)||r?[]:JD({}),e])}var ie="primary",Ia=Symbol("RouteTitle"),qp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ws(t){return new qp(t)}function sk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ok(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Yn(t[n],e[n]))return!1;return!0}function Yn(t,e){let n=t?Yp(t):void 0,r=e?Yp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!gx(t[i],e[i]))return!1;return!0}function Yp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function gx(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function _x(t){return t.length>0?t[t.length-1]:null}function Zr(t){return vf(t)?t:ki(t)?Le(Promise.resolve(t)):J(t)}var ak={exact:yx,subset:Cx},vx={exact:lk,subset:ck,ignored:()=>!0};function ux(t,e,n){return ak[n.paths](t.root,e.root,n.matrixParams)&&vx[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function lk(t,e){return Yn(t,e)}function yx(t,e,n){if(!Bi(t.segments,e.segments)||!Jc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!yx(t.children[r],e.children[r],n))return!1;return!0}function ck(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gx(t[n],e[n]))}function Cx(t,e,n){return Ex(t,e,e.segments,n)}function Ex(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Bi(i,n)||e.hasChildren()||!Jc(i,n,r))}else if(t.segments.length===n.length){if(!Bi(t.segments,n)||!Jc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Cx(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Bi(t.segments,i)||!Jc(t.segments,i,r)||!t.children[ie]?!1:Ex(t.children[ie],e,s,r)}}function Jc(t,e,n){return e.every((r,i)=>vx[n](t[i].parameters,r.parameters))}var Yr=class{constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ws(this.queryParams)),this._queryParamMap}toString(){return fk.serialize(this)}},we=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return eu(this)}},ji=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ws(this.parameters)),this._parameterMap}toString(){return Dx(this)}};function uk(t,e){return Bi(t,e)&&t.every((n,r)=>Yn(n.parameters,e[r].parameters))}function Bi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function dk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ie&&(n=n.concat(e(i,r)))}),n}var vm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>(()=>new nu)(),providedIn:"root"});let t=e;return t})(),nu=class{parse(e){let n=new Qp(e);return new Yr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${fa(e.root,!0)}`,r=mk(e.queryParams),i=typeof e.fragment=="string"?`#${hk(e.fragment)}`:"";return`${n}${r}${i}`}},fk=new nu;function eu(t){return t.segments.map(e=>Dx(e)).join("/")}function fa(t,e){if(!t.hasChildren())return eu(t);if(e){let n=t.children[ie]?fa(t.children[ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ie&&r.push(`${i}:${fa(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=dk(t,(r,i)=>i===ie?[fa(t.children[ie],!1)]:[`${i}:${fa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ie]!=null?`${eu(t)}/${n[0]}`:`${eu(t)}/(${n.join("//")})`}}function wx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xc(t){return wx(t).replace(/%3B/gi,";")}function hk(t){return encodeURI(t)}function Wp(t){return wx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tu(t){return decodeURIComponent(t)}function dx(t){return tu(t.replace(/\+/g,"%20"))}function Dx(t){return`${Wp(t.path)}${pk(t.parameters)}`}function pk(t){return Object.keys(t).map(e=>`;${Wp(e)}=${Wp(t[e])}`).join("")}function mk(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${Xc(n)}=${Xc(i)}`).join("&"):`${Xc(n)}=${Xc(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var gk=/^[^\/()?;#]+/;function Hp(t){let e=t.match(gk);return e?e[0]:""}var _k=/^[^\/()?;=#]+/;function vk(t){let e=t.match(_k);return e?e[0]:""}var yk=/^[^=?&#]+/;function Ck(t){let e=t.match(yk);return e?e[0]:""}var Ek=/^[^&#]+/;function wk(t){let e=t.match(Ek);return e?e[0]:""}var Qp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new we(e,n)),r}parseSegment(){let e=Hp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new ji(tu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=vk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Hp(this.remaining);i&&(r=i,this.capture(r))}e[tu(n)]=tu(r)}parseQueryParam(e){let n=Ck(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=wk(this.remaining);o&&(r=o,this.capture(r))}let i=dx(n),s=dx(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Hp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ie]:new we([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function xx(t){return t.segments.length>0?new we([],{[ie]:t}):t}function bx(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=bx(i);if(r===ie&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new we(t.segments,e);return Dk(n)}function Dk(t){if(t.numberOfChildren===1&&t.children[ie]){let e=t.children[ie];return new we(t.segments.concat(e.segments),e.children)}return t}function Qs(t){return t instanceof Yr}function xk(t,e,n=null,r=null){let i=Ix(t);return Mx(i,e,n,r)}function Ix(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new we(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=xx(r);return e??i}function Mx(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return $p(i,i,i,n,r);let s=bk(e);if(s.toRoot())return $p(i,i,new we([],{}),n,r);let o=Ik(s,i,t),a=o.processChildren?ma(o.segmentGroup,o.index,s.commands):Sx(o.segmentGroup,o.index,s.commands);return $p(i,o.segmentGroup,a,n,r)}function ru(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function va(t){return typeof t=="object"&&t!=null&&t.outlets}function $p(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;t===e?o=n:o=Tx(t,e,n);let a=xx(bx(o));return new Yr(a,s,i)}function Tx(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Tx(s,e,n)}),new we(t.segments,r)}var iu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ru(r[0]))throw new q(4003,!1);let i=r.find(va);if(i&&i!==_x(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function bk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new iu(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new iu(n,e,r)}var qs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Ik(t,e,n){if(t.isAbsolute)return new qs(e,!0,0);if(!n)return new qs(e,!1,NaN);if(n.parent===null)return new qs(n,!0,0);let r=ru(t.commands[0])?0:1,i=n.segments.length-1+r;return Mk(n,i,t.numberOfDoubleDots)}function Mk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new qs(r,!1,i-s)}function Tk(t){return va(t[0])?t[0].outlets:{[ie]:t}}function Sx(t,e,n){if(t||(t=new we([],{})),t.segments.length===0&&t.hasChildren())return ma(t,e,n);let r=Sk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new we(t.segments.slice(0,r.pathIndex),{});return s.children[ie]=new we(t.segments.slice(r.pathIndex),t.children),ma(s,0,i)}else return r.match&&i.length===0?new we(t.segments,{}):r.match&&!t.hasChildren()?Zp(t,e,n):r.match?ma(t,0,i):Zp(t,e,n)}function ma(t,e,n){if(n.length===0)return new we(t.segments,{});{let r=Tk(n),i={};if(Object.keys(r).some(s=>s!==ie)&&t.children[ie]&&t.numberOfChildren===1&&t.children[ie].segments.length===0){let s=ma(t.children[ie],e,n);return new we(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Sx(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new we(t.segments,i)}}function Sk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(va(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!hx(l,c,o))return s;r+=2}else{if(!hx(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Zp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(va(s)){let l=Ak(s.outlets);return new we(r,l)}if(i===0&&ru(n[0])){let l=t.segments[e];r.push(new ji(l.path,fx(n[0]))),i++;continue}let o=va(s)?s.outlets[ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ru(a)?(r.push(new ji(o,fx(a))),i+=2):(r.push(new ji(o,{})),i++)}return new we(r,{})}function Ak(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Zp(new we([],{}),0,r))}),e}function fx(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function hx(t,e,n){return t==n.path&&Yn(e,n.parameters)}var ga="imperative",fn=class{constructor(e,n){this.id=e,this.url=n}},ya=class extends fn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wr=class extends fn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qr=class extends fn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ui=class extends fn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},Ca=class extends fn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},su=class extends fn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xp=class extends fn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kp=class extends fn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jp=class extends fn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},em=class extends fn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tm=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},nm=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},rm=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},im=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sm=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},om=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ea=class{},wa=class{constructor(e){this.url=e}};var am=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new du,this.attachRef=null}},du=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new am,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ou=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=lm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=lm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=cm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cm(e,this._root).map(n=>n.value)}};function lm(t,e){if(t===e.value)return e;for(let n of e.children){let r=lm(t,n);if(r)return r}return null}function cm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=cm(t,n);if(r.length)return r.unshift(e),r}return[]}var on=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Gs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var au=class extends ou{constructor(e,n){super(e),this.snapshot=n,Cm(this,e)}toString(){return this.snapshot.toString()}};function Ax(t,e){let n=Rk(t,e),r=new ft([new ji("",{})]),i=new ft({}),s=new ft({}),o=new ft({}),a=new ft(""),l=new vr(r,i,o,a,s,ie,e,n.root);return l.snapshot=n.root,new au(new on(l,[]),n)}function Rk(t,e){let n={},r={},i={},s="",o=new Da([],n,i,s,r,ie,e,null,{});return new lu("",new on(o,[]))}var vr=class{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(se(c=>c[Ia]))??J(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(se(e=>Ws(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(se(e=>Ws(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ym(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),i?.data),t._resolvedData)}:r={params:t.params,data:t.data,resolve:V(V({},t.data),t._resolvedData??{})},i&&Ox(i)&&(r.resolve[Ia]=i.title),r}var Da=class{get title(){return this.data?.[Ia]}constructor(e,n,r,i,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ws(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ws(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},lu=class extends ou{constructor(e,n){super(n),this.url=e,Cm(this,n)}toString(){return Rx(this._root)}};function Cm(t,e){e.value._routerState=t,e.children.forEach(n=>Cm(t,n))}function Rx(t){let e=t.children.length>0?` { ${t.children.map(Rx).join(", ")} } `:"";return`${t.value}${e}`}function zp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Yn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Yn(e.params,n.params)||t.paramsSubject.next(n.params),ok(e.url,n.url)||t.urlSubject.next(n.url),Yn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function um(t,e){let n=Yn(t.params,e.params)&&uk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||um(t.parent,e.parent))}function Ox(t){return typeof t.title=="string"||t.title===null}var Em=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new ve,this.deactivateEvents=new ve,this.attachEvents=new ve,this.detachEvents=new ve,this.parentContexts=N(du),this.location=N(Ns),this.changeDetector=N(Li),this.environmentInjector=N(jt),this.inputBinder=N(wm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new dm(r,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Tt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Vr]});let t=e;return t})(),dm=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===vr?this.route:e===du?this.childContexts:this.parent.get(e,n)}},wm=new Q("");function Ok(t,e,n){let r=xa(t,e._root,n?n._root:void 0);return new au(r,e)}function xa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Pk(t,e,n);return new on(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>xa(t,a)),o}}let r=Nk(e.value),i=e.children.map(s=>xa(t,s));return new on(r,i)}}function Pk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return xa(t,r,i);return xa(t,r)})}function Nk(t){return new vr(new ft(t.url),new ft(t.params),new ft(t.queryParams),new ft(t.fragment),new ft(t.data),t.outlet,t.component,t)}var Px="ngNavigationCancelingError";function Nx(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Qs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Fx(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Fx(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[Px]=!0,r.cancellationCode=e,n&&(r.url=n),r}function Fk(t){return Lx(t)&&Qs(t.url)}function Lx(t){return t&&t[Px]}var Lk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ge({type:e,selectors:[["ng-component"]],standalone:!0,features:[_e],decls:1,vars:0,template:function(i,s){i&1&&Y(0,"router-outlet")},dependencies:[Em],encapsulation:2});let t=e;return t})();function kk(t,e){return t.providers&&!t._injector&&(t._injector=gp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Dm(t){let e=t.children&&t.children.map(Dm),n=e?De(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=Lk),n}function Wn(t){return t.outlet||ie}function Vk(t,e){let n=t.filter(r=>Wn(r)===e);return n.push(...t.filter(r=>Wn(r)!==e)),n}function Ma(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var jk=(t,e,n,r)=>se(i=>(new fm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),fm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),zp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Gs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Gs(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Gs(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Gs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new om(s.value.snapshot))}),e.children.length&&this.forwardEvent(new im(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(zp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),zp(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Ma(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},cu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ys=class{constructor(e,n){this.component=e,this.route=n}};function Bk(t,e,n){let r=t._root,i=e?e._root:null;return ha(r,i,n,[r.value])}function Uk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Xs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!qC(t)?t:e.get(t):r}function ha(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Gs(e);return t.children.forEach(o=>{Hk(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>_a(a,n.getContext(o),i)),i}function Hk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=$k(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new cu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ha(t,e,a?a.children:null,r,i):ha(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ys(a.outlet.component,o))}else o&&_a(e,a,i),i.canActivateChecks.push(new cu(r)),s.component?ha(t,null,a?a.children:null,r,i):ha(t,null,n,r,i);return i}function $k(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Bi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Bi(t.url,e.url)||!Yn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!um(t,e)||!Yn(t.queryParams,e.queryParams);case"paramsChange":default:return!um(t,e)}}function _a(t,e,n){let r=Gs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?_a(o,e.children.getContext(s),n):_a(o,null,n):_a(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ys(e.outlet.component,i)):n.canDeactivateChecks.push(new Ys(null,i)):n.canDeactivateChecks.push(new Ys(null,i))}function Ta(t){return typeof t=="function"}function zk(t){return typeof t=="boolean"}function Gk(t){return t&&Ta(t.canLoad)}function qk(t){return t&&Ta(t.canActivate)}function Yk(t){return t&&Ta(t.canActivateChild)}function Wk(t){return t&&Ta(t.canDeactivate)}function Qk(t){return t&&Ta(t.canMatch)}function kx(t){return t instanceof Tn||t?.name==="EmptyError"}var Kc=Symbol("INITIAL_VALUE");function Zs(){return xt(t=>Ml(t.map(e=>e.pipe(ur(1),If(Kc)))).pipe(se(e=>{for(let n of e)if(n!==!0){if(n===Kc)return Kc;if(n===!1||n instanceof Yr)return n}return!0}),Zt(e=>e!==Kc),ur(1)))}function Zk(t,e){return it(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?J(De(V({},n),{guardsResult:!0})):Xk(o,r,i,t).pipe(it(a=>a&&zk(a)?Kk(r,s,t,e):J(a)),se(a=>De(V({},n),{guardsResult:a})))})}function Xk(t,e,n,r){return Le(t).pipe(it(i=>rV(i.component,i.route,n,e,r)),Sn(i=>i!==!0,!0))}function Kk(t,e,n,r){return Le(e).pipe(Rr(i=>_s(eV(i.route.parent,r),Jk(i.route,r),nV(t,i.path,n),tV(t,i.route,n))),Sn(i=>i!==!0,!0))}function Jk(t,e){return t!==null&&e&&e(new sm(t)),J(!0)}function eV(t,e){return t!==null&&e&&e(new rm(t)),J(!0)}function tV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(s=>Tl(()=>{let o=Ma(e)??n,a=Xs(s,o),l=qk(a)?a.canActivate(e,t):mr(o,()=>a(e,t));return Zr(l).pipe(Sn())}));return J(i).pipe(Zs())}function nV(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Uk(o)).filter(o=>o!==null).map(o=>Tl(()=>{let a=o.guards.map(l=>{let c=Ma(o.node)??n,u=Xs(l,c),d=Yk(u)?u.canActivateChild(r,t):mr(c,()=>u(r,t));return Zr(d).pipe(Sn())});return J(a).pipe(Zs())}));return J(s).pipe(Zs())}function rV(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return J(!0);let o=s.map(a=>{let l=Ma(e)??i,c=Xs(a,l),u=Wk(c)?c.canDeactivate(t,e,n,r):mr(l,()=>c(t,e,n,r));return Zr(u).pipe(Sn())});return J(o).pipe(Zs())}function iV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let s=i.map(o=>{let a=Xs(o,t),l=Gk(a)?a.canLoad(e,n):mr(t,()=>a(e,n));return Zr(l)});return J(s).pipe(Zs(),Vx(r))}function Vx(t){return ff(et(e=>{if(Qs(e))throw Nx(t,e)}),se(e=>e===!0))}function sV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let s=i.map(o=>{let a=Xs(o,t),l=Qk(a)?a.canMatch(e,n):mr(t,()=>a(e,n));return Zr(l)});return J(s).pipe(Zs(),Vx(r))}var ba=class{constructor(e){this.segmentGroup=e||null}},uu=class extends Error{constructor(e){super(),this.urlTree=e}};function zs(t){return gs(new ba(t))}function oV(t){return gs(new q(4e3,!1))}function aV(t){return gs(Fx(!1,3))}var hm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new q(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[ie])return oV(e.redirectTo);i=i.children[ie]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new uu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Yr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new we(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},pm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lV(t,e,n,r,i){let s=xm(t,e,n);return s.matched?(r=kk(e,r),sV(r,e,n,i).pipe(se(o=>o===!0?s:V({},pm)))):J(s)}function xm(t,e,n){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},pm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||sk)(n,t,e);if(!i)return V({},pm);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?V(V({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function px(t,e,n,r){return n.length>0&&dV(t,n,r)?{segmentGroup:new we(e,uV(r,new we(n,t.children))),slicedSegments:[]}:n.length===0&&fV(t,n,r)?{segmentGroup:new we(t.segments,cV(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function cV(t,e,n,r,i){let s={};for(let o of r)if(fu(t,n,o)&&!i[Wn(o)]){let a=new we([],{});s[Wn(o)]=a}return V(V({},i),s)}function uV(t,e){let n={};n[ie]=e;for(let r of t)if(r.path===""&&Wn(r)!==ie){let i=new we([],{});n[Wn(r)]=i}return n}function dV(t,e,n){return n.some(r=>fu(t,e,r)&&Wn(r)!==ie)}function fV(t,e,n){return n.some(r=>fu(t,e,r))}function fu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function hV(t,e,n,r){return Wn(t)!==r&&(r===ie||!fu(e,n,t))?!1:t.path==="**"?!0:xm(e,t,n).matched}function pV(t,e,n){return e.length===0&&!t.children[n]}var mm=class{};function mV(t,e,n,r,i,s,o="emptyOnly"){return new gm(t,e,n,r,i,o,s).recognize()}var gV=31,gm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new hm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new q(4002,!1)}recognize(){let e=px(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(n=>{let r=new Da([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,{},ie,this.rootComponentType,null,{}),i=new on(r,n),s=new lu("",i),o=xk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ie).pipe(Ar(r=>{if(r instanceof uu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ba?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=ym(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(se(s=>s instanceof on?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Le(i).pipe(Rr(s=>{let o=r.children[s],a=Vk(n,s);return this.processSegmentGroup(e,a,o,s)}),xf((s,o)=>(s.push(...o),s)),Or(null),Df(),it(s=>{if(s===null)return zs(r);let o=jx(s);return _V(o),J(o)}))}processSegment(e,n,r,i,s,o){return Le(n).pipe(Rr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ar(l=>{if(l instanceof ba)return J(null);throw l}))),Sn(a=>!!a),Ar(a=>{if(kx(a))return pV(r,i,s)?J(new mm):zs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return hV(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):zs(i):zs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=i.path==="**"?mx(s):xm(n,i,s);if(!a)return zs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>gV&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(it(f=>this.processSegment(e,r,n,f.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o;return r.path==="**"?(o=J(mx(i)),n.children={}):o=lV(n,r,i,e,this.urlSerializer),o.pipe(xt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xt(({routes:l})=>{let c=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new Da(u,f,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,yV(r),Wn(r),r.component??r._loadedComponent??null,r,CV(r)),{segmentGroup:m,slicedSegments:p}=px(n,u,d,l);if(p.length===0&&m.hasChildren())return this.processChildren(c,l,m).pipe(se(_=>_===null?null:new on(h,_)));if(l.length===0&&p.length===0)return J(new on(h,[]));let g=Wn(r)===s;return this.processSegment(c,l,m,p,g?ie:s,!0).pipe(se(_=>new on(h,_ instanceof on?[_]:[])))}))):zs(n)))}getChildConfig(e,n,r){return n.children?J({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?J({routes:n._loadedRoutes,injector:n._loadedInjector}):iV(e,n,r,this.urlSerializer).pipe(it(i=>i?this.configLoader.loadChildren(e,n).pipe(et(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):aV(n))):J({routes:[],injector:e})}};function _V(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}function vV(t){let e=t.value.routeConfig;return e&&e.path===""}function jx(t){let e=[],n=new Set;for(let r of t){if(!vV(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=jx(r.children);e.push(new on(r.value,i))}return e.filter(r=>!n.has(r))}function yV(t){return t.data||{}}function CV(t){return t.resolve||{}}function mx(t){return{matched:!0,parameters:t.length>0?_x(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function EV(t,e,n,r,i,s){return it(o=>mV(t,e,n,r,o.extractedUrl,i,s).pipe(se(({state:a,tree:l})=>De(V({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function wV(t,e){return it(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return J(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of Bx(l))o.add(c);let a=0;return Le(o).pipe(Rr(l=>s.has(l)?DV(l,r,t,e):(l.data=ym(l,l.parent,t).resolve,J(void 0))),et(()=>a++),vs(1),it(l=>a===o.size?J(n):Ft))})}function Bx(t){let e=t.children.map(n=>Bx(n)).flat();return[t,...e]}function DV(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Ox(i)&&(s[Ia]=i.title),xV(s,t,e,r).pipe(se(o=>(t._resolvedData=o,t.data=ym(t,t.parent,n).resolve,null)))}function xV(t,e,n,r){let i=Yp(t);if(i.length===0)return J({});let s={};return Le(i).pipe(it(o=>bV(t[o],e,n,r).pipe(Sn(),et(a=>{s[o]=a}))),vs(1),Ef(s),Ar(o=>kx(o)?Ft:gs(o)))}function bV(t,e,n,r){let i=Ma(e)??r,s=Xs(t,i),o=s.resolve?s.resolve(e,n):mr(i,()=>s(e,n));return Zr(o)}function Gp(t){return xt(e=>{let n=t(e);return n?Le(n).pipe(se(()=>e)):J(e)})}var Ux=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ie);return i}getResolvedTitleForRoute(r){return r.data[Ia]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>(()=>N(IV))(),providedIn:"root"});let t=e;return t})(),IV=(()=>{let e=class e extends Ux{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(W(Up))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bm=new Q("",{providedIn:"root",factory:()=>({})}),Im=new Q("ROUTES"),MV=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(vp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return J(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Zr(r.loadComponent()).pipe(se(Hx),et(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Pr(()=>{this.componentLoaders.delete(r)})),s=new ms(i,()=>new at).pipe(ps());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return J({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=TV(i,this.compiler,r,this.onLoadEndListener).pipe(Pr(()=>{this.childrenLoaders.delete(i)})),a=new ms(o,()=>new at).pipe(ps());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function TV(t,e,n,r){return Zr(t.loadChildren()).pipe(se(Hx),it(i=>i instanceof Qo||Array.isArray(i)?J(i):Le(e.compileModuleAsync(i))),se(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Im,[],{optional:!0,self:!0}).flat()),{routes:o.map(Dm),injector:s}}))}function SV(t){return t&&typeof t=="object"&&"default"in t}function Hx(t){return SV(t)?t.default:t}var Mm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>(()=>N(AV))(),providedIn:"root"});let t=e;return t})(),AV=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),RV=new Q("");var OV=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new at,this.transitionAbortSubject=new at,this.configLoader=N(MV),this.environmentInjector=N(jt),this.urlSerializer=N(vm),this.rootContexts=N(du),this.location=N(sa),this.inputBindingEnabled=N(wm,{optional:!0})!==null,this.titleStrategy=N(Ux),this.options=N(bm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(Mm),this.createViewTransition=N(RV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let r=s=>this.events.next(new tm(s)),i=s=>this.events.next(new nm(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(De(V(V({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new ft({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ga,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zt(o=>o.id!==0),se(o=>De(V({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),xt(o=>{this.currentTransition=o;let a=!1,l=!1;return J(o).pipe(et(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?De(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xt(c=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new Ui(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),Ft}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return J(c).pipe(xt(f=>{let h=this.transitions?.getValue();return this.events.next(new ya(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Ft:Promise.resolve(f)}),EV(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),et(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=De(V({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new su(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:m,restoredState:p,extras:g}=c,_=new ya(f,this.urlSerializer.serialize(h),m,p);this.events.next(_);let v=Ax(h,this.rootComponentType).snapshot;return this.currentTransition=o=De(V({},c),{targetSnapshot:v,urlAfterRedirects:h,extras:De(V({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,J(o)}else{let f="";return this.events.next(new Ui(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),Ft}}),et(c=>{let u=new Xp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),se(c=>(this.currentTransition=o=De(V({},c),{guards:Bk(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Zk(this.environmentInjector,c=>this.events.next(c)),et(c=>{if(o.guardsResult=c.guardsResult,Qs(c.guardsResult))throw Nx(this.urlSerializer,c.guardsResult);let u=new Kp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Zt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",3),!1)),Gp(c=>{if(c.guards.canActivateChecks.length)return J(c).pipe(et(u=>{let d=new Jp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),xt(u=>{let d=!1;return J(u).pipe(wV(this.paramsInheritanceStrategy,this.environmentInjector),et({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),et(u=>{let d=new em(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Gp(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(et(h=>{d.component=h}),se(()=>{})));for(let h of d.children)f.push(...u(h));return f};return Ml(u(c.targetSnapshot.root)).pipe(Or(),ur(1))}),Gp(()=>this.afterPreactivation()),xt(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?Le(d).pipe(se(()=>o)):J(o)}),se(c=>{let u=Ok(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=De(V({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),et(()=>{this.events.next(new Ea)}),jk(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ur(1),et({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Mf(this.transitionAbortSubject.pipe(et(c=>{throw c}))),Pr(()=>{if(!a&&!l){let c="";this.cancelNavigationTransition(o,c,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ar(c=>{if(l=!0,Lx(c))this.events.next(new Qr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),Fk(c)?this.events.next(new wa(c.url)):o.resolve(!1);else{this.events.next(new Ca(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(u){o.reject(u)}}return Ft}))}))}cancelNavigationTransition(r,i,s){let o=new Qr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PV(t){return t!==ga}var NV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>(()=>N(FV))(),providedIn:"root"});let t=e;return t})(),_m=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},FV=(()=>{let e=class e extends _m{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ea(e)))(s||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$x=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>(()=>N(LV))(),providedIn:"root"});let t=e;return t})(),LV=(()=>{let e=class e extends $x{constructor(){super(...arguments),this.location=N(sa),this.urlSerializer=N(vm),this.options=N(bm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(Mm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Yr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ax(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ya)this.stateMemento=this.createStateMemento();else if(r instanceof Ui)this.rawUrlTree=i.initialUrl;else if(r instanceof su){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Ea?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Qr&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof Ca?this.restoreHistory(i,!0):r instanceof Wr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=V(V({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=V(V({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ea(e)))(s||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(pa||{});function kV(t,e){t.events.pipe(Zt(n=>n instanceof Wr||n instanceof Qr||n instanceof Ca||n instanceof Ui),se(n=>n instanceof Wr||n instanceof Ui?pa.COMPLETE:(n instanceof Qr?n.code===0||n.code===1:!1)?pa.REDIRECTING:pa.FAILED),Zt(n=>n!==pa.REDIRECTING),ur(1)).subscribe(()=>{e()})}function VV(t){throw t}var jV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=N(jc),this.stateManager=N($x),this.options=N(bm,{optional:!0})||{},this.pendingTasks=N(Ls),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(OV),this.urlSerializer=N(vm),this.location=N(sa),this.urlHandlingStrategy=N(Mm),this._events=new at,this.errorHandler=this.options.errorHandler||VV,this.navigated=!1,this.routeReuseStrategy=N(NV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(Im,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(wm,{optional:!0}),this.eventsSubscription=new ot,this.isNgZoneEnabled=N(Re)instanceof Re&&Re.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Qr&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof Wr)this.navigated=!0;else if(i instanceof wa){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||PV(s.source)};this.scheduleNavigation(a,ga,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}HV(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ga,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=V({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Dm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=s?s.snapshot:this.routerState.snapshot.root;f=Ix(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return Mx(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Qs(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ga,null,i)}navigate(r,i={skipLocationChange:!1}){return UV(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=V({},jV):i===!1?s=V({},BV):s=i,Qs(r))return ux(this.currentUrlTree,r,s);let o=this.parseUrl(r);return ux(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,h)=>{l=f,c=h});let d=this.pendingTasks.add();return kV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function UV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new q(4008,!1)}function HV(t){return!(t instanceof Ea)&&!(t instanceof wa)}var Xr=(()=>{let e=class e{constructor(r,i,s,o,a,l){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new at,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof Wr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:_w(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(L(Fn),L(vr),Hh("tabindex"),L(Fi),L($r),L(Bs))},e.\u0275dir=Tt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&$("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Rc("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Vs],skipLocationChange:["skipLocationChange","skipLocationChange",Vs],replaceUrl:["replaceUrl","replaceUrl",Vs],routerLink:"routerLink"},standalone:!0,features:[fp,Vr]});let t=e;return t})();var $V=new Q("");function zx(t,...e){return Hr([{provide:Im,multi:!0,useValue:t},[],{provide:vr,useFactory:zV,deps:[Fn]},{provide:ks,multi:!0,useFactory:GV},e.map(n=>n.\u0275providers)])}function zV(t){return t.routerState.root}function GV(){let t=N(gr);return e=>{let n=t.get(Gr);if(e!==n.components[0])return;let r=t.get(Fn),i=t.get(qV);t.get(YV)===1&&r.initialNavigation(),t.get(WV,null,ue.Optional)?.setUpPreloading(),t.get($V,null,ue.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var qV=new Q("",{factory:()=>new at}),YV=new Q("",{providedIn:"root",factory:()=>1});var WV=new Q("");var Kx=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(L(Fi),L($r))},e.\u0275dir=Tt({type:e});let t=e;return t})(),QV=(()=>{let e=class e extends Kx{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ea(e)))(s||e)}})(),e.\u0275dir=Tt({type:e,features:[zr]});let t=e;return t})(),Jx=new Q("NgValueAccessor");var ZV={provide:Jx,useExisting:As(()=>pn),multi:!0};function XV(){let t=Gn()?Gn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var KV=new Q("CompositionEventMode"),pn=(()=>{let e=class e extends Kx{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!XV())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(L(Fi),L($r),L(KV,8))},e.\u0275dir=Tt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&$("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Fc([ZV]),zr]});let t=e;return t})();var eb=new Q("NgValidators"),tb=new Q("NgAsyncValidators");function nb(t){return t!=null}function rb(t){return ki(t)?Le(t):t}function ib(t){let e={};return t.forEach(n=>{e=n!=null?V(V({},e),n):e}),Object.keys(e).length===0?null:e}function sb(t,e){return e.map(n=>n(t))}function JV(t){return!t.validate}function ob(t){return t.map(e=>JV(e)?e:n=>e.validate(n))}function e3(t){if(!t)return null;let e=t.filter(nb);return e.length==0?null:function(n){return ib(sb(n,e))}}function ab(t){return t!=null?e3(ob(t)):null}function t3(t){if(!t)return null;let e=t.filter(nb);return e.length==0?null:function(n){let r=sb(n,e).map(rb);return yf(r).pipe(se(ib))}}function lb(t){return t!=null?t3(ob(t)):null}function Gx(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function cb(t){return t._rawValidators}function ub(t){return t._rawAsyncValidators}function Sm(t){return t?Array.isArray(t)?t:[t]:[]}function pu(t,e){return Array.isArray(t)?t.includes(e):t===e}function qx(t,e){let n=Sm(e);return Sm(t).forEach(i=>{pu(n,i)||n.push(i)}),n}function Yx(t,e){return Sm(e).filter(n=>!pu(t,n))}var mu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ab(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Js=class extends mu{get formDirective(){return null}get path(){return null}},Ra=class extends mu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},gu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},n3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},AK=De(V({},n3),{"[class.ng-submitted]":"isSubmitted"}),Qn=(()=>{let e=class e extends gu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(L(Ra,2))},e.\u0275dir=Tt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Oc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[zr]});let t=e;return t})(),Zn=(()=>{let e=class e extends gu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(L(Js,10))},e.\u0275dir=Tt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Oc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[zr]});let t=e;return t})();var Sa="VALID",hu="INVALID",Ks="PENDING",Aa="DISABLED";function db(t){return(Cu(t)?t.validators:t)||null}function r3(t){return Array.isArray(t)?ab(t):t||null}function fb(t,e){return(Cu(e)?e.asyncValidators:t)||null}function i3(t){return Array.isArray(t)?lb(t):t||null}function Cu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function s3(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[n])throw new q(1001,"")}function o3(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new q(1002,"")})}var _u=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Sa}get invalid(){return this.status===hu}get pending(){return this.status==Ks}get disabled(){return this.status===Aa}get enabled(){return this.status!==Aa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Yx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Yx(e,this._rawAsyncValidators))}hasValidator(e){return pu(this._rawValidators,e)}hasAsyncValidator(e){return pu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ks,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Aa,this.errors=null,this._forEachChild(r=>{r.disable(De(V({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(De(V({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Sa,this._forEachChild(r=>{r.enable(De(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(De(V({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sa||this.status===Ks)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Aa:Sa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ks,this._hasOwnPendingAsyncValidator=!0;let n=rb(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ve,this.statusChanges=new ve}_calculateStatus(){return this._allControlsDisabled()?Aa:this.errors?hu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ks)?Ks:this._anyControlsHaveStatus(hu)?hu:Sa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Cu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=r3(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=i3(this._rawAsyncValidators)}},hn=class extends _u{constructor(e,n,r){super(db(n),fb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){o3(this,!0,e),Object.keys(e).forEach(r=>{s3(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Am=new Q("CallSetDisabledState",{providedIn:"root",factory:()=>Eu}),Eu="always";function a3(t,e){return[...e.path,t]}function Wx(t,e,n=Eu){Rm(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),c3(t,e),d3(t,e),u3(t,e),l3(t,e)}function Qx(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),yu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function vu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function l3(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Rm(t,e){let n=cb(t);e.validator!==null?t.setValidators(Gx(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=ub(t);e.asyncValidator!==null?t.setAsyncValidators(Gx(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();vu(e._rawValidators,i),vu(e._rawAsyncValidators,i)}function yu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=cb(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=ub(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return vu(e._rawValidators,r),vu(e._rawAsyncValidators,r),n}function c3(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&hb(t,e)})}function u3(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&hb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function hb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function d3(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function f3(t,e){t==null,Rm(t,e)}function h3(t,e){return yu(t,e)}function p3(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function m3(t){return Object.getPrototypeOf(t.constructor)===QV}function g3(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function _3(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===pn?n=s:m3(s)?r=s:i=s}),i||r||n||null}function v3(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Zx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Xx(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var vt=class extends _u{constructor(e=null,n,r){super(db(n),fb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Xx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Zx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Zx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Xx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var y3=t=>t instanceof vt;var Xn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Tt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var C3=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=en({type:e}),e.\u0275inj=Jt({});let t=e;return t})();var pb=new Q("NgModelWithFormControlWarning");var E3={provide:Js,useExisting:As(()=>Ln)},Ln=(()=>{let e=class e extends Js{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ve,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Wx(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Qx(r.control||null,r,!1),v3(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,g3(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(Qx(i||null,r),y3(s)&&(Wx(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);f3(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&h3(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rm(this.form,this),this._oldForm&&yu(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(L(eb,10),L(tb,10),L(Am,8))},e.\u0275dir=Tt({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&$("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fc([E3]),zr,Vr]});let t=e;return t})();var w3={provide:Ra,useExisting:As(()=>kn)},kn=(()=>{let e=class e extends Ra{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ve,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=_3(this,o)}ngOnChanges(r){this._added||this._setUpControl(),p3(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return a3(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(L(Js,13),L(eb,10),L(tb,10),L(Jx,10),L(pb,8))},e.\u0275dir=Tt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Fc([w3]),zr,Vr]});let t=e;return t})();var mb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=en({type:e}),e.\u0275inj=Jt({imports:[C3]});let t=e;return t})();var gb=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Am,useValue:r.callSetDisabledState??Eu}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=en({type:e}),e.\u0275inj=Jt({imports:[mb]});let t=e;return t})(),Kn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:pb,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Am,useValue:r.callSetDisabledState??Eu}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=en({type:e}),e.\u0275inj=Jt({imports:[mb]});let t=e;return t})();var ht=He(nt());var ut=(()=>{let e=class e{constructor(){this._data=new Map,this._textures=[],this._init=!1}init(){return F(this,null,function*(){if(this._init)return;let r=yield this.load();this._createTextures(r,"atlas_0_texture","atlas_0_json","atlas_0"),this._createTextures(r,"atlas_1_texture","atlas_1_json","atlas_1"),this._createTextures(r,"atlas_2_texture","atlas_2_json","atlas_2"),this._init=!0})}_createTextures(r,i,s,o){let a=r.get(i),l=r.get(s),c=ht.Texture.createFromSource(o,a),u=l.zones.map(f=>({id:f.id,sx:f.x,sy:f.y,sw:f.width,sh:f.height}));c.createSubTextures(u).forEach(f=>{this._textures.push(f)})}load(){return F(this,null,function*(){let r=new ht.AssetsManager;return r.queue("./assets/atlases/atlas_0.png",ht.IMAGE_TYPE,"atlas_0_texture"),r.queue("./assets/atlases/atlas_0.json",ht.JSON_TYPE,"atlas_0_json"),r.queue("./assets/atlases/atlas_1.png",ht.IMAGE_TYPE,"atlas_1_texture"),r.queue("./assets/atlases/atlas_1.json",ht.JSON_TYPE,"atlas_1_json"),r.queue("./assets/atlases/atlas_2.png",ht.IMAGE_TYPE,"atlas_2_texture"),r.queue("./assets/atlases/atlas_2.json",ht.JSON_TYPE,"atlas_2_json"),yield r.loadQueue(),this._data=r.getAll(),this._data})}getData(){return this._data}getTextureByID(r){return this._textures.find(i=>i.id===r)||null}createImage(r){let i=document.createElement("img"),s=this.getTextureByID(r);if(s===null)return i;let o=ht.DisplayObject.createFromTexture(s),a=new ht.Stage;a.getCanvas().width=o.width,a.getCanvas().height=o.height,a.addChild(o),a.nextFrame();let l=a.getCanvas().toDataURL();return i.src=l,i}createDisplayObject(r){let i=this.getTextureByID(r);return ht.DisplayObject.createFromTexture(i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Cn=(()=>{let e=class e{formatAmount(r){return r<1e3?r.toString():Math.floor(r/100)/10+"k"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function d$(t,e){if(t&1&&(w(0,"div",3),Y(1,"img",4),w(2,"p",5),P(3),x()()),t&2){let n=e.$implicit,r=R(2);I(1),Ce("alt",n.name),M("src",r.getURI(n),Me),I(2),be(r.formatAmount(n.amount))}}function f$(t,e){if(t&1&&(w(0,"div",1),X(1,d$,4,3,"div",2),x()),t&2){let n=R();I(1),M("ngForOf",n.resources)}}var gM=(()=>{let e=class e{constructor(r,i){this._textureManagerService=r,this._utils=i,this.resources=null,this.showResources=!1}ngOnInit(){this._textureManagerService.init()}getBackgroundSize(r){return Math.round(r.amount/r.max*100)+"% 100%"}getWallet(){return this.resources?.filter(r=>!r.combat)}formatAmount(r){return this._utils.formatAmount(r)}getURI(r){return this._textureManagerService.createImage(r.key).src}};e.\u0275fac=function(i){return new(i||e)(L(ut),L(Cn))},e.\u0275cmp=ge({type:e,selectors:[["app-wallet"]],inputs:{resources:"resources",showResources:"showResources"},standalone:!0,features:[_e],decls:1,vars:1,consts:[["class","wallet mnone pnone",4,"ngIf"],[1,"wallet","mnone","pnone"],["class","bgcolor3 bdcolor2 bradius2 all12 mnone mtopsmall pxsmall bdsmall resource",4,"ngFor","ngForOf"],[1,"bgcolor3","bdcolor2","bradius2","all12","mnone","mtopsmall","pxsmall","bdsmall","resource"],[1,"all12",3,"src","alt"],[1,"font4","xbig","amount","color2"]],template:function(i,s){i&1&&X(0,f$,2,1,"div",0),i&2&&M("ngIf",s.resources!=null&&s.showResources)},dependencies:[Oe,Ut],styles:[".wallet[_ngcontent-%COMP%]{width:30px;position:absolute;z-index:10;right:30px;top:10%}.resource[_ngcontent-%COMP%]{position:relative;top:0;left:0}.amount[_ngcontent-%COMP%]{position:absolute;bottom:0;right:5px}"]});let t=e;return t})();var tr=(()=>{let e=class e{constructor(){this.title=""}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ge({type:e,selectors:[["app-stylized-title"]],inputs:{title:"title"},standalone:!0,features:[_e],decls:5,vars:1,consts:[[1,"all12","mnone","pnone","row","txt-center","allh12","center","center2"],[1,"all1","bgcolor4","allh6","mnone","pnone","left-flag","selfcenter2"],[1,"all8","txt-center","biggest","bgcolor4","color2","shadow2","mnone","pxsmall","flag-center","bradius1"],[1,"all1","bgcolor4","allh6","mnone","pnone","right-flag","selfcenter2"]],template:function(i,s){i&1&&(w(0,"div",0),Y(1,"div",1),w(2,"h3",2),P(3),x(),Y(4,"div",3),x()),i&2&&(I(3),be(s.title))},styles:[".right-flag[_ngcontent-%COMP%]{clip-path:polygon(0% 0%,100% 0%,80% 50%,100% 100%,0% 100%,0% 0%);border:2px dashed #4b0000}.flag-center[_ngcontent-%COMP%]{border:2px dashed #4b0000}.left-flag[_ngcontent-%COMP%]{border:2px dashed #4b0000;clip-path:polygon(0% 0%,20% 50%,0% 100%,100% 100%,100% 0%,0% 0%)}"]});let t=e;return t})();var Pt=He(nt());var rs=He(nt());var Dr=He(nt());var sd=He(nt()),F_=(()=>{let e=class e{static _getCanvas(){return this._offscreenCanvas===null&&(this._offscreenCanvas=document.createElement("canvas")),this._offscreenCanvas}static collidePixelPerfect(r,i,s){if(!sd.Geometry.collide(r,i,s))return!1;let o=sd.Geometry.getRevertWorldMatrix(s.worldMatrix),a=sd.Geometry.transformPoint(r,i,o);if(a.x<0||a.x>s.width||a.y<0||a.y>s.height)return!1;let l=e._getCanvas(),c=l.getContext("2d");return l.width=s.width,l.height=s.height,c.save(),c.drawImage(s.texture?.source,0,0),c.restore(),c.getImageData(a.x,a.y,1,1).data[3]>0}};e._offscreenCanvas=null;let t=e;return t})();var ri=class extends Dr.DisplayObjectContainer{constructor(){super(),this._normal=new Dr.DisplayObject,this._hover=new Dr.DisplayObject,this._btn=new Dr.DisplayObject}init(e="",n,r,i,s,o){this.name=e,this._normal=Dr.DisplayObject.createFromTexture(n),this._hover=Dr.DisplayObject.createFromTexture(r),this._btn=Dr.DisplayObject.createFromTexture(i),this.width=this._normal.width,this.height=this._normal.height,this._normal.x=-(this._normal.width>>1),this._normal.y=-o,this._hover.x=this._normal.x,this._hover.y=this._normal.y;let a=this._normal.width>>1,l=this._normal.height>>1,c=a-(this._btn.width>>1),u=l-(this._btn.height>>1);this._btn.x=this._normal.x+c,this._btn.y=this._normal.y+u,this._btn.transformOrigin.x=this._btn.width>>1,this._btn.transformOrigin.y=this._btn.height>>1,this._btn.rotation=-s,this._btn.scaleX=this._btn.scaleY=(this._normal.height>>1)/this._btn.height,this._btn.mouseEventsEnabled=!1,this.rotation=s,this.addChild(this._normal),this.addChild(this._btn)}changeBtnTexture(e){this._btn.texture=e}hover(e){if(!this.mouseEventsEnabled)return!1;let n=F_.collidePixelPerfect(e.x,e.y,this._normal);return this.removeChildren(),n?this.addChild(this._hover):this.addChild(this._normal),this.addChild(this._btn),n}out(){this.removeChildren(),this.addChild(this._normal),this.addChild(this._btn)}click(e){if(!this.mouseEventsEnabled)return!1;let n=F_.collidePixelPerfect(e.x,e.y,this._normal);return this.removeChildren(),n?this.addChild(this._hover):this.addChild(this._normal),this.addChild(this._btn),n}};function xr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xM(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Gt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},go={duration:.5,overwrite:!1,delay:0},e0,yt,Ue,wn=1e8,Ne=1/wn,$_=Math.PI*2,h$=$_/4,p$=0,bM=Math.sqrt,m$=Math.cos,g$=Math.sin,st=function(e){return typeof e=="string"},qe=function(e){return typeof e=="function"},Ir=function(e){return typeof e=="number"},md=function(e){return typeof e>"u"},ir=function(e){return typeof e=="object"},zt=function(e){return e!==!1},t0=function(){return typeof window<"u"},od=function(e){return qe(e)||st(e)},IM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ct=Array.isArray,z_=/(?:-?\.?\d|\.)+/gi,n0=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Qi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,L_=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,r0=/[+-]=-?[.\d]+/,MM=/[^,'"\[\]\s]+/gi,_$=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,$e,nr,G_,i0,ln={},ud={},TM,SM=function(e){return(ud=Wi(e,ln))&&Et},gd=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},za=function(e,n){return!n&&console.warn(e)},AM=function(e,n){return e&&(ln[e]=n)&&ud&&(ud[e]=n)||ln},Ga=function(){return 0},v$={suppressEvents:!0,isStart:!0,kill:!1},ad={suppressEvents:!0,kill:!1},y$={suppressEvents:!0},s0={},si=[],q_={},RM,Ht={},k_={},_M=30,ld=[],o0="",a0=function(e){var n=e[0],r,i;if(ir(n)||qe(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=ld.length;i--&&!ld[i].targetTest(n););r=ld[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new u0(e[i],r)))||e.splice(i,1);return e},oi=function(e){return e._gsap||a0(Dn(e))[0]._gsap},l0=function(e,n,r){return(r=e[n])&&qe(r)?e[n]():md(r)&&e.getAttribute&&e.getAttribute(n)||r},Rt=function(e,n){return(e=e.split(",")).forEach(n)||e},Ye=function(e){return Math.round(e*1e5)/1e5||0},dt=function(e){return Math.round(e*1e7)/1e7||0},Zi=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},C$=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},dd=function(){var e=si.length,n=si.slice(0),r,i;for(q_={},si.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},OM=function(e,n,r,i){si.length&&!yt&&dd(),e.render(n,r,i||yt&&n<0&&(e._initted||e._startAt)),si.length&&!yt&&dd()},PM=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(MM).length<2?n:st(e)?e.trim():e},NM=function(e){return e},xn=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},E$=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},Wi=function(e,n){for(var r in n)e[r]=n[r];return e},vM=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ir(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},fd=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},Ua=function(e){var n=e.parent||$e,r=e.keyframes?E$(Ct(e.keyframes)):xn;if(zt(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},w$=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},FM=function(e,n,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=n[s];o&&o[s]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=o,n.parent=n._dp=e,n},_d=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=n._prev,o=n._next;s?s._next=o:e[r]===n&&(e[r]=o),o?o._prev=s:e[i]===n&&(e[i]=s),n._next=n._prev=n.parent=null},ai=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Gi=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},D$=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},Y_=function(e,n,r,i){return e._startAt&&(yt?e._startAt.revert(ad):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},x$=function t(e){return!e||e._ts&&t(e.parent)},yM=function(e){return e._repeat?_o(e._tTime,e=e.duration()+e._rDelay)*e:0},_o=function(e,n){var r=Math.floor(e/=n);return e&&r===e?r-1:r},hd=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},vd=function(e){return e._end=dt(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ne)||0))},yd=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=dt(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),vd(e),r._dirty||Gi(r,e)),e},LM=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=hd(e.rawTime(),n),(!n._dur||Wa(0,n.totalDuration(),r)-n._tTime>Ne)&&n.render(r,!0)),Gi(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Ne}},rr=function(e,n,r,i){return n.parent&&ai(n),n._start=dt((Ir(r)?r:r||e!==$e?En(e,r,n):e._time)+n._delay),n._end=dt(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),FM(e,n,"_first","_last",e._sort?"_start":0),W_(n)||(e._recent=n),i||LM(e,n),e._ts<0&&yd(e,e._tTime),e},kM=function(e,n){return(ln.ScrollTrigger||gd("scrollTrigger",n))&&ln.ScrollTrigger.create(n,e)},VM=function(e,n,r,i,s){if(h0(e,n,s),!e._initted)return 1;if(!r&&e._pt&&!yt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&RM!==$t.frame)return si.push(e),e._lazy=[s,i],1},b$=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},W_=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},I$=function(e,n,r,i){var s=e.ratio,o=n<0||!n&&(!e._start&&b$(e)&&!(!e._initted&&W_(e))||(e._ts<0||e._dp._ts<0)&&!W_(e))?0:1,a=e._rDelay,l=0,c,u,d;if(a&&e._repeat&&(l=Wa(0,e._tDur,n),u=_o(l,a),e._yoyo&&u&1&&(o=1-o),u!==_o(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||yt||i||e._zTime===Ne||!n&&e._zTime){if(!e._initted&&VM(e,n,i,r,l))return;for(d=e._zTime,e._zTime=n||(r?Ne:0),r||(r=n&&!d),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;n<0&&Y_(e,n,r,!0),e._onUpdate&&!r&&an(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&an(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&ai(e,1),!r&&!yt&&(an(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},M$=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},vo=function(e,n,r,i){var s=e._repeat,o=dt(n)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:dt(o*(s+1)+e._rDelay*s):o,a>0&&!i&&yd(e,e._tTime=e._tDur*a),e.parent&&vd(e),r||Gi(e.parent,e),e},CM=function(e){return e instanceof pt?Gi(e):vo(e,e._dur)},T$={_start:0,endTime:Ga,totalDuration:Ga},En=function t(e,n,r){var i=e.labels,s=e._recent||T$,o=e.duration()>=wn?s.endTime(!1):e._dur,a,l,c;return st(n)&&(isNaN(n)||n in i)?(l=n.charAt(0),c=n.substr(-1)==="%",a=n.indexOf("="),l==="<"||l===">"?(a>=0&&(n=n.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(c?(a<0?s:r).totalDuration()/100:1)):a<0?(n in i||(i[n]=o),i[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),c&&r&&(l=l/100*(Ct(r)?r[0]:r).totalDuration()),a>1?t(e,n.substr(0,a-1),r)+l:o+l)):n==null?o:+n},Ha=function(e,n,r){var i=Ir(n[1]),s=(i?2:1)+(e<2?0:1),o=n[s],a,l;if(i&&(o.duration=n[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=zt(l.vars.inherit)&&l.parent;o.immediateRender=zt(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[s-1]}return new Ke(n[0],o,n[s+1])},li=function(e,n){return e||e===0?n(e):n},Wa=function(e,n,r){return r<e?e:r>n?n:r},mt=function(e,n){return!st(e)||!(n=_$.exec(e))?"":n[1]},S$=function(e,n,r){return li(r,function(i){return Wa(e,n,i)})},Q_=[].slice,jM=function(e,n){return e&&ir(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&ir(e[0]))&&!e.nodeType&&e!==nr},A$=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return st(i)&&!n||jM(i,1)?(s=r).push.apply(s,Dn(i)):r.push(i)})||r},Dn=function(e,n,r){return Ue&&!n&&Ue.selector?Ue.selector(e):st(e)&&!r&&(G_||!yo())?Q_.call((n||i0).querySelectorAll(e),0):Ct(e)?A$(e,r):jM(e)?Q_.call(e,0):e?[e]:[]},Z_=function(e){return e=Dn(e)[0]||za("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return Dn(n,r.querySelectorAll?r:r===e?za("Invalid scope")||i0.createElement("div"):e)}},BM=function(e){return e.sort(function(){return .5-Math.random()})},UM=function(e){if(qe(e))return e;var n=ir(e)?e:{each:e},r=qi(n.ease),i=n.from||0,s=parseFloat(n.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=n.axis,u=i,d=i;return st(i)?u=d={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(u=i[0],d=i[1]),function(f,h,m){var p=(m||n).length,g=o[p],_,v,C,y,E,b,A,O,S;if(!g){if(S=n.grid==="auto"?0:(n.grid||[1,wn])[1],!S){for(A=-wn;A<(A=m[S++].getBoundingClientRect().left)&&S<p;);S<p&&S--}for(g=o[p]=[],_=l?Math.min(S,p)*u-.5:i%S,v=S===wn?0:l?p*d/S-.5:i/S|0,A=0,O=wn,b=0;b<p;b++)C=b%S-_,y=v-(b/S|0),g[b]=E=c?Math.abs(c==="y"?y:C):bM(C*C+y*y),E>A&&(A=E),E<O&&(O=E);i==="random"&&BM(g),g.max=A-O,g.min=O,g.v=p=(parseFloat(n.amount)||parseFloat(n.each)*(S>p?p-1:c?c==="y"?p/S:S:Math.max(S,p/S))||0)*(i==="edges"?-1:1),g.b=p<0?s-p:s,g.u=mt(n.amount||n.each)||0,r=r&&p<0?ZM(r):r}return p=(g[f]-g.min)/g.max||0,dt(g.b+(r?r(p):p)*g.v)+g.u}},X_=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=dt(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(Ir(r)?0:mt(r))}},HM=function(e,n){var r=Ct(e),i,s;return!r&&ir(e)&&(i=r=e.radius||wn,e.values?(e=Dn(e.values),(s=!Ir(e[0]))&&(i*=i)):e=X_(e.increment)),li(n,r?qe(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=wn,u=0,d=e.length,f,h;d--;)s?(f=e[d].x-a,h=e[d].y-l,f=f*f+h*h):f=Math.abs(e[d]-a),f<c&&(c=f,u=d);return u=!i||c<=i?e[u]:o,s||u===o||Ir(o)?u:u+mt(o)}:X_(e))},$M=function(e,n,r,i){return li(Ct(e)?!n:r===!0?!!(r=0):!i,function(){return Ct(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},R$=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(s,o){return o(s)},i)}},O$=function(e,n){return function(r){return e(parseFloat(r))+(n||mt(r))}},P$=function(e,n,r){return GM(e,n,0,1,r)},zM=function(e,n,r){return li(r,function(i){return e[~~n(i)]})},N$=function t(e,n,r){var i=n-e;return Ct(e)?zM(e,t(0,e.length),n):li(r,function(s){return(i+(s-e)%i)%i+e})},F$=function t(e,n,r){var i=n-e,s=i*2;return Ct(e)?zM(e,t(0,e.length-1),n):li(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Co=function(e){for(var n=0,r="",i,s,o,a;~(i=e.indexOf("random(",n));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?MM:z_),r+=e.substr(n,i-n)+$M(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},GM=function(e,n,r,i,s){var o=n-e,a=i-r;return li(s,function(l){return r+((l-e)/o*a||0)})},L$=function t(e,n,r,i){var s=isNaN(e+n)?0:function(h){return(1-h)*e+h*n};if(!s){var o=st(e),a={},l,c,u,d,f;if(r===!0&&(i=1)&&(r=null),o)e={p:e},n={p:n};else if(Ct(e)&&!Ct(n)){for(u=[],d=e.length,f=d-2,c=1;c<d;c++)u.push(t(e[c-1],e[c]));d--,s=function(m){m*=d;var p=Math.min(f,~~m);return u[p](m-p)},r=n}else i||(e=Wi(Ct(e)?[]:{},e));if(!u){for(l in n)d0.call(a,e,l,"get",n[l]);s=function(m){return g0(m,a)||(o?e.p:e)}}}return li(r,s)},EM=function(e,n,r){var i=e.labels,s=wn,o,a,l;for(o in i)a=i[o]-n,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},an=function(e,n,r){var i=e.vars,s=i[n],o=Ue,a=e._ctx,l,c,u;if(s)return l=i[n+"Params"],c=i.callbackScope||e,r&&si.length&&dd(),a&&(Ue=a),u=l?s.apply(c,l):s.call(c),Ue=o,u},ja=function(e){return ai(e),e.scrollTrigger&&e.scrollTrigger.kill(!!yt),e.progress()<1&&an(e,"onInterrupt"),e},mo,qM=[],YM=function(e){if(e)if(e=!e.name&&e.default||e,t0()||e.headless){var n=e.name,r=qe(e),i=n&&!r&&e.init?function(){this._props=[]}:e,s={init:Ga,render:g0,add:d0,kill:K$,modifier:X$,rawVars:0},o={targetTest:0,get:0,getSetter:Cd,aliases:{},register:0};if(yo(),e!==i){if(Ht[n])return;xn(i,xn(fd(e,s),o)),Wi(i.prototype,Wi(s,fd(e,o))),Ht[i.prop=n]=i,e.targetTest&&(ld.push(i),s0[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}AM(n,i),e.register&&e.register(Et,i,Ot)}else qM.push(e)},Se=255,Ba={aqua:[0,Se,Se],lime:[0,Se,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Se],navy:[0,0,128],white:[Se,Se,Se],olive:[128,128,0],yellow:[Se,Se,0],orange:[Se,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Se,0,0],pink:[Se,192,203],cyan:[0,Se,Se],transparent:[Se,Se,Se,0]},V_=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*Se+.5|0},WM=function(e,n,r){var i=e?Ir(e)?[e>>16,e>>8&Se,e&Se]:0:Ba.black,s,o,a,l,c,u,d,f,h,m;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ba[e])i=Ba[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Se,i&Se,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Se,e&Se]}else if(e.substr(0,3)==="hsl"){if(i=m=e.match(z_),!n)l=+i[0]%360/360,c=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,i.length>3&&(i[3]*=1),i[0]=V_(l+1/3,s,o),i[1]=V_(l,s,o),i[2]=V_(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(n0),r&&i.length<4&&(i[3]=1),i}else i=e.match(z_)||Ba.transparent;i=i.map(Number)}return n&&!m&&(s=i[0]/Se,o=i[1]/Se,a=i[2]/Se,d=Math.max(s,o,a),f=Math.min(s,o,a),u=(d+f)/2,d===f?l=c=0:(h=d-f,c=u>.5?h/(2-d-f):h/(d+f),l=d===s?(o-a)/h+(o<a?6:0):d===o?(a-s)/h+2:(s-o)/h+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},QM=function(e){var n=[],r=[],i=-1;return e.split(br).forEach(function(s){var o=s.match(Qi)||[];n.push.apply(n,o),r.push(i+=o.length+1)}),n.c=r,n},wM=function(e,n,r){var i="",s=(e+i).match(br),o=n?"hsla(":"rgba(",a=0,l,c,u,d;if(!s)return e;if(s=s.map(function(f){return(f=WM(f,n,1))&&o+(n?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),r&&(u=QM(e),l=r.c,l.join(i)!==u.c.join(i)))for(c=e.replace(br,"1").split(Qi),d=c.length-1;a<d;a++)i+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:r).shift());if(!c)for(c=e.split(br),d=c.length-1;a<d;a++)i+=c[a]+s[a];return i+c[d]},br=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ba)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),k$=/hsl[a]?\(/,c0=function(e){var n=e.join(" "),r;if(br.lastIndex=0,br.test(n))return r=k$.test(n),e[1]=wM(e[1],r),e[0]=wM(e[0],r,QM(e[1])),!0},qa,$t=function(){var t=Date.now,e=500,n=33,r=t(),i=r,s=1e3/240,o=s,a=[],l,c,u,d,f,h,m=function p(g){var _=t()-i,v=g===!0,C,y,E,b;if((_>e||_<0)&&(r+=_-n),i+=_,E=i-r,C=E-o,(C>0||v)&&(b=++d.frame,f=E-d.time*1e3,d.time=E=E/1e3,o+=C+(C>=s?4:s-C),y=1),v||(l=c(p)),y)for(h=0;h<a.length;h++)a[h](E,f,b,g)};return d={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(g){return f/(1e3/(g||60))},wake:function(){TM&&(!G_&&t0()&&(nr=G_=window,i0=nr.document||{},ln.gsap=Et,(nr.gsapVersions||(nr.gsapVersions=[])).push(Et.version),SM(ud||nr.GreenSockGlobals||!nr.gsap&&nr||{}),qM.forEach(YM)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&d.sleep(),c=u||function(g){return setTimeout(g,o-d.time*1e3+1|0)},qa=1,m(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),qa=0,c=Ga},lagSmoothing:function(g,_){e=g||1/0,n=Math.min(_||33,e)},fps:function(g){s=1e3/(g||240),o=d.time*1e3+s},add:function(g,_,v){var C=_?function(y,E,b,A){g(y,E,b,A),d.remove(C)}:g;return d.remove(g),a[v?"unshift":"push"](C),yo(),C},remove:function(g,_){~(_=a.indexOf(g))&&a.splice(_,1)&&h>=_&&h--},_listeners:a},d}(),yo=function(){return!qa&&$t.wake()},pe={},V$=/^[\d.\-M][\d.\-,\s]/,j$=/["']/g,B$=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,c;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),n[i]=isNaN(c)?c.replace(j$,"").trim():+c,i=l.substr(a+1).trim();return n},U$=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},H$=function(e){var n=(e+"").split("("),r=pe[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[B$(n[1])]:U$(e).split(",").map(PM)):pe._CE&&V$.test(e)?pe._CE("",e):r},ZM=function(e){return function(n){return 1-e(1-n)}},XM=function t(e,n){for(var r=e._first,i;r;)r instanceof pt?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},qi=function(e,n){return e&&(qe(e)?e:pe[e]||H$(e))||n},Xi=function(e,n,r,i){r===void 0&&(r=function(l){return 1-n(1-l)}),i===void 0&&(i=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var s={easeIn:n,easeOut:r,easeInOut:i},o;return Rt(e,function(a){pe[a]=ln[a]=s,pe[o=a.toLowerCase()]=r;for(var l in s)pe[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=pe[a+"."+l]=s[l]}),s},KM=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},j_=function t(e,n,r){var i=n>=1?n:1,s=(r||(e?.3:.45))/(n<1?n:1),o=s/$_*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*g$((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:KM(a);return s=$_/s,l.config=function(c,u){return t(e,c,u)},l},B_=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:KM(r);return i.config=function(s){return t(e,s)},i};Rt("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Xi(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});pe.Linear.easeNone=pe.none=pe.Linear.easeIn;Xi("Elastic",j_("in"),j_("out"),j_());(function(t,e){var n=1/e,r=2*n,i=2.5*n,s=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};Xi("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Xi("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});Xi("Circ",function(t){return-(bM(1-t*t)-1)});Xi("Sine",function(t){return t===1?1:-m$(t*h$)+1});Xi("Back",B_("in"),B_("out"),B_());pe.SteppedEase=pe.steps=ln.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),s=n?1:0,o=1-Ne;return function(a){return((i*Wa(0,o,a)|0)+s)*r}}};go.ease=pe["quad.out"];Rt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return o0+=t+","+t+"Params,"});var u0=function(e,n){this.id=p$++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:l0,this.set=n?n.getSetter:Cd},Ya=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,vo(this,+n.duration,1,1),this.data=n.data,Ue&&(this._ctx=Ue,Ue.data.push(this)),qa||$t.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,vo(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(yo(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(yd(this,r),!s._dp||s.parent||LM(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&rr(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Ne||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),OM(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+yM(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+yM(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?_o(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-Ne?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?hd(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Ne?0:this._rts,this.totalTime(Wa(-Math.abs(this._delay),this._tDur,s),i!==!1),vd(this),D$(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(yo(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ne&&(this._tTime-=Ne)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&rr(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(zt(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?hd(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=y$);var i=yt;return yt=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),yt=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,CM(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,CM(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(En(this,r),zt(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,zt(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Ne:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ne,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Ne)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=qe(r)?r:NM,a=function(){var c=i.then;i.then=null,qe(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){ja(this)},t}();xn(Ya.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ne,_prom:0,_ps:!1,_rts:1});var pt=function(t){xM(e,t);function e(r,i){var s;return r===void 0&&(r={}),s=t.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=zt(r.sortChildren),$e&&rr(r.parent||$e,xr(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&kM(xr(s),r.scrollTrigger),s}var n=e.prototype;return n.to=function(i,s,o){return Ha(0,arguments,this),this},n.from=function(i,s,o){return Ha(1,arguments,this),this},n.fromTo=function(i,s,o,a){return Ha(2,arguments,this),this},n.set=function(i,s,o){return s.duration=0,s.parent=this,Ua(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Ke(i,s,En(this,o),1),this},n.call=function(i,s,o){return rr(this,Ke.delayedCall(0,i,s),o)},n.staggerTo=function(i,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new Ke(i,o,En(this,l)),this},n.staggerFrom=function(i,s,o,a,l,c,u){return o.runBackwards=1,Ua(o).immediateRender=zt(o.immediateRender),this.staggerTo(i,s,o,a,l,c,u)},n.staggerFromTo=function(i,s,o,a,l,c,u,d){return a.startAt=o,Ua(a).immediateRender=zt(a.immediateRender),this.staggerTo(i,s,a,l,c,u,d)},n.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=i<=0?0:dt(i),d=this._zTime<0!=i<0&&(this._initted||!c),f,h,m,p,g,_,v,C,y,E,b,A;if(this!==$e&&u>l&&i>=0&&(u=l),u!==this._tTime||o||d){if(a!==this._time&&c&&(u+=this._time-a,i+=this._time-a),f=u,y=this._start,C=this._ts,_=!C,d&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(b=this._yoyo,g=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(g*100+i,s,o);if(f=dt(u%g),u===l?(p=this._repeat,f=c):(p=~~(u/g),p&&p===u/g&&(f=c,p--),f>c&&(f=c)),E=_o(this._tTime,g),!a&&this._tTime&&E!==p&&this._tTime-E*g-this._dur<=0&&(E=p),b&&p&1&&(f=c-f,A=1),p!==E&&!this._lock){var O=b&&E&1,S=O===(b&&p&1);if(p<E&&(O=!O),a=O?0:u%c?c:u,this._lock=1,this.render(a||(A?0:dt(p*g)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&an(this,"onRepeat"),this.vars.repeatRefresh&&!A&&(this.invalidate()._lock=1),a&&a!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,S&&(this._lock=2,a=O?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!A&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;XM(this,A)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=M$(this,dt(a),dt(f)),v&&(u-=f-(f=v._start))),this._tTime=u,this._time=f,this._act=!C,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&f&&!s&&!p&&(an(this,"onStart"),this._tTime!==u))return this;if(f>=a&&i>=0)for(h=this._first;h;){if(m=h._next,(h._act||f>=h._start)&&h._ts&&v!==h){if(h.parent!==this)return this.render(i,s,o);if(h.render(h._ts>0?(f-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(f-h._start)*h._ts,s,o),f!==this._time||!this._ts&&!_){v=0,m&&(u+=this._zTime=-Ne);break}}h=m}else{h=this._last;for(var U=i<0?i:f;h;){if(m=h._prev,(h._act||U<=h._end)&&h._ts&&v!==h){if(h.parent!==this)return this.render(i,s,o);if(h.render(h._ts>0?(U-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(U-h._start)*h._ts,s,o||yt&&(h._initted||h._startAt)),f!==this._time||!this._ts&&!_){v=0,m&&(u+=this._zTime=U?-Ne:Ne);break}}h=m}}if(v&&!s&&(this.pause(),v.render(f>=a?0:-Ne)._zTime=f>=a?1:-1,this._ts))return this._start=y,vd(this),this.render(i,s,o);this._onUpdate&&!s&&an(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(y===this._start||Math.abs(C)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&ai(this,1),!s&&!(i<0&&!a)&&(u||a||!l)&&(an(this,u===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,s){var o=this;if(Ir(s)||(s=En(this,s,i)),!(i instanceof Ya)){if(Ct(i))return i.forEach(function(a){return o.add(a,s)}),this;if(st(i))return this.addLabel(i,s);if(qe(i))i=Ke.delayedCall(0,i);else return this}return this!==i?rr(this,i,s):this},n.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-wn);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Ke?s&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},n.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},n.remove=function(i){return st(i)?this.removeLabel(i):qe(i)?this.killTweensOf(i):(_d(this,i),i===this._recent&&(this._recent=this._last),Gi(this))},n.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=dt($t.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},n.addLabel=function(i,s){return this.labels[i]=En(this,s),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,s,o){var a=Ke.delayedCall(0,s||Ga,o);return a.data="isPause",this._hasPause=1,rr(this,a,En(this,i))},n.removePause=function(i){var s=this._first;for(i=En(this,i);s;)s._start===i&&s.data==="isPause"&&ai(s),s=s._next},n.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)ii!==a[l]&&a[l].kill(i,s);return this},n.getTweensOf=function(i,s){for(var o=[],a=Dn(i),l=this._first,c=Ir(s),u;l;)l instanceof Ke?C$(l._targets,a)&&(c?(!ii||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},n.tweenTo=function(i,s){s=s||{};var o=this,a=En(o,i),l=s,c=l.startAt,u=l.onStart,d=l.onStartParams,f=l.immediateRender,h,m=Ke.to(o,xn({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||Ne,onStart:function(){if(o.pause(),!h){var g=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());m._dur!==g&&vo(m,g,0,1).render(m._time,!0,!0),h=1}u&&u.apply(m,d||[])}},s));return f?m.render(0):m},n.tweenFromTo=function(i,s,o){return this.tweenTo(s,xn({startAt:{time:En(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),EM(this,En(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),EM(this,En(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Ne)},n.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=i);return Gi(this)},n.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Gi(this)},n.totalDuration=function(i){var s=0,o=this,a=o._last,l=wn,c,u,d;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(d=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,rr(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;vo(o,o===$e&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if($e._ts&&(OM($e,hd(i,$e)),RM=$t.frame),$t.frame>=_M){_M+=Gt.autoSleep||120;var s=$e._first;if((!s||!s._ts)&&Gt.autoSleep&&$t._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||$t.sleep()}}},e}(Ya);xn(pt.prototype,{_lock:0,_hasPause:0,_forcing:0});var $$=function(e,n,r,i,s,o,a){var l=new Ot(this._pt,e,n,0,1,m0,null,s),c=0,u=0,d,f,h,m,p,g,_,v;for(l.b=r,l.e=i,r+="",i+="",(_=~i.indexOf("random("))&&(i=Co(i)),o&&(v=[r,i],o(v,e,n),r=v[0],i=v[1]),f=r.match(L_)||[];d=L_.exec(i);)m=d[0],p=i.substring(c,d.index),h?h=(h+1)%5:p.substr(-5)==="rgba("&&(h=1),m!==f[u++]&&(g=parseFloat(f[u-1])||0,l._pt={_next:l._pt,p:p||u===1?p:",",s:g,c:m.charAt(1)==="="?Zi(g,m)-g:parseFloat(m)-g,m:h&&h<4?Math.round:0},c=L_.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(r0.test(i)||_)&&(l.e=0),this._pt=l,l},d0=function(e,n,r,i,s,o,a,l,c,u){qe(i)&&(i=i(s||0,e,o));var d=e[n],f=r!=="get"?r:qe(d)?c?e[n.indexOf("set")||!qe(e["get"+n.substr(3)])?n:"get"+n.substr(3)](c):e[n]():d,h=qe(d)?c?W$:tT:p0,m;if(st(i)&&(~i.indexOf("random(")&&(i=Co(i)),i.charAt(1)==="="&&(m=Zi(f,i)+(mt(f)||0),(m||m===0)&&(i=m))),!u||f!==i||K_)return!isNaN(f*i)&&i!==""?(m=new Ot(this._pt,e,n,+f||0,i-(f||0),typeof d=="boolean"?Z$:nT,0,h),c&&(m.fp=c),a&&m.modifier(a,this,e),this._pt=m):(!d&&!(n in e)&&gd(n,i),$$.call(this,e,n,f,i,h,l||Gt.stringFilter,c))},z$=function(e,n,r,i,s){if(qe(e)&&(e=$a(e,s,n,r,i)),!ir(e)||e.style&&e.nodeType||Ct(e)||IM(e))return st(e)?$a(e,s,n,r,i):e;var o={},a;for(a in e)o[a]=$a(e[a],s,n,r,i);return o},f0=function(e,n,r,i,s,o){var a,l,c,u;if(Ht[e]&&(a=new Ht[e]).init(s,a.rawVars?n[e]:z$(n[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new Ot(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==mo))for(c=r._ptLookup[r._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},ii,K_,h0=function t(e,n,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,u=i.runBackwards,d=i.yoyoEase,f=i.keyframes,h=i.autoRevert,m=e._dur,p=e._startAt,g=e._targets,_=e.parent,v=_&&_.data==="nested"?_.vars.targets:g,C=e._overwrite==="auto"&&!e0,y=e.timeline,E,b,A,O,S,U,te,Z,K,B,ye,Ae,je;if(y&&(!f||!s)&&(s="none"),e._ease=qi(s,go.ease),e._yEase=d?ZM(qi(d===!0?s:d,go.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!y&&!!i.runBackwards,!y||f&&!i.stagger){if(Z=g[0]?oi(g[0]).harness:0,Ae=Z&&i[Z.prop],E=fd(i,s0),p&&(p._zTime<0&&p.progress(1),n<0&&u&&a&&!h?p.render(-1,!0):p.revert(u&&m?ad:v$),p._lazy=0),o){if(ai(e._startAt=Ke.set(g,xn({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!p&&zt(l),startAt:null,delay:0,onUpdate:c&&function(){return an(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(yt||!a&&!h)&&e._startAt.revert(ad),a&&m&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(u&&m&&!p){if(n&&(a=!1),A=xn({overwrite:!1,data:"isFromStart",lazy:a&&!p&&zt(l),immediateRender:a,stagger:0,parent:_},E),Ae&&(A[Z.prop]=Ae),ai(e._startAt=Ke.set(g,A)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(yt?e._startAt.revert(ad):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,Ne,Ne);else if(!n)return}for(e._pt=e._ptCache=0,l=m&&zt(l)||l&&!m,b=0;b<g.length;b++){if(S=g[b],te=S._gsap||a0(g)[b]._gsap,e._ptLookup[b]=B={},q_[te.id]&&si.length&&dd(),ye=v===g?b:v.indexOf(S),Z&&(K=new Z).init(S,Ae||E,e,ye,v)!==!1&&(e._pt=O=new Ot(e._pt,S,K.name,0,1,K.render,K,0,K.priority),K._props.forEach(function(Nt){B[Nt]=O}),K.priority&&(U=1)),!Z||Ae)for(A in E)Ht[A]&&(K=f0(A,E,e,ye,S,v))?K.priority&&(U=1):B[A]=O=d0.call(e,S,A,"get",E[A],ye,v,0,i.stringFilter);e._op&&e._op[b]&&e.kill(S,e._op[b]),C&&e._pt&&(ii=e,$e.killTweensOf(S,B,e.globalTime(n)),je=!e.parent,ii=0),e._pt&&l&&(q_[te.id]=1)}U&&_0(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!je,f&&n<=0&&y.render(wn,!0,!0)},G$=function(e,n,r,i,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[n],u,d,f,h;if(!c)for(c=e._ptCache[n]=[],f=e._ptLookup,h=e._targets.length;h--;){if(u=f[h][n],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==n&&u.fp!==n;)u=u._next;if(!u)return K_=1,e.vars[n]="+=0",h0(e,a),K_=0,l?za(n+" not eligible for reset"):1;c.push(u)}for(h=c.length;h--;)d=c[h],u=d._pt||d,u.s=(i||i===0)&&!s?i:u.s+(i||0)+o*u.c,u.c=r-u.s,d.e&&(d.e=Ye(r)+mt(d.e)),d.b&&(d.b=u.s+mt(d.b))},q$=function(e,n){var r=e[0]?oi(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return n;s=Wi({},n);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},Y$=function(e,n,r,i){var s=n.ease||i||"power1.inOut",o,a;if(Ct(n))a=r[e]||(r[e]=[]),n.forEach(function(l,c){return a.push({t:c/(n.length-1)*100,v:l,e:s})});else for(o in n)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:s})},$a=function(e,n,r,i,s){return qe(e)?e.call(n,r,i,s):st(e)&&~e.indexOf("random(")?Co(e):e},JM=o0+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",eT={};Rt(JM+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return eT[t]=1});var Ke=function(t){xM(e,t);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:Ua(i))||this;var l=a.vars,c=l.duration,u=l.delay,d=l.immediateRender,f=l.stagger,h=l.overwrite,m=l.keyframes,p=l.defaults,g=l.scrollTrigger,_=l.yoyoEase,v=i.parent||$e,C=(Ct(r)||IM(r)?Ir(r[0]):"length"in i)?[r]:Dn(r),y,E,b,A,O,S,U,te;if(a._targets=C.length?a0(C):za("GSAP target "+r+" not found. https://gsap.com",!Gt.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=h,m||f||od(c)||od(u)){if(i=a.vars,y=a.timeline=new pt({data:"nested",defaults:p||{},targets:v&&v.data==="nested"?v.vars.targets:C}),y.kill(),y.parent=y._dp=xr(a),y._start=0,f||od(c)||od(u)){if(A=C.length,U=f&&UM(f),ir(f))for(O in f)~JM.indexOf(O)&&(te||(te={}),te[O]=f[O]);for(E=0;E<A;E++)b=fd(i,eT),b.stagger=0,_&&(b.yoyoEase=_),te&&Wi(b,te),S=C[E],b.duration=+$a(c,xr(a),E,S,C),b.delay=(+$a(u,xr(a),E,S,C)||0)-a._delay,!f&&A===1&&b.delay&&(a._delay=u=b.delay,a._start+=u,b.delay=0),y.to(S,b,U?U(E,S,C):0),y._ease=pe.none;y.duration()?c=u=0:a.timeline=0}else if(m){Ua(xn(y.vars.defaults,{ease:"none"})),y._ease=qi(m.ease||i.ease||"none");var Z=0,K,B,ye;if(Ct(m))m.forEach(function(Ae){return y.to(C,Ae,">")}),y.duration();else{b={};for(O in m)O==="ease"||O==="easeEach"||Y$(O,m[O],b,m.easeEach);for(O in b)for(K=b[O].sort(function(Ae,je){return Ae.t-je.t}),Z=0,E=0;E<K.length;E++)B=K[E],ye={ease:B.e,duration:(B.t-(E?K[E-1].t:0))/100*c},ye[O]=B.v,y.to(C,ye,Z),Z+=ye.duration;y.duration()<c&&y.to({},{duration:c-y.duration()})}}c||a.duration(c=y.duration())}else a.timeline=0;return h===!0&&!e0&&(ii=xr(a),$e.killTweensOf(C),ii=0),rr(v,xr(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(d||!c&&!m&&a._start===dt(v._time)&&zt(d)&&x$(xr(a))&&v.data!=="nested")&&(a._tTime=-Ne,a.render(Math.max(0,-u)||0)),g&&kM(xr(a),g),a}var n=e.prototype;return n.render=function(i,s,o){var a=this._time,l=this._tDur,c=this._dur,u=i<0,d=i>l-Ne&&!u?l:i<Ne?0:i,f,h,m,p,g,_,v,C,y;if(!c)I$(this,i,s,o);else if(d!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(f=d,C=this.timeline,this._repeat){if(p=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(p*100+i,s,o);if(f=dt(d%p),d===l?(m=this._repeat,f=c):(m=~~(d/p),m&&m===dt(d/p)&&(f=c,m--),f>c&&(f=c)),_=this._yoyo&&m&1,_&&(y=this._yEase,f=c-f),g=_o(this._tTime,p),f===a&&!o&&this._initted&&m===g)return this._tTime=d,this;m!==g&&(C&&this._yEase&&XM(C,_),this.vars.repeatRefresh&&!_&&!this._lock&&this._time!==p&&this._initted&&(this._lock=o=1,this.render(dt(p*m),!0).invalidate()._lock=0))}if(!this._initted){if(VM(this,u?i:f,o,s,d))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&m!==g))return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=d,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(y||this._ease)(f/c),this._from&&(this.ratio=v=1-v),f&&!a&&!s&&!m&&(an(this,"onStart"),this._tTime!==d))return this;for(h=this._pt;h;)h.r(v,h.d),h=h._next;C&&C.render(i<0?i:C._dur*C._ease(f/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(u&&Y_(this,i,s,o),an(this,"onUpdate")),this._repeat&&m!==g&&this.vars.onRepeat&&!s&&this.parent&&an(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(u&&!this._onUpdate&&Y_(this,i,!0,!0),(i||!c)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&ai(this,1),!s&&!(u&&!a)&&(d||a||_)&&(an(this,d===l?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,s,o,a,l){qa||$t.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||h0(this,c),u=this._ease(c/this._dur),G$(this,i,s,o,a,u,c,l)?this.resetTo(i,s,o,a,1):(yd(this,0),this.parent||FM(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?ja(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,ii&&ii.vars.overwrite!==!0)._first||ja(this),this.parent&&o!==this.timeline.totalDuration()&&vo(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?Dn(i):a,c=this._ptLookup,u=this._pt,d,f,h,m,p,g,_;if((!s||s==="all")&&w$(a,l))return s==="all"&&(this._pt=0),ja(this);for(d=this._op=this._op||[],s!=="all"&&(st(s)&&(p={},Rt(s,function(v){return p[v]=1}),s=p),s=q$(a,s)),_=a.length;_--;)if(~l.indexOf(a[_])){f=c[_],s==="all"?(d[_]=s,m=f,h={}):(h=d[_]=d[_]||{},m=s);for(p in m)g=f&&f[p],g&&((!("kill"in g.d)||g.d.kill(p)===!0)&&_d(this,g,"_pt"),delete f[p]),h!=="all"&&(h[p]=1)}return this._initted&&!this._pt&&u&&ja(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Ha(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return Ha(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return $e.killTweensOf(i,s,o)},e}(Ya);xn(Ke.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Rt("staggerTo,staggerFrom,staggerFromTo",function(t){Ke[t]=function(){var e=new pt,n=Q_.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var p0=function(e,n,r){return e[n]=r},tT=function(e,n,r){return e[n](r)},W$=function(e,n,r,i){return e[n](i.fp,r)},Q$=function(e,n,r){return e.setAttribute(n,r)},Cd=function(e,n){return qe(e[n])?tT:md(e[n])&&e.setAttribute?Q$:p0},nT=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},Z$=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},m0=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},g0=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},X$=function(e,n,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,n,r),s=o},K$=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?_d(this,n,"_pt"):n.dep||(r=1),n=i;return!r},J$=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},_0=function(e){for(var n=e._pt,r,i,s,o;n;){for(r=n._next,i=s;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=r}e._pt=s},Ot=function(){function t(n,r,i,s,o,a,l,c,u){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||nT,this.d=l||this,this.set=c||p0,this.pr=u||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=J$,this.m=r,this.mt=s,this.tween=i},t}();Rt(o0+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return s0[t]=1});ln.TweenMax=ln.TweenLite=Ke;ln.TimelineLite=ln.TimelineMax=pt;$e=new pt({sortChildren:!1,defaults:go,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Gt.stringFilter=c0;var Yi=[],cd={},ez=[],DM=0,tz=0,U_=function(e){return(cd[e]||ez).map(function(n){return n()})},J_=function(){var e=Date.now(),n=[];e-DM>2&&(U_("matchMediaInit"),Yi.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,c;for(a in i)o=nr.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(r.revert(),l&&n.push(r))}),U_("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),DM=e,U_("matchMedia"))},rT=function(){function t(n,r){this.selector=r&&Z_(r),this.data=[],this._r=[],this.isReverted=!1,this.id=tz++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,s){qe(r)&&(s=i,i=r,r=qe);var o=this,a=function(){var c=Ue,u=o.selector,d;return c&&c!==o&&c.data.push(o),s&&(o.selector=Z_(s)),Ue=o,d=i.apply(o,arguments),qe(d)&&o._r.push(d),Ue=c,o.selector=u,o.isReverted=!1,d};return o.last=a,r===qe?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var i=Ue;Ue=null,r(this),Ue=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof Ke&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,d){return d.g-u.g||-1/0}).forEach(function(u){return u.t.revert(r)}),l=s.data.length;l--;)c=s.data[l],c instanceof pt?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof Ke)&&c.revert&&c.revert(r);s._r.forEach(function(u){return u(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=Yi.length;o--;)Yi[o].id===this.id&&Yi.splice(o,1)},e.revert=function(r){this.kill(r||{})},t}(),nz=function(){function t(n){this.contexts=[],this.scope=n,Ue&&Ue.data.push(this)}var e=t.prototype;return e.add=function(r,i,s){ir(r)||(r={matches:r});var o=new rT(0,s||this.scope),a=o.conditions={},l,c,u;Ue&&!o.selector&&(o.selector=Ue.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(c in r)c==="all"?u=1:(l=nr.matchMedia(r[c]),l&&(Yi.indexOf(o)<0&&Yi.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(J_):l.addEventListener("change",J_)));return u&&i(o,function(d){return o.add(null,d)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t}(),pd={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return YM(i)})},timeline:function(e){return new pt(e)},getTweensOf:function(e,n){return $e.getTweensOf(e,n)},getProperty:function(e,n,r,i){st(e)&&(e=Dn(e)[0]);var s=oi(e||{}).get,o=r?NM:PM;return r==="native"&&(r=""),e&&(n?o((Ht[n]&&Ht[n].get||s)(e,n,r,i)):function(a,l,c){return o((Ht[a]&&Ht[a].get||s)(e,a,l,c))})},quickSetter:function(e,n,r){if(e=Dn(e),e.length>1){var i=e.map(function(u){return Et.quickSetter(u,n,r)}),s=i.length;return function(u){for(var d=s;d--;)i[d](u)}}e=e[0]||{};var o=Ht[n],a=oi(e),l=a.harness&&(a.harness.aliases||{})[n]||n,c=o?function(u){var d=new o;mo._pt=0,d.init(e,r?u+r:u,mo,0,[e]),d.render(1,d),mo._pt&&g0(1,mo)}:a.set(e,l);return o?c:function(u){return c(e,l,r?u+r:u,a,1)}},quickTo:function(e,n,r){var i,s=Et.to(e,Wi((i={},i[n]="+=0.1",i.paused=!0,i),r||{})),o=function(l,c,u){return s.resetTo(n,l,c,u)};return o.tween=s,o},isTweening:function(e){return $e.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=qi(e.ease,go.ease)),vM(go,e||{})},config:function(e){return vM(Gt,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!Ht[a]&&!ln[a]&&za(n+" effect requires "+a+" plugin.")}),k_[n]=function(a,l,c){return r(Dn(a),xn(l||{},s),c)},o&&(pt.prototype[n]=function(a,l,c){return this.add(k_[n](a,ir(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,n){pe[e]=qi(n)},parseEase:function(e,n){return arguments.length?qi(e,n):pe},getById:function(e){return $e.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new pt(e),i,s;for(r.smoothChildTiming=zt(e.smoothChildTiming),$e.remove(r),r._dp=0,r._time=r._tTime=$e._time,i=$e._first;i;)s=i._next,(n||!(!i._dur&&i instanceof Ke&&i.vars.onComplete===i._targets[0]))&&rr(r,i,i._start-i._delay),i=s;return rr($e,r,0),r},context:function(e,n){return e?new rT(e,n):Ue},matchMedia:function(e){return new nz(e)},matchMediaRefresh:function(){return Yi.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||J_()},addEventListener:function(e,n){var r=cd[e]||(cd[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=cd[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:N$,wrapYoyo:F$,distribute:UM,random:$M,snap:HM,normalize:P$,getUnit:mt,clamp:S$,splitColor:WM,toArray:Dn,selector:Z_,mapRange:GM,pipe:R$,unitize:O$,interpolate:L$,shuffle:BM},install:SM,effects:k_,ticker:$t,updateRoot:pt.updateRoot,plugins:Ht,globalTimeline:$e,core:{PropTween:Ot,globals:AM,Tween:Ke,Timeline:pt,Animation:Ya,getCache:oi,_removeLinkedListItem:_d,reverting:function(){return yt},context:function(e){return e&&Ue&&(Ue.data.push(e),e._ctx=Ue),Ue},suppressOverwrites:function(e){return e0=e}}};Rt("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return pd[t]=Ke[t]});$t.add(pt.updateRoot);mo=pd.to({},{duration:0});var rz=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},iz=function(e,n){var r=e._targets,i,s,o;for(i in n)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=rz(o,i)),o&&o.modifier&&o.modifier(n[i],e,r[s],i))},H_=function(e,n){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,c;if(st(s)&&(l={},Rt(s,function(u){return l[u]=1}),s=l),n){l={};for(c in s)l[c]=n(s[c]);s=l}iz(a,s)}}}},Et=pd.registerPlugin({name:"attr",init:function(e,n,r,i,s){var o,a,l;this.tween=r;for(o in n)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",n[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)yt?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},H_("roundProps",X_),H_("modifiers"),H_("snap",HM))||pd;Ke.version=pt.version=Et.version="3.12.5";TM=1;t0()&&yo();var sz=pe.Power0,oz=pe.Power1,az=pe.Power2,lz=pe.Power3,cz=pe.Power4,uz=pe.Linear,dz=pe.Quad,fz=pe.Cubic,hz=pe.Quart,pz=pe.Quint,mz=pe.Strong,gz=pe.Elastic,_z=pe.Back,vz=pe.SteppedEase,yz=pe.Bounce,Cz=pe.Sine,Ez=pe.Expo,wz=pe.Circ;var iT,ci,wo,x0,ts,Dz,sT,b0,xz=function(){return typeof window<"u"},Tr={},es=180/Math.PI,Do=Math.PI/180,Eo=Math.atan2,oT=1e8,I0=/([A-Z])/g,bz=/(left|right|width|margin|padding|x)/i,Iz=/[\s,\(]\S/,sr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},C0=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Mz=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Tz=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},Sz=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},hT=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},pT=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},Az=function(e,n,r){return e.style[n]=r},Rz=function(e,n,r){return e.style.setProperty(n,r)},Oz=function(e,n,r){return e._gsap[n]=r},Pz=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},Nz=function(e,n,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},Fz=function(e,n,r,i,s){var o=e._gsap;o[n]=r,o.renderTransform(s,o)},ze="transform",qt=ze+"Origin",Lz=function t(e,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in Tr&&s){if(this.tfm=this.tfm||{},e!=="transform")e=sr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=Mr(i,a)}):this.tfm[e]=o.x?o[e]:Mr(i,e),e===qt&&(this.tfm.zOrigin=o.zOrigin);else return sr.transform.split(",").forEach(function(a){return t.call(r,a,n)});if(this.props.indexOf(ze)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(qt,n,"")),e=ze}(s||n)&&this.props.push(e,n,s[e])},mT=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},kz=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?n[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(I0,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=b0(),(!s||!s.isStart)&&!r[ze]&&(mT(r),i.zOrigin&&r[qt]&&(r[qt]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},gT=function(e,n){var r={target:e,props:[],revert:kz,save:Lz};return e._gsap||Et.core.getCache(e),n&&n.split(",").forEach(function(i){return r.save(i)}),r},_T,E0=function(e,n){var r=ci.createElementNS?ci.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ci.createElement(e);return r&&r.style?r:ci.createElement(e)},or=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(I0,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,xo(n)||n,1)||""},aT="O,Moz,ms,Ms,Webkit".split(","),xo=function(e,n,r){var i=n||ts,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(aT[o]+e in s););return o<0?null:(o===3?"ms":o>=0?aT[o]:"")+e},w0=function(){xz()&&window.document&&(iT=window,ci=iT.document,wo=ci.documentElement,ts=E0("div")||{style:{}},Dz=E0("div"),ze=xo(ze),qt=ze+"Origin",ts.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_T=!!xo("perspective"),b0=Et.core.reverting,x0=1)},v0=function t(e){var n=E0("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(wo.appendChild(n),n.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),wo.removeChild(n),this.style.cssText=s,o},lT=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},vT=function(e){var n;try{n=e.getBBox()}catch{n=v0.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===v0||(n=v0.call(e,!0)),n&&!n.width&&!n.x&&!n.y?{x:+lT(e,["x","cx","x1"])||0,y:+lT(e,["y","cy","y1"])||0,width:0,height:0}:n},yT=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&vT(e))},ns=function(e,n){if(n){var r=e.style,i;n in Tr&&n!==qt&&(n=ze),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(I0,"-$1").toLowerCase())):r.removeAttribute(n)}},ui=function(e,n,r,i,s,o){var a=new Ot(e._pt,n,r,0,1,o?pT:hT);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},cT={deg:1,rad:1,turn:1},Vz={grid:1,flex:1},di=function t(e,n,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=ts.style,l=bz.test(n),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),d=100,f=i==="px",h=i==="%",m,p,g,_;if(i===o||!s||cT[i]||cT[o])return s;if(o!=="px"&&!f&&(s=t(e,n,r,"px")),_=e.getCTM&&yT(e),(h||o==="%")&&(Tr[n]||~n.indexOf("adius")))return m=_?e.getBBox()[l?"width":"height"]:e[u],Ye(h?s/m*d:s/100*m);if(a[l?"width":"height"]=d+(f?o:i),p=~n.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,_&&(p=(e.ownerSVGElement||{}).parentNode),(!p||p===ci||!p.appendChild)&&(p=ci.body),g=p._gsap,g&&h&&g.width&&l&&g.time===$t.time&&!g.uncache)return Ye(s/g.width*d);if(h&&(n==="height"||n==="width")){var v=e.style[n];e.style[n]=d+i,m=e[u],v?e.style[n]=v:ns(e,n)}else(h||o==="%")&&!Vz[or(p,"display")]&&(a.position=or(e,"position")),p===e&&(a.position="static"),p.appendChild(ts),m=ts[u],p.removeChild(ts),a.position="absolute";return l&&h&&(g=oi(p),g.time=$t.time,g.width=p[u]),Ye(f?m*s/d:m&&s?d/m*s:0)},Mr=function(e,n,r,i){var s;return x0||w0(),n in sr&&n!=="transform"&&(n=sr[n],~n.indexOf(",")&&(n=n.split(",")[0])),Tr[n]&&n!=="transform"?(s=Xa(e,i),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:wd(or(e,qt))+" "+s.zOrigin+"px"):(s=e.style[n],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=Ed[n]&&Ed[n](e,n,r)||or(e,n)||l0(e,n)||(n==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?di(e,n,s,r)+r:s},jz=function(e,n,r,i){if(!r||r==="none"){var s=xo(n,e,1),o=s&&or(e,s,1);o&&o!==r?(n=s,r=o):n==="borderColor"&&(r=or(e,"borderTopColor"))}var a=new Ot(this._pt,e.style,n,0,1,m0),l=0,c=0,u,d,f,h,m,p,g,_,v,C,y,E;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(p=e.style[n],e.style[n]=i,i=or(e,n)||i,p?e.style[n]=p:ns(e,n)),u=[r,i],c0(u),r=u[0],i=u[1],f=r.match(Qi)||[],E=i.match(Qi)||[],E.length){for(;d=Qi.exec(i);)g=d[0],v=i.substring(l,d.index),m?m=(m+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(m=1),g!==(p=f[c++]||"")&&(h=parseFloat(p)||0,y=p.substr((h+"").length),g.charAt(1)==="="&&(g=Zi(h,g)+y),_=parseFloat(g),C=g.substr((_+"").length),l=Qi.lastIndex-C.length,C||(C=C||Gt.units[n]||y,l===i.length&&(i+=C,a.e+=C)),y!==C&&(h=di(e,n,p,C)||0),a._pt={_next:a._pt,p:v||c===1?v:",",s:h,c:_-h,m:m&&m<4||n==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=n==="display"&&i==="none"?pT:hT;return r0.test(i)&&(a.e=0),this._pt=a,a},uT={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Bz=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=uT[r]||r,n[1]=uT[i]||i,n.join(" ")},Uz=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,s=n.u,o=r._gsap,a,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],Tr[a]&&(l=1,a=a==="transformOrigin"?qt:ze),ns(r,a);l&&(ns(r,ze),o&&(o.svg&&r.removeAttribute("transform"),Xa(r,1),o.uncache=1,mT(i)))}},Ed={clearProps:function(e,n,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Ot(e._pt,n,r,0,0,Uz);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},Za=[1,0,0,1,0,0],CT={},ET=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},dT=function(e){var n=or(e,ze);return ET(n)?Za:n.substr(7).match(n0).map(Ye)},M0=function(e,n){var r=e._gsap||oi(e),i=e.style,s=dT(e),o,a,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Za:s):(s===Za&&!e.offsetParent&&e!==wo&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,wo.appendChild(e)),s=dT(e),l?i.display=l:ns(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):wo.removeChild(e))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},D0=function(e,n,r,i,s,o){var a=e._gsap,l=s||M0(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,d=a.xOffset||0,f=a.yOffset||0,h=l[0],m=l[1],p=l[2],g=l[3],_=l[4],v=l[5],C=n.split(" "),y=parseFloat(C[0])||0,E=parseFloat(C[1])||0,b,A,O,S;r?l!==Za&&(A=h*g-m*p)&&(O=y*(g/A)+E*(-p/A)+(p*v-g*_)/A,S=y*(-m/A)+E*(h/A)-(h*v-m*_)/A,y=O,E=S):(b=vT(e),y=b.x+(~C[0].indexOf("%")?y/100*b.width:y),E=b.y+(~(C[1]||C[0]).indexOf("%")?E/100*b.height:E)),i||i!==!1&&a.smooth?(_=y-c,v=E-u,a.xOffset=d+(_*h+v*p)-_,a.yOffset=f+(_*m+v*g)-v):a.xOffset=a.yOffset=0,a.xOrigin=y,a.yOrigin=E,a.smooth=!!i,a.origin=n,a.originIsAbsolute=!!r,e.style[qt]="0px 0px",o&&(ui(o,a,"xOrigin",c,y),ui(o,a,"yOrigin",u,E),ui(o,a,"xOffset",d,a.xOffset),ui(o,a,"yOffset",f,a.yOffset)),e.setAttribute("data-svg-origin",y+" "+E)},Xa=function(e,n){var r=e._gsap||new u0(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=or(e,qt)||"0",u,d,f,h,m,p,g,_,v,C,y,E,b,A,O,S,U,te,Z,K,B,ye,Ae,je,Nt,_i,So,Ao,vi,I1,lr,yi;return u=d=f=p=g=_=v=C=y=0,h=m=1,r.svg=!!(e.getCTM&&yT(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[ze]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[ze]!=="none"?l[ze]:"")),i.scale=i.rotate=i.translate="none"),A=M0(e,r.svg),r.svg&&(r.uncache?(Nt=e.getBBox(),c=r.xOrigin-Nt.x+"px "+(r.yOrigin-Nt.y)+"px",je=""):je=!n&&e.getAttribute("data-svg-origin"),D0(e,je||c,!!je||r.originIsAbsolute,r.smooth!==!1,A)),E=r.xOrigin||0,b=r.yOrigin||0,A!==Za&&(te=A[0],Z=A[1],K=A[2],B=A[3],u=ye=A[4],d=Ae=A[5],A.length===6?(h=Math.sqrt(te*te+Z*Z),m=Math.sqrt(B*B+K*K),p=te||Z?Eo(Z,te)*es:0,v=K||B?Eo(K,B)*es+p:0,v&&(m*=Math.abs(Math.cos(v*Do))),r.svg&&(u-=E-(E*te+b*K),d-=b-(E*Z+b*B))):(yi=A[6],I1=A[7],So=A[8],Ao=A[9],vi=A[10],lr=A[11],u=A[12],d=A[13],f=A[14],O=Eo(yi,vi),g=O*es,O&&(S=Math.cos(-O),U=Math.sin(-O),je=ye*S+So*U,Nt=Ae*S+Ao*U,_i=yi*S+vi*U,So=ye*-U+So*S,Ao=Ae*-U+Ao*S,vi=yi*-U+vi*S,lr=I1*-U+lr*S,ye=je,Ae=Nt,yi=_i),O=Eo(-K,vi),_=O*es,O&&(S=Math.cos(-O),U=Math.sin(-O),je=te*S-So*U,Nt=Z*S-Ao*U,_i=K*S-vi*U,lr=B*U+lr*S,te=je,Z=Nt,K=_i),O=Eo(Z,te),p=O*es,O&&(S=Math.cos(O),U=Math.sin(O),je=te*S+Z*U,Nt=ye*S+Ae*U,Z=Z*S-te*U,Ae=Ae*S-ye*U,te=je,ye=Nt),g&&Math.abs(g)+Math.abs(p)>359.9&&(g=p=0,_=180-_),h=Ye(Math.sqrt(te*te+Z*Z+K*K)),m=Ye(Math.sqrt(Ae*Ae+yi*yi)),O=Eo(ye,Ae),v=Math.abs(O)>2e-4?O*es:0,y=lr?1/(lr<0?-lr:lr):0),r.svg&&(je=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!ET(or(e,ze)),je&&e.setAttribute("transform",je))),Math.abs(v)>90&&Math.abs(v)<270&&(s?(h*=-1,v+=p<=0?180:-180,p+=p<=0?180:-180):(m*=-1,v+=v<=0?180:-180)),n=n||r.uncache,r.x=u-((r.xPercent=u&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=d-((r.yPercent=d&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=f+o,r.scaleX=Ye(h),r.scaleY=Ye(m),r.rotation=Ye(p)+a,r.rotationX=Ye(g)+a,r.rotationY=Ye(_)+a,r.skewX=v+a,r.skewY=C+a,r.transformPerspective=y+o,(r.zOrigin=parseFloat(c.split(" ")[2])||!n&&r.zOrigin||0)&&(i[qt]=wd(c)),r.xOffset=r.yOffset=0,r.force3D=Gt.force3D,r.renderTransform=r.svg?$z:_T?wT:Hz,r.uncache=0,r},wd=function(e){return(e=e.split(" "))[0]+" "+e[1]},y0=function(e,n,r){var i=mt(n);return Ye(parseFloat(n)+parseFloat(di(e,"x",r+"px",i)))+i},Hz=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,wT(e,n)},Ki="0deg",Qa="0px",Ji=") ",wT=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,c=r.rotation,u=r.rotationY,d=r.rotationX,f=r.skewX,h=r.skewY,m=r.scaleX,p=r.scaleY,g=r.transformPerspective,_=r.force3D,v=r.target,C=r.zOrigin,y="",E=_==="auto"&&e&&e!==1||_===!0;if(C&&(d!==Ki||u!==Ki)){var b=parseFloat(u)*Do,A=Math.sin(b),O=Math.cos(b),S;b=parseFloat(d)*Do,S=Math.cos(b),o=y0(v,o,A*S*-C),a=y0(v,a,-Math.sin(b)*-C),l=y0(v,l,O*S*-C+C)}g!==Qa&&(y+="perspective("+g+Ji),(i||s)&&(y+="translate("+i+"%, "+s+"%) "),(E||o!==Qa||a!==Qa||l!==Qa)&&(y+=l!==Qa||E?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Ji),c!==Ki&&(y+="rotate("+c+Ji),u!==Ki&&(y+="rotateY("+u+Ji),d!==Ki&&(y+="rotateX("+d+Ji),(f!==Ki||h!==Ki)&&(y+="skew("+f+", "+h+Ji),(m!==1||p!==1)&&(y+="scale("+m+", "+p+Ji),v.style[ze]=y||"translate(0, 0)"},$z=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,c=r.skewX,u=r.skewY,d=r.scaleX,f=r.scaleY,h=r.target,m=r.xOrigin,p=r.yOrigin,g=r.xOffset,_=r.yOffset,v=r.forceCSS,C=parseFloat(o),y=parseFloat(a),E,b,A,O,S;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Do,c*=Do,E=Math.cos(l)*d,b=Math.sin(l)*d,A=Math.sin(l-c)*-f,O=Math.cos(l-c)*f,c&&(u*=Do,S=Math.tan(c-u),S=Math.sqrt(1+S*S),A*=S,O*=S,u&&(S=Math.tan(u),S=Math.sqrt(1+S*S),E*=S,b*=S)),E=Ye(E),b=Ye(b),A=Ye(A),O=Ye(O)):(E=d,O=f,b=A=0),(C&&!~(o+"").indexOf("px")||y&&!~(a+"").indexOf("px"))&&(C=di(h,"x",o,"px"),y=di(h,"y",a,"px")),(m||p||g||_)&&(C=Ye(C+m-(m*E+p*A)+g),y=Ye(y+p-(m*b+p*O)+_)),(i||s)&&(S=h.getBBox(),C=Ye(C+i/100*S.width),y=Ye(y+s/100*S.height)),S="matrix("+E+","+b+","+A+","+O+","+C+","+y+")",h.setAttribute("transform",S),v&&(h.style[ze]=S)},zz=function(e,n,r,i,s){var o=360,a=st(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?es:1),c=l-i,u=i+c+"deg",d,f;return a&&(d=s.split("_")[1],d==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),d==="cw"&&c<0?c=(c+o*oT)%o-~~(c/o)*o:d==="ccw"&&c>0&&(c=(c-o*oT)%o-~~(c/o)*o)),e._pt=f=new Ot(e._pt,n,r,i,c,Mz),f.e=u,f.u="deg",e._props.push(r),f},fT=function(e,n){for(var r in n)e[r]=n[r];return e},Gz=function(e,n,r){var i=fT({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,c,u,d,f,h,m;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[ze]=n,a=Xa(r,1),ns(r,ze),r.setAttribute("transform",c)):(c=getComputedStyle(r)[ze],o[ze]=n,a=Xa(r,1),o[ze]=c);for(l in Tr)c=i[l],u=a[l],c!==u&&s.indexOf(l)<0&&(h=mt(c),m=mt(u),d=h!==m?di(r,l,c,m):parseFloat(c),f=parseFloat(u),e._pt=new Ot(e._pt,a,l,d,f-d,C0),e._pt.u=m||0,e._props.push(l));fT(a,i)};Rt("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",s="Left",o=(e<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(a){return e<2?t+a:"border"+a+t});Ed[e>1?"border"+t:t]=function(a,l,c,u,d){var f,h;if(arguments.length<4)return f=o.map(function(m){return Mr(a,m,c)}),h=f.join(" "),h.split(f[0]).length===5?f[0]:h;f=(u+"").split(" "),h={},o.forEach(function(m,p){return h[m]=f[p]=f[p]||f[(p-1)/2|0]}),a.init(l,h,d)}});var T0={name:"css",register:w0,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,c,u,d,f,h,m,p,g,_,v,C,y,E,b,A,O;x0||w0(),this.styles=this.styles||gT(e),O=this.styles.props,this.tween=r;for(p in n)if(p!=="autoRound"&&(u=n[p],!(Ht[p]&&f0(p,n,r,i,e,s)))){if(h=typeof u,m=Ed[p],h==="function"&&(u=u.call(r,i,e,s),h=typeof u),h==="string"&&~u.indexOf("random(")&&(u=Co(u)),m)m(this,e,p,u,r)&&(A=1);else if(p.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(p)+"").trim(),u+="",br.lastIndex=0,br.test(c)||(g=mt(c),_=mt(u)),_?g!==_&&(c=di(e,p,c,_)+_):g&&(u+=g),this.add(a,"setProperty",c,u,i,s,0,0,p),o.push(p),O.push(p,0,a[p]);else if(h!=="undefined"){if(l&&p in l?(c=typeof l[p]=="function"?l[p].call(r,i,e,s):l[p],st(c)&&~c.indexOf("random(")&&(c=Co(c)),mt(c+"")||c==="auto"||(c+=Gt.units[p]||mt(Mr(e,p))||""),(c+"").charAt(1)==="="&&(c=Mr(e,p))):c=Mr(e,p),f=parseFloat(c),v=h==="string"&&u.charAt(1)==="="&&u.substr(0,2),v&&(u=u.substr(2)),d=parseFloat(u),p in sr&&(p==="autoAlpha"&&(f===1&&Mr(e,"visibility")==="hidden"&&d&&(f=0),O.push("visibility",0,a.visibility),ui(this,a,"visibility",f?"inherit":"hidden",d?"inherit":"hidden",!d)),p!=="scale"&&p!=="transform"&&(p=sr[p],~p.indexOf(",")&&(p=p.split(",")[0]))),C=p in Tr,C){if(this.styles.save(p),y||(E=e._gsap,E.renderTransform&&!n.parseTransform||Xa(e,n.parseTransform),b=n.smoothOrigin!==!1&&E.smooth,y=this._pt=new Ot(this._pt,a,ze,0,1,E.renderTransform,E,0,-1),y.dep=1),p==="scale")this._pt=new Ot(this._pt,E,"scaleY",E.scaleY,(v?Zi(E.scaleY,v+d):d)-E.scaleY||0,C0),this._pt.u=0,o.push("scaleY",p),p+="X";else if(p==="transformOrigin"){O.push(qt,0,a[qt]),u=Bz(u),E.svg?D0(e,u,0,b,0,this):(_=parseFloat(u.split(" ")[2])||0,_!==E.zOrigin&&ui(this,E,"zOrigin",E.zOrigin,_),ui(this,a,p,wd(c),wd(u)));continue}else if(p==="svgOrigin"){D0(e,u,1,b,0,this);continue}else if(p in CT){zz(this,E,p,f,v?Zi(f,v+u):u);continue}else if(p==="smoothOrigin"){ui(this,E,"smooth",E.smooth,u);continue}else if(p==="force3D"){E[p]=u;continue}else if(p==="transform"){Gz(this,u,e);continue}}else p in a||(p=xo(p)||p);if(C||(d||d===0)&&(f||f===0)&&!Iz.test(u)&&p in a)g=(c+"").substr((f+"").length),d||(d=0),_=mt(u)||(p in Gt.units?Gt.units[p]:g),g!==_&&(f=di(e,p,c,_)),this._pt=new Ot(this._pt,C?E:a,p,f,(v?Zi(f,v+d):d)-f,!C&&(_==="px"||p==="zIndex")&&n.autoRound!==!1?Sz:C0),this._pt.u=_||0,g!==_&&_!=="%"&&(this._pt.b=c,this._pt.r=Tz);else if(p in a)jz.call(this,e,p,c,v?v+u:u);else if(p in e)this.add(e,p,c||e[p],v?v+u:u,i,s);else if(p!=="parseTransform"){gd(p,u);continue}C||(p in a?O.push(p,0,a[p]):O.push(p,1,c||e[p])),o.push(p)}}A&&_0(this)},render:function(e,n){if(n.tween._time||!b0())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:Mr,aliases:sr,getSetter:function(e,n,r){var i=sr[n];return i&&i.indexOf(",")<0&&(n=i),n in Tr&&n!==qt&&(e._gsap.x||Mr(e,"x"))?r&&sT===r?n==="scale"?Pz:Oz:(sT=r||{})&&(n==="scale"?Nz:Fz):e.style&&!md(e.style[n])?Az:~n.indexOf("-")?Rz:Cd(e,n)},core:{_removeProperty:ns,_getMatrix:M0}};Et.utils.checkPrefix=xo;Et.core.getStyleSaver=gT;(function(t,e,n,r){var i=Rt(t+","+e+","+n,function(s){Tr[s]=1});Rt(e,function(s){Gt.units[s]="deg",CT[s]=1}),sr[i[13]]=t+","+e,Rt(r,function(s){var o=s.split(":");sr[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Rt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Gt.units[t]="px"});Et.registerPlugin(T0);var fi=Et.registerPlugin(T0)||Et,dee=fi.core.Tween;var gt=function(t){return t.CITY_MAP_LOADED="CITY_MAP_LOADED",t.CITY_MAP_SELECT_BUILDING="CITY_MAP_SELECT_BUILDING",t.CITY_MAP_SHOW_UPGRADE_PANEL="CITY_MAP_SHOW_UPGRADE_PANEL",t.CITY_MAP_SHOW_INFO_PANEL="CITY_MAP_SHOW_INFO_PANEL",t.CITY_MAP_TOGGLE_FREEZE="CITY_MAP_TOGGLE_FREEZE",t}(gt||{});var hi=He(nt()),Dd=class extends hi.DisplayObject{constructor(e,n){super(),this.resize(e,n)}detectEdges(){let n=this._context.getImageData(0,0,this.width,this.height).data,r=1/0,i=-1/0,s=1/0,o=-1/0,a=0;for(let l=3;l<n.length;l+=4){let c=a/this.width>>0,u=a%this.width;a++,!(n[l]<1)&&(r=u<r?u:r,s=c<s?c:s,i=u>i?u:i,o=c>o?c:o)}return{x:r,y:s,width:i-r,height:o-s}}resize(e,n){let r=hi.CanvasUtils.create();this._canvas=r,this.width=r.width=e,this.height=r.height=n;let i=new hi.Texture("textfield_texture",new hi.TextureData(r),0,0,r.width,r.height);i.data.isDynamic=!0,this.texture=i,this._context=i.source.getContext("2d")}setText(e,n,r){if(this._context==null)return;let i=e.split(`\r
`),s=30;this._context.clearRect(0,0,this.width,this.height),this._context.save(),this._context.beginPath(),this._context.font=n,this._context.fillStyle=r,this._context.textAlign="center",i.forEach((o,a)=>{this._context?.fillText(o,this.width>>1,(a+1)*s,100)}),this._context.closePath(),this._context.restore()}};var xd=class extends rs.DisplayObjectContainer{constructor(){super(),this._menuElements=[],this._text=new Dd(100,100),this._infoBtn=new ri,this._upgradeBtn=new ri,this._freezeBtn=new ri,this._dungeonBtn=new ri,this.moveHandler=this.moveHandler.bind(this),this.clickHandler=this.clickHandler.bind(this)}_createRadialMenuElement(e,n,r,i){let o=i.getTextureByID("normal2"),a=i.getTextureByID("hover2"),l=new ri,c=i.getTextureByID(e),u=n*60;return l.init(e,o,a,c,u,r),this.addChild(l),l}init(e){let n=e.createDisplayObject("radial-menu2"),r=n.width>>1;this.scaleX=0,this.scaleY=0,n.x-=r,n.y-=r,this.addChild(n),this._infoBtn=this._createRadialMenuElement("info-icon",0,r,e),this._upgradeBtn=this._createRadialMenuElement("upgrade-icon",1,r,e),this._freezeBtn=this._createRadialMenuElement("sleep-icon",2,r,e),this._menuElements.push(this._infoBtn,this._upgradeBtn,this._freezeBtn),this._text.setText("test","20px Verdana","white"),this._text.x=-this._text.width>>1,this._text.y=-this._text.height>>2,this.addChild(this._text)}setFrozenStatus(e,n){e?this._freezeBtn.changeBtnTexture(n.getTextureByID("work-icon")):this._freezeBtn.changeBtnTexture(n.getTextureByID("sleep-icon"))}canUpgrade(e=!1){this._upgradeBtn.opacity=e?1:.5,this._upgradeBtn.mouseEventsEnabled=e}setTitle(e){this._text.setText(e,"20px Verdana","white");let n=this._text.detectEdges();this._text.x=-(n.width>>1)-n.x,this._text.y=-(n.height>>1)-n.y}show(){this._menuElements.forEach(e=>e.out()),fi.fromTo(this,{scaleX:0,scaleY:0},{scaleX:1,scaleY:1,duration:.3,ease:"back.out"}),this.subscribe(rs.MouseControlEvent.MOUSE_CONTROL_MOVE,this.moveHandler),this.subscribe(rs.MouseControlEvent.MOUSE_CONTROL_CLICK,this.clickHandler)}hide(){return new Promise(e=>{this.unsubscribe(rs.MouseControlEvent.MOUSE_CONTROL_MOVE,this.moveHandler),this.unsubscribe(rs.MouseControlEvent.MOUSE_CONTROL_CLICK,this.clickHandler),fi.to(this,{scaleX:0,scaleY:0,duration:.3,ease:"back.in",onComplete:e})})}moveHandler(e){let n=e.getPayload();this._menuElements.forEach(r=>{r.hover(n)})}clickHandler(e){let n=e.getPayload();this._menuElements.forEach(r=>{if(r.click(n))switch(r){case this._infoBtn:this.emit(gt.CITY_MAP_SHOW_INFO_PANEL,{});break;case this._upgradeBtn:this.emit(gt.CITY_MAP_SHOW_UPGRADE_PANEL,{});break;case this._freezeBtn:this.emit(gt.CITY_MAP_TOGGLE_FREEZE,{});break}})}};var DT=He(nt()),bd=class extends DT.DisplayObjectContainer{constructor(){super()}init(e){this.addChild(e.createDisplayObject("citymap"))}getMapWidth(){return this.getChildren()[0].width}getMapHeight(){return this.getChildren()[0].height}};var pi=He(nt());var is=(()=>{let e=class e{static getScreenSize(){let s=window.innerWidth||document.body.clientWidth||window.screen.width,o=window.innerHeight||document.body.clientHeight||window.screen.height;return{x:0,y:0,width:Math.min(s,this.MAX_WIDTH),height:Math.min(o,this.MAX_HEIGHT)}}};e.MAX_WIDTH=1920,e.MAX_HEIGHT=1080;let t=e;return t})();var Id=class extends pi.Camera{constructor(){super(),this._scrolling=!1,this._lastPos={x:0,y:0},this._mapSize={x:0,y:0,width:0,height:0},this._stage=null,this.scrollHandler=e=>{let n=e.getEmitter(),r=e.getPayload();if(n===this._stage)if(this._scrolling&&e.getEventType()==pi.MouseControlEvent.MOUSE_CONTROL_MOVE){let i=this._lastPos.x-r.x,s=this._lastPos.y-r.y;this.x+=i,this.y+=s,this.replaceIfOutOfBounds(),this._lastPos=r}else this._lastPos=r,this._scrolling=pi.MouseControlEvent.MOUSE_CONTROL_DOWN==e.getEventType()}}init(e,n){this._stage=e,this._mapSize=n}activate(){this._stage?.subscribe(pi.MouseControlEvent.MOUSE_CONTROL_DOWN,this.scrollHandler),this._stage?.subscribe(pi.MouseControlEvent.MOUSE_CONTROL_UP,this.scrollHandler),this._stage?.subscribe(pi.MouseControlEvent.MOUSE_CONTROL_MOVE,this.scrollHandler)}deactivate(){this._stage?.unsubscribeAll(),this.x=0,this.y=0}setMapSize(e){this._mapSize=e,this.resize()}resize(){this.replaceIfOutOfBounds()}replaceIfOutOfBounds(){let e=is.getScreenSize(),n=this._mapSize.width-e.width,r=this._mapSize.height-e.height,i=0,s=0;this.x=this.x<i?i:this.x,this.y=this.y<s?s:this.y,this.x=this.x>n?n:this.x,this.y=this.y>r?r:this.y}destroy(){this.deactivate(),this._stage=null}centerToTarget(e){let n=is.getScreenSize(),r=e.x-(n.width>>2),i=e.y-(n.height>>2);fi.to(this,{x:r,y:i,duration:1,onUpdate:()=>this.replaceIfOutOfBounds()})}};var bT=He(nt());var xT=He(nt());var Md=class extends xT.DisplayObjectContainer{constructor(){super(...arguments),this._timeout=null,this._sneezers=[]}init(e){this.removeChildren(),this._sneezers=[];for(let n=0;n<3;n++){let r=e.createDisplayObject("sleep-icon");this._sneezers.push(r),this.addChild(r)}}start(){this._sneezers.forEach((n,r)=>{let i=Math.round(Math.random()*40)-20,s=-Math.round(Math.random()*10)-35;fi.fromTo(n,{x:0,y:-10,opacity:1,scaleX:.5,scaleY:.5},{duration:1,x:i,y:s,opacity:0,delay:.35*r})}),this._timeout=setTimeout(()=>this.start(),(this._sneezers.length+2)*.35*1e3)}stop(){clearTimeout(this._timeout),this.removeChildren(),this._sneezers=[]}};var Td=class extends bT.DisplayObjectContainer{constructor(){super(),this.info=null,this._animation=new Md}init(e,n){let r=e.createDisplayObject(n.key);this.x=n.x,this.y=n.y,this.name=n.name,this.info=n,this.width=r.width,this.height=r.height,this.addChild(r),this.addChild(this._animation),this._animation.x=r.width>>1,n.frozen&&(this._animation.init(e),this._animation.start())}destroy(){this.parent?.removeChild(this),this._animation.stop(),this.removeChildren()}};var _S=He(nt());var Ka=He(nt());var Sd=class extends Ka.DisplayObjectContainer{constructor(e){super(),this._spriteFactory=e,this._bf=null,this._mapLayer=new Ka.DisplayObjectContainer,this._fighterLayer=new Ka.DisplayObjectContainer,this._effectLayer=new Ka.DisplayObjectContainer,this._fighters=[]}init(e){this.addChild(this._mapLayer),this.addChild(this._fighterLayer),this.addChild(this._effectLayer),e.grid.forEach(n=>{let r=this._spriteFactory.createMapElement(n.state.walkable,n.state.row,n.state.col,50);this._mapLayer.addChild(r)}),this._bf=e}getFighterByID(e){return this._fighters.find(n=>n.info?.id==e)||null}resize(){if(this._bf==null)return;let e=is.getScreenSize(),n=this._bf.grid.numCols*50,r=this._bf.grid.numRows*50;this.x=e.width-n>>1,this.y=e.height-r>>1,this.transformOrigin.x=n>>1,this.transformOrigin.y=r>>1}move(){this._fighters.forEach(e=>{e.move()})}refresh(e,n){if(this._bf==null)return;let r=[...e.attackers,...e.defenders],i=[...e.deadAttackers,...e.deadDefenders,...e.winners];r.forEach(s=>{let o=this.getFighterByID(s.id);if(o==null){let a=this._spriteFactory.createFighter(s,this._effectLayer,50);this._fighterLayer.addChild(a),this._fighters.push(a),a.calcSubPath(50,n),a.attack(50,n)}else o.refresh(s,50),o.calcSubPath(50,n),o.attack(50,n)}),i.forEach(s=>{let o=this.getFighterByID(s.id);o!==null&&(o.destroy(),this._fighters.splice(this._fighters.indexOf(o),1))})}destroy(){this._fighters.forEach(e=>{e.parent?.removeChild(e)}),this._fighters=[],this._bf=null}};var Qv=He(gS());var gi=function(t){return t.GAME_OVER="GAME_OVER",t.SIMULATION_ENDED="SIMULATION_ENDED",t}(gi||{});var kd=class extends _S.DisplayObjectContainer{constructor(e){super(),this._towerIdleBf=null,this._gameover=!1,this._numCycle=0,this._cycleTime=100,this._battlefield=new Sd(e),this.cycle=this.cycle.bind(this)}init(e){return F(this,null,function*(){this._towerIdleBf=yield Qv.enginetowerIdleEngine.createBattleField(e.battlefield),this._battlefield.init(this._towerIdleBf),this._battlefield.resize(),this.addChild(this._battlefield),this._numCycle=0,this.refresh(),this.cycle()})}cycle(){return F(this,null,function*(){if(this._towerIdleBf==null)return;let e=1e3/60,n=Math.round(this._cycleTime/e),r=yield Qv.enginetowerIdleEngine.doCycle(this._towerIdleBf.id,++this._numCycle,!1);if(this._gameover=r.gameover,this._battlefield.refresh(this._towerIdleBf,n),r.gameover==!0){this.destroy();return}setTimeout(this.cycle,this._cycleTime)})}destroy(){this.emit(gi.GAME_OVER,{}),this._battlefield.destroy(),this.removeChildren()}refresh(){this._towerIdleBf==null||this._gameover==!0||this._battlefield.move()}};var Vd=class extends Pt.Emitter{constructor(e,n){super(),this._buildings=[],this._selected=null,this.renderLoop=()=>{this._stage.nextFrame(),this._simulator.refresh(),window.requestAnimationFrame(this.renderLoop)},this.radialMenuHandler=r=>{this._menu.hide().then(()=>{this.emit(r.getEventType(),this._selected?.info)})},this.resizeCanvas=()=>{let r=this._stage.getCanvas(),i=is.getScreenSize();r.width=i.width,r.height=i.height},this.resizeMapHandler=()=>{this.resizeCanvas(),this._camera.resize()},this.clickBuildingHandler=r=>{let i=r.getEmitter();this._selected=i,this._menu.x=i.x+(i.width>>1),this._menu.y=i.y+(i.height>>1),this._menu.setTitle(i.name+`\r
lvl.`+i.info?.currentLevelNum),this._menu.canUpgrade(i.info?.hasNextLevel||!1),this._menu.setFrozenStatus(i.info?.frozen,this._textureManager),this._menu.show()},this.clickMapHandler=r=>{this._menu.hide()},this._stage=new Pt.Stage,this._mapContainer=new Pt.DisplayObjectContainer,this._simulator=new kd(n),this._camera=new Id,this._control=new Pt.MouseControl(this._stage),this._menu=new xd,this._background=new bd,this._stats=new Pt.Stats,this._selected=null,this._stage.setRenderer(new Pt.Webgl2DRenderer),this._textureManager=e,this._stage.setCamera(this._camera)}init(){this.resizeCanvas(),this.renderLoop(),this.preload()}destroy(){this._stage.unsubscribeAll(),this._stage.getChildren().forEach(e=>e.unsubscribeAll()),this._stage.removeChildren(),this._control.deactivate(),this._camera.destroy(),this._menu.unsubscribeAll(),this._background.unsubscribeAll(),window.removeEventListener("resize",this.resizeMapHandler)}preload(){return F(this,null,function*(){yield this._textureManager.init(),this.completeHandler()})}getCanvas(){return this._stage.getCanvas()}completeHandler(){this.initMap(),this._control.activate(),this._camera.init(this._stage,{x:0,y:0,width:this._background.getMapWidth(),height:this._background.getMapHeight()}),this._camera.activate(),window.addEventListener("resize",this.resizeMapHandler),this._menu.init(this._textureManager),this._menu.subscribe(gt.CITY_MAP_SHOW_INFO_PANEL,this.radialMenuHandler),this._menu.subscribe(gt.CITY_MAP_SHOW_UPGRADE_PANEL,this.radialMenuHandler),this._menu.subscribe(gt.CITY_MAP_TOGGLE_FREEZE,this.radialMenuHandler),this._mapContainer.addChild(this._menu),this.emit(gt.CITY_MAP_LOADED,{})}initMap(){this._stage.addChild(this._mapContainer),this._background.init(this._textureManager),this._mapContainer.addChild(this._background),this._background.subscribe(Pt.MouseControlEvent.MOUSE_CONTROL_CLICK,this.clickMapHandler)}setBuildings(e){this._buildings.forEach(n=>{n.destroy()}),this._buildings=e.map(n=>{let r=new Td;return r.init(this._textureManager,n),this._mapContainer.addChild(r),r.subscribe(Pt.MouseControlEvent.MOUSE_CONTROL_CLICK,this.clickBuildingHandler),r}),this._mapContainer.removeChild(this._menu),this._mapContainer.addChild(this._menu)}simulate(e){this._stage.addChild(this._simulator),this._stage.removeChild(this._mapContainer),this._camera.deactivate(),this._simulator.init(e),this._simulator.subscribe(gi.GAME_OVER,()=>{this._stage.addChild(this._mapContainer),this._camera.activate(),this._simulator.unsubscribeAll(),this._stage.removeChild(this._simulator),this.emit(gi.SIMULATION_ENDED,{})})}};function rq(t,e){if(t&1&&(w(0,"div",3),Y(1,"img",4),w(2,"p",5),P(3),x()()),t&2){let n=e.$implicit,r=R(2);I(1),Ce("alt",n.name),M("src",r.getURI(n),Me),I(2),be(r.getAmount(n))}}function iq(t,e){if(t&1&&(w(0,"div",1),X(1,rq,4,3,"div",2),x()),t&2){let n=R();I(1),M("ngForOf",n.resources)}}var vS=(()=>{let e=class e{constructor(r,i){this._textureManagerService=r,this._utils=i,this.resources=null,this.hasUnit=!1}ngOnInit(){this._textureManagerService.init()}getURI(r){return this._textureManagerService.createImage(r.key).src}getAmount(r){let i=this.hasUnit?"/s":"",s=Math.round(r.cycleInMs*r.prodFrequency/1e3),o=Math.round(r.amount/s*100)*.01;return this._utils.formatAmount(o)+i}};e.\u0275fac=function(i){return new(i||e)(L(ut),L(Cn))},e.\u0275cmp=ge({type:e,selectors:[["app-city-resources-list"]],inputs:{resources:"resources",hasUnit:"hasUnit"},standalone:!0,features:[_e],decls:1,vars:1,consts:[["class","all12 pnone mnone row around",4,"ngIf"],[1,"all12","pnone","mnone","row","around"],["class","all5 row mnone pxxsmall mtopsmall bradius2 bgcolor8 inner4",4,"ngFor","ngForOf"],[1,"all5","row","mnone","pxxsmall","mtopsmall","bradius2","bgcolor8","inner4"],[1,"all3","bgcolor7","pxxsmall","bradius2",3,"src","alt"],[1,"all7","txt-center","mnone","pnone","biggest","font4","selfcenter2"]],template:function(i,s){i&1&&X(0,iq,2,1,"div",0),i&2&&M("ngIf",s.resources!=null)},dependencies:[Oe,Ut]});let t=e;return t})();var ls=He(mA()),gA=He(tl()),_A=He(el());var vA=(()=>{let e=class e{constructor(){this._init()}_init(){ls.engine.init(ls.defaultContainer)}_createQuantityListFromDesc(r){return new gA.default(r.map(this._createQuantityFromDesc))}_createQuantityFromDesc(r){return new _A.default(r.resourceID,r.amount)}canBuyNextLevel(r,i){if(i==null||r==null||i.hasNextLevel==!1)return!1;let s=ls.defaultContainer.resolve(ls.paradoxConstants.PAYMENT_SERVICE),o=this._createQuantityListFromDesc(r.wallet),a=this._createQuantityListFromDesc(i.nextLevel?.cost||[]);return s.pay(o,a)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function f8(t,e){if(t&1){let n=me();w(0,"div",13),$("click",function(){let s=z(n).$implicit,o=R(2);return G(o.tabHandler(s.id))}),w(1,"p"),P(2),x()()}if(t&2){let n=e.$implicit,r=R(2);hp(r.selectedPanelID==n.id?"bgcolor2":"bgcolor6"),I(2),be(n.name)}}function h8(t,e){if(t&1){let n=me();w(0,"button",14),$("click",function(){z(n);let i=R(2);return G(i.clickHandler())}),P(1),x()}if(t&2){let n=R(2);hp(n.getButtonStyle()),M("disabled",!n.canBuyNextLevel()),I(1),Fs("ACHETER Niv.",n.currentBuilding==null?null:n.currentBuilding.nextLevelNum," ")}}function p8(t,e){if(t&1){let n=me();w(0,"div",1)(1,"div",2)(2,"div",3),$("click",function(){z(n);let i=R();return G(i.closeHandler())}),x(),w(3,"div",4)(4,"div",5),Y(5,"img",6),w(6,"h2",7),P(7),x()(),w(8,"div",8),X(9,f8,3,3,"div",9),x(),w(10,"div",10),Y(11,"app-city-resources-list",11),X(12,h8,2,4,"button",12),x()()()()}if(t&2){let n=R();I(5),M("src",n.getURI(n.currentBuilding),Me),I(2),mp(" ",n.currentBuilding.name.toUpperCase()," LVL.",n.canBuy?n.currentBuilding==null?null:n.currentBuilding.nextLevelNum:n.currentBuilding.currentLevelNum," ",n.currentBuilding.hasNextLevel?"":"(max)",""),I(2),M("ngForOf",n.getTabs()),I(2),M("resources",n.getCurrentData())("hasUnit",n.hasUnit),I(1),M("ngIf",n.canBuy)}}var yA=(()=>{let e=class e{constructor(r,i){this._paradoxClient=r,this._textureManagerService=i,this.currentCity=null,this.currentBuilding=null,this.onBuy=new ve,this.onClose=new ve,this.canBuy=!1,this.selectedPanelID=1,this.hasUnit=!0}clickHandler(){return F(this,null,function*(){this.currentBuilding==null||this.currentCity==null||!this.canBuyNextLevel()||this.onBuy.emit(this.currentBuilding)})}ngOnInit(){return F(this,null,function*(){yield this._textureManagerService.init()})}getTabs(){let r=[];return this.getProduction().length>0&&r.push({id:1,name:"Prod",canBuy:!1}),this.getConsumption().length>0&&r.push({id:2,name:"Conso",canBuy:!1}),this.currentBuilding?.hasNextLevel&&this.canBuy&&r.push({id:3,name:"Co\xFBt",canBuy:!0}),r}getCurrentData(){return this.selectedPanelID==1?this.getProduction():this.selectedPanelID==2?this.getConsumption():this.getCost()}tabHandler(r){this.selectedPanelID=r,this.hasUnit=r<3}closeHandler(){this.selectedPanelID=1,this.hasUnit=!0,this.onClose.emit()}getButtonStyle(){let r="primary txt-center txt-bold mtopmedium mbotsmall bgcover shadow2 font4 bdsmall bradius1 xbig";return this.canBuyNextLevel()?r+=" bggold color2 bdcolor2":r+=" bggold color2 bdcolor2 opa50",r}getCost(){return this.currentBuilding?.getNextLevelCost()||[]}getConsumption(){return this.canBuy?this.currentBuilding?.getNextLevelConsumption()||[]:this.currentBuilding?.getConsumption()||[]}getProduction(){return this.canBuy?this.currentBuilding?.getNextLevelProduction()||[]:this.currentBuilding?.getProduction()||[]}canBuyNextLevel(){return this._paradoxClient.canBuyNextLevel(this.currentCity,this.currentBuilding)}getURI(r){return this._textureManagerService.createImage(r.key2).src}};e.\u0275fac=function(i){return new(i||e)(L(vA),L(ut))},e.\u0275cmp=ge({type:e,selectors:[["app-building-detail"]],inputs:{currentCity:"currentCity",currentBuilding:"currentBuilding",canBuy:"canBuy"},outputs:{onBuy:"onBuy",onClose:"onClose"},standalone:!0,features:[_e],decls:1,vars:1,consts:[["class","pnone row all12 detail",4,"ngIf"],[1,"pnone","row","all12","detail"],[1,"row","mob12","tab8","toff2","dsk4","doff4","center","bgcolor2","bradius2","inner2","bdcolor1","font4","color2","mtopbiggest","pxsmall","info-panel"],[1,"close-btn",3,"click"],[1,"all12","pxsmall","bgcolor3","bradius2","inner2","bdcolor1","row","shadow2"],[1,"all12","xbig","font4","mnone","mbotsmall","pxsmall","bgcolor2"],[1,"mob8","moff2","tab6","toff3","dsk6","doff3","mtopsmall",3,"src"],[1,"txt-center"],[1,"row","all12","mnone","pnone","mtopsmall"],["class","all4 font4 color2 txt-center pxsmall row center",3,"class","click",4,"ngFor","ngForOf"],[1,"row","mob12","tab12","dsk12","pnone","mnone","around","bgcolor2"],[1,"all12","row","mnone","pnone","mbotsmall","mtopsmall",3,"resources","hasUnit"],[3,"disabled","class","click",4,"ngIf"],[1,"all4","font4","color2","txt-center","pxsmall","row","center",3,"click"],[3,"disabled","click"]],template:function(i,s){i&1&&X(0,p8,13,8,"div",0),i&2&&M("ngIf",s.currentBuilding!=null&&s.currentCity!==null)},dependencies:[vS,Oe,Ut],styles:['.detail[_ngcontent-%COMP%]{z-index:100;position:absolute;top:0;left:0}.info-panel[_ngcontent-%COMP%]{position:relative;inset:0}.close-btn[_ngcontent-%COMP%]{position:absolute;right:-10px;top:-10px;width:30px;height:30px;background-size:cover;background-color:none;background-image:url("./media/close-btn-OR67BN6R.png")}']});let t=e;return t})();var zd=(()=>{let e=class e{transform(r){return r==null?[]:r.filter(i=>i.combat&&i.amount>0)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Rh({name:"combatResource",type:e,pure:!0,standalone:!0});let t=e;return t})();function m8(t,e){if(t&1){let n=me();w(0,"div",8)(1,"p",9),P(2),x(),w(3,"button",10),$("click",function(){let s=z(n).$implicit,o=R(3);return G(o.selectDungeonHandler(s))}),P(4,"SELECT"),x()()}if(t&2){let n=e.$implicit;I(2),be(n.battlefield.name)}}function g8(t,e){if(t&1&&(w(0,"div",5)(1,"h2",6),P(2,"SELECT DUNGEON"),x(),X(3,m8,5,1,"div",7),x()),t&2){let n=R(2);I(3),M("ngForOf",n.dungeons)}}function _8(t,e){if(t&1){let n=me();w(0,"div",8),Y(1,"img",14),w(2,"input",15),$("change",function(i){z(n);let s=R(3);return G(s.changeValueHandler(i))}),x(),w(3,"p",16),P(4),x()()}if(t&2){let n=e.$implicit,r=R(3);I(1),Ce("alt",n.resourceID),M("src",r.getURI(n.resourceID),Me),I(1),Ce("max",r.getMaximumByResourceID(n.resourceID)),Ce("value",r.getCurrentValueByResourceID(n.resourceID)),Ce("id",n.resourceID),I(2),be(r.getCurrentValueByResourceID(n.resourceID))}}function v8(t,e){if(t&1&&(w(0,"div",17),Y(1,"img",18),w(2,"p",19),P(3),x()()),t&2){let n=e.$implicit,r=R(3);I(1),Ce("alt",n.resourceID),M("src",r.getURI(n.resourceID),Me),I(2),be(r.getAmount(n.amount))}}function y8(t,e){if(t&1){let n=me();w(0,"div",5)(1,"h2",6),P(2,"CHOOSE FIGHTERS"),x(),X(3,_8,5,6,"div",7),Lc(4,"combatResource"),w(5,"div",11),X(6,v8,4,3,"div",12),x(),w(7,"button",13),$("click",function(){z(n);let i=R(2);return G(i.addFightersHandler())}),P(8,"ADD FIGHTERS"),x(),w(9,"button",13),$("click",function(){z(n);let i=R(2);return G(i.clearFightersHandler())}),P(10,"CLEAR"),x(),w(11,"button",13),$("click",function(){z(n);let i=R(2);return G(i.fightHandler())}),P(12,"FIGHT"),x()()}if(t&2){let n=R(2);I(3),M("ngForOf",kc(4,2,n.resources)),I(3),M("ngForOf",n.fighters)}}function C8(t,e){if(t&1){let n=me();w(0,"div",1)(1,"div",2)(2,"div",3),$("click",function(){z(n);let i=R();return G(i.closeHandler())}),x(),X(3,g8,4,1,"div",4)(4,y8,13,4,"div",4),x()()}if(t&2){let n=R();I(3),M("ngIf",n.chooseDungeonMode),I(1),M("ngIf",n.createTeamMode)}}var CA=(()=>{let e=class e{constructor(r,i){this._textureManagerService=r,this._utils=i,this.resources=null,this.showDungeonList=!0,this.dungeons=[],this.onClose=new ve,this.onFight=new ve,this.chooseDungeonMode=!0,this.createTeamMode=!1,this.fighters=[],this._values=new Map,this._selected=null}getURI(r){if(this.resources==null)return"";let i=this.resources.find(s=>s.resourceID==r);return i==null?"":this._textureManagerService.createImage(i.key).src}getAmount(r){return this._utils.formatAmount(r)}getNumFightersByResourceID(r){return this.fighters.filter(i=>i.resourceID==r).reduceRight((i,s,o)=>i+s.amount,0)}addFightersHandler(){this._values.forEach((r,i)=>{r>0&&this.fighters.push({amount:r,resourceID:i})}),this.clearValues()}clearFightersHandler(){this.fighters=[],this.clearValues()}clearValues(){this._values.clear()}closeHandler(){this.createTeamMode==!0?this.backToSelection():this.onClose.emit()}getCurrentValueByResourceID(r){let i=parseInt(r.toString());return this._values.get(i)||0}getMaximumByResourceID(r){let i=0;if(this.resources!==null){let s=this.resources.find(o=>o.resourceID==r);if(s){let o=this.getNumFightersByResourceID(r);i=s.amount-o}}return i}changeValueHandler(r){let i=parseInt(r.target.id),s=parseInt(r.target.value);this._values.set(i,s)}backToSelection(){this.clearValues(),this.clearFightersHandler(),this._selected=null,this.createTeamMode=!1,this.chooseDungeonMode=!0}selectDungeonHandler(r){this._selected=r,this.createTeamMode=!0,this.chooseDungeonMode=!1}fightHandler(){return F(this,null,function*(){if(this._selected!==null){let r={dungeonID:this._selected.dungeonID,fighters:this.fighters};this.clearFightersHandler(),this.backToSelection(),this.onFight.emit(r)}})}};e.\u0275fac=function(i){return new(i||e)(L(ut),L(Cn))},e.\u0275cmp=ge({type:e,selectors:[["app-dungeon-list"]],inputs:{resources:"resources",showDungeonList:"showDungeonList",dungeons:"dungeons"},outputs:{onClose:"onClose",onFight:"onFight"},standalone:!0,features:[_e],decls:1,vars:1,consts:[["class","pnone row all12 detail",4,"ngIf"],[1,"pnone","row","all12","detail"],[1,"row","mob12","tab8","toff2","dsk4","doff4","center","bgcolor2","bradius2","inner2","bdcolor1","font4","color2","mtopbiggest","pxsmall","info-panel"],[1,"close-btn",3,"click"],["class","all12 pxsmall bgcolor3 bradius2 inner2 bdcolor1 row shadow2",4,"ngIf"],[1,"all12","pxsmall","bgcolor3","bradius2","inner2","bdcolor1","row","shadow2"],[1,"mnone","pnone","mbotmedium","xbig","txt-center","all12"],["class","row mnone psmall mtopmedium all12",4,"ngFor","ngForOf"],[1,"row","mnone","psmall","mtopmedium","all12"],[1,"font4","xbig","normal","aoff1","all6"],["type","submit",1,"primary","aoff1","all4","txt-center","txt-bold","bggold","bgcover","shadow2","font4","color2","bdcolor2","bdsmall","bradius1","xbig",3,"click"],[1,"row","mnone","pnone","all12"],["class","bgcolor3 bdcolor2 bradius2 all1 mnone mtopsmall pxsmall bdsmall resource",4,"ngFor","ngForOf"],["type","submit",1,"primary","txt-center","txt-bold","bggold","bgcover","shadow2","font4","color2","bdcolor2","bdsmall","bradius1","xbig",3,"click"],[1,"all1","aoff1",3,"src","alt"],["type","range","min","0","step","1",1,"all5","aoff1",3,"max","value","id","change"],[1,"all2","aoff1"],[1,"bgcolor3","bdcolor2","bradius2","all1","mnone","mtopsmall","pxsmall","bdsmall","resource"],[1,"all12",3,"src","alt"],[1,"font4","xbig","amount","color2"]],template:function(i,s){i&1&&X(0,C8,5,2,"div",0),i&2&&M("ngIf",s.showDungeonList)},dependencies:[Oe,Ut,zd],styles:['.detail[_ngcontent-%COMP%]{z-index:100;position:absolute;top:0;left:0}.info-panel[_ngcontent-%COMP%]{position:relative;inset:0}.close-btn[_ngcontent-%COMP%]{position:absolute;right:-10px;top:-10px;width:30px;height:30px;background-size:cover;background-color:none;background-image:url("./media/close-btn-OR67BN6R.png")}.resource[_ngcontent-%COMP%]{position:relative;top:0;left:0}.amount[_ngcontent-%COMP%]{position:absolute;bottom:0;right:5px}']});let t=e;return t})();function E8(t,e){t&1&&(w(0,"p",8),P(1,"YOU WIN"),x())}function w8(t,e){t&1&&(w(0,"p",8),P(1,"YOU LOOSE"),x())}function D8(t,e){if(t&1&&(w(0,"div",11),Y(1,"img",12),w(2,"p",13),P(3),x()()),t&2){let n=e.$implicit,r=R(3);I(1),Ce("alt",n.resourceID),M("src",r.getURI(n.resourceID),Me),I(2),be(r.getAmount(n.amount))}}function x8(t,e){if(t&1&&(w(0,"div",9)(1,"h2"),P(2,"LOST TROOPS"),x(),X(3,D8,4,3,"div",10),x()),t&2){let n=R(2);I(3),M("ngForOf",n.getDeadAttackers())}}function b8(t,e){if(t&1&&(w(0,"div",11),Y(1,"img",12),w(2,"p",13),P(3),x()()),t&2){let n=e.$implicit,r=R(3);I(1),Ce("alt",n.resourceID),M("src",r.getURI(n.resourceID),Me),I(2),be(r.getAmount(n.amount))}}function I8(t,e){if(t&1&&(w(0,"div",9)(1,"h2"),P(2,"KILLED TROOPS"),x(),X(3,b8,4,3,"div",10),x()),t&2){let n=R(2);I(3),M("ngForOf",n.getDeadDefenders())}}function M8(t,e){if(t&1&&(w(0,"div",11),Y(1,"img",12),w(2,"p",13),P(3),x()()),t&2){let n=e.$implicit,r=R(3);I(1),Ce("alt",n.resourceID),M("src",r.getURI(n.resourceID),Me),I(2),be(r.getAmount(n.amount))}}function T8(t,e){if(t&1&&(w(0,"div",9)(1,"h2"),P(2,"DEFENDERS"),x(),X(3,M8,4,3,"div",10),x()),t&2){let n=R(2);I(3),M("ngForOf",n.getDefenders())}}function S8(t,e){if(t&1&&(w(0,"div",11),Y(1,"img",12),w(2,"p",13),P(3),x()()),t&2){let n=e.$implicit,r=R(3);I(1),Ce("alt",n.resourceID),M("src",r.getURI(n.resourceID),Me),I(2),be(r.getAmount(n.amount))}}function A8(t,e){if(t&1&&(w(0,"div",9)(1,"h2"),P(2,"WINNERS"),x(),X(3,S8,4,3,"div",10),x()),t&2){let n=R(2);I(3),M("ngForOf",n.getWinners())}}function R8(t,e){if(t&1){let n=me();w(0,"div",1)(1,"div",2)(2,"div",3),$("click",function(){z(n);let i=R();return G(i.closeHandler())}),x(),w(3,"div",4),X(4,E8,2,0,"p",5)(5,w8,2,0,"p",5)(6,x8,4,1,"div",6)(7,I8,4,1,"div",6)(8,T8,4,1,"div",6)(9,A8,4,1,"div",6),w(10,"button",7),$("click",function(){z(n);let i=R();return G(i.watchFightHandler())}),P(11,"WATCH"),x()()()()}if(t&2){let n=R();I(4),M("ngIf",n.fightResult.info.attackerWins),I(1),M("ngIf",n.fightResult.info.defenderWins),I(1),M("ngIf",n.fightResult.info.deadAttackers.length>0),I(1),M("ngIf",n.fightResult.info.deadDefenders.length>0),I(1),M("ngIf",n.fightResult.info.defenders.length>0),I(1),M("ngIf",n.fightResult.info.winners.length>0)}}var EA=(()=>{let e=class e{constructor(r,i){this._textureManagerService=r,this._utils=i,this.resources=[],this.fightResult=null,this.fightersTpl=[],this.onClose=new ve,this.onWatchFight=new ve}getTroops(r){let i=[];return r.forEach(s=>{let o=this.getResourceByTplID(s);if(o==null)return;let a=i.find(l=>l.resourceID==o.id)||null;if(a!==null){a.amount++;return}i.push(De(V({},o),{resourceID:o.id,amount:1}))}),i}getDeadAttackers(){return this.fightResult==null?[]:this.getTroops(this.fightResult.info.deadAttackers)}getDeadDefenders(){return this.fightResult==null?[]:this.getTroops(this.fightResult.info.deadDefenders)}getDefenders(){return this.fightResult==null?[]:this.getTroops(this.fightResult.info.defenders)}getWinners(){return this.fightResult==null?[]:this.getTroops(this.fightResult.info.winners)}getResourceByTplID(r){let i=this.fightersTpl.find(o=>o.id==r)||null;return i==null?null:this.resources.find(o=>o.id==i.resourceID)||null}getURI(r){if(this.resources==null)return"";let i=this.resources.find(s=>s.id==r);return i==null?"":this._textureManagerService.createImage(i.key).src}getAmount(r){return this._utils.formatAmount(r)}closeHandler(){this.onClose.emit()}watchFightHandler(){this.onWatchFight.emit()}};e.\u0275fac=function(i){return new(i||e)(L(ut),L(Cn))},e.\u0275cmp=ge({type:e,selectors:[["app-dungeon-fight-result"]],inputs:{resources:"resources",fightResult:"fightResult",fightersTpl:"fightersTpl"},outputs:{onClose:"onClose",onWatchFight:"onWatchFight"},standalone:!0,features:[_e],decls:1,vars:1,consts:[["class","pnone row all12 detail",4,"ngIf"],[1,"pnone","row","all12","detail"],[1,"row","mob12","tab8","toff2","dsk4","doff4","center","bgcolor2","bradius2","inner2","bdcolor1","font4","color2","mtopbiggest","pxsmall","info-panel"],[1,"close-btn",3,"click"],[1,"all12","pxsmall","bgcolor3","bradius2","inner2","bdcolor1","row","shadow2"],["class","all12 txt-center normal font4",4,"ngIf"],["class","row mnone pnone all12",4,"ngIf"],["type","submit",1,"primary","txt-center","txt-bold","bggold","bgcover","shadow2","font4","color2","bdcolor2","bdsmall","bradius1","xbig",3,"click"],[1,"all12","txt-center","normal","font4"],[1,"row","mnone","pnone","all12"],["class","bgcolor3 bdcolor2 bradius2 all1 mnone mtopsmall pxsmall bdsmall resource",4,"ngFor","ngForOf"],[1,"bgcolor3","bdcolor2","bradius2","all1","mnone","mtopsmall","pxsmall","bdsmall","resource"],[1,"all12",3,"src","alt"],[1,"font4","xbig","amount","color2"]],template:function(i,s){i&1&&X(0,R8,12,6,"div",0),i&2&&M("ngIf",s.fightResult!==null)},dependencies:[Oe,Ut],styles:['.detail[_ngcontent-%COMP%]{z-index:100;position:absolute;top:0;left:0}.info-panel[_ngcontent-%COMP%]{position:relative;inset:0}.close-btn[_ngcontent-%COMP%]{position:absolute;right:-10px;top:-10px;width:30px;height:30px;background-size:cover;background-color:none;background-image:url("./media/close-btn-OR67BN6R.png")}.resource[_ngcontent-%COMP%]{position:relative;top:0;left:0}.amount[_ngcontent-%COMP%]{position:absolute;bottom:0;right:5px}']});let t=e;return t})();var Xd=He(nt());var Gd=class{constructor(e="field",n="wood_barrier",r="floor_fields",i=[]){this.name=e,this.wallKey=n,this.floorKey=r,this.tplKeys=i}getKeyByTplID(e){let n=this.tplKeys.find(r=>r.tplID==e)||null;return n==null?"none":n.key}};var wA=He(nt());var wt=class{static interpolatePath(e,n,r){let i=[],s=(n.x-e.x)/r,o=(n.y-e.y)/r;for(let a=0;a<r;a++)i.push({x:e.x+a*s,y:e.y+a*o});return i}static curvedPath(e,n,r){let i=[],s=Math.floor(Math.random()*(r/2)),o=Math.random(),a=Math.random(),l=o>.5,c=a>.5?this.interpolate:this.circEaseIn,u=[],d=[];u=this.interpolate(e.x,n.x,r-s),l?d=c(n.y,e.y,r-s).reverse():d=c(e.y,n.y,r-s);for(let f=0;f<u.length;f++)i.push({x:u[f],y:d[f]});return i}static interpolate(e,n,r){let i=[],s=(n-e)/r;for(let o=0;o<r;o++)i.push(e+s*o);return i}static circEaseIn(e,n,r){let i=[],s=n-e;for(let o=0;o<r;o++){let c=r-1,u=o,d=-1*(Math.sqrt(1-(u/=c)*u)-1)+0;i.push(e+d*s)}return i}static getAngleBetween(e,n){let r=1/(Math.PI/180);return Math.atan2(n.y-e.y,n.x-e.x)*r+90}};var qd=class extends wA.DisplayObjectContainer{constructor(){super(...arguments),this.info=null,this._character=null,this._attack=null,this._attacking=!1,this._lifebar=null,this._subpath=[],this._decalX=0,this._decalY=0,this._hasMoved=!1,this._currentCol=0,this._currentRow=0}init(e,n=25,r,i,s){this.info=e,this._lifebar=s,this.addChild(r),this.addChild(s),this._attack=i,this._character=r,this._lifebar.refresh(this.info.hp),this.refresh(e,n),this.x=this.info.col*n,this.y=this.info.row*n}refresh(e,n){this._currentCol==e.col&&this._currentRow==e.row?this._hasMoved=!1:this._hasMoved=!0,this.info=e,this.width=this.height=n,this._lifebar?.refresh(this.info.hp),this._attacking=e.enemy!==null,this._currentCol=this.info.col,this._currentRow=this.info.row}calcSubPath(e,n){if(this.info==null){this._subpath=[];return}this._hasMoved&&this.info.tplID>-1&&(this._decalX=Math.round(Math.random()*(e/2)),this._decalY=Math.round(Math.random()*(e/2)));let r={x:this.x,y:this.y},i={x:this.info.col*e+this._decalX,y:this.info.row*e+this._decalY};this._subpath=wt.interpolatePath(r,i,n)}move(){if(this._attack?.nextFrame(),this._subpath.length>0){let e=this._subpath.shift();this.x=e.x,this.y=e.y}}destroy(){this.parent&&this.parent.contains(this)&&this.parent.removeChild(this),this._attack?.destroy()}attack(e,n){if(!this._attacking||this.info?.enemy==null)return;let r=this.info.enemy.col*e+e/4,i=this.info.enemy.row*e+e/4,s={x:this.x,y:this.y},o={x:r,y:i};this._attack?.launch(s,o,n)}};var DA=He(nt()),Yd=class extends DA.DisplayObjectContainer{constructor(){super(),this.maxHP=0,this.currentHP=0}init(e,n,r){this.addChild(n),this.addChild(e),this.maxHP=this.currentHP=r,e.scaleX=1}refresh(e){this.currentHP=e;let n=this.getChildren()[1];n&&(n.scaleX=this.currentHP/this.maxHP)}};var xA=He(nt());var nl=class extends xA.DisplayObjectContainer{constructor(){super(...arguments),this._sprite=null,this._path=[],this._parentLayer=null}init(e,n){this._sprite=e,this._parentLayer=n}launch(e,n,r){this._sprite&&(this.addChild(this._sprite),this._path=wt.curvedPath(e,n,r),this._sprite.transformOrigin.x=this._sprite.width>>1,this._sprite.transformOrigin.y=this._sprite.height>>1,this._sprite.rotation=wt.getAngleBetween(e,n)),this.show()}hide(){this._parentLayer&&this._parentLayer.contains(this)&&this._parentLayer.removeChild(this)}show(){this.hide(),this._parentLayer&&this._parentLayer.addChild(this)}nextFrame(){if(this._path.length>0&&this._sprite){let e=this._path.shift();this._sprite.x=e.x,this._sprite.y=e.y}else this.destroy()}destroy(){this._sprite&&this.contains(this._sprite)&&(this.removeChild(this._sprite),this._path=[]),this.hide()}};var bA=He(nt());var Wd=class extends bA.DisplayObjectContainer{constructor(){super(...arguments),this._sprite=null,this._rots=[],this._parentLayer=null}init(e,n){this._sprite=e,this._parentLayer=n}launch(e,n,r){this._sprite&&(this.addChild(this._sprite),this._sprite.x=e.x+(n.x-e.x)/2,this._sprite.y=e.y+(n.y-e.y)/2,this._sprite.transformOrigin.x=this._sprite.width>>1,this._sprite.transformOrigin.y=this._sprite.height,this._sprite.rotation=wt.getAngleBetween(e,n),this._rots=wt.interpolate(this._sprite.rotation-15,this._sprite.rotation+15,r)),this._parentLayer&&this._parentLayer.addChild(this)}nextFrame(){if(this._rots.length>0&&this._sprite){let e=this._rots.shift();this._sprite.rotation=e}else this.destroy()}destroy(){this._sprite&&this.contains(this._sprite)&&(this.removeChild(this._sprite),this._rots=[],this._sprite.rotation=0),this._parentLayer&&this._parentLayer.contains(this)&&this._parentLayer.removeChild(this)}};var IA=He(nt());var Qd=class extends IA.DisplayObjectContainer{constructor(){super(...arguments),this._sprite=null,this._path=[],this._parentLayer=null}init(e,n){this._sprite=e,this._parentLayer=n}launch(e,n,r){this._sprite&&(this.addChild(this._sprite),this._path=wt.curvedPath(e,n,r),this._sprite.transformOrigin.x=this._sprite.width>>1,this._sprite.transformOrigin.y=this._sprite.height>>1,this._sprite.rotation=wt.getAngleBetween(e,n)),this._parentLayer&&this._parentLayer.addChild(this)}nextFrame(){if(this._path.length>0&&this._sprite){let e=this._path.shift();this._sprite.x=e.x,this._sprite.y=e.y}else this.destroy()}destroy(){this._sprite&&this.contains(this._sprite)&&(this.removeChild(this._sprite),this._path=[]),this._parentLayer&&this._parentLayer.contains(this)&&this._parentLayer.removeChild(this)}};var MA=He(nt());var Zd=class extends MA.DisplayObjectContainer{constructor(){super(...arguments),this._sprite=null,this._scale=[],this._parentLayer=null}init(e,n){this._sprite=e,this._parentLayer=n}launch(e,n,r){this._sprite&&(this.addChild(this._sprite),this._sprite.x=n.x,this._sprite.y=n.y,this._sprite.transformOrigin.x=this._sprite.width>>1,this._sprite.transformOrigin.y=this._sprite.height>>1,this._scale=wt.interpolate(0,1,r/2).concat(wt.interpolate(1,0,r/2))),this._parentLayer&&this._parentLayer.addChild(this)}nextFrame(){if(this._scale.length>0&&this._sprite){let e=this._scale.shift();this._sprite.scaleX=e,this._sprite.scaleY=e}else this.destroy()}destroy(){this._sprite&&this.contains(this._sprite)&&(this.removeChild(this._sprite),this._scale=[]),this._parentLayer&&this._parentLayer.contains(this)&&this._parentLayer.removeChild(this)}};var TA=(()=>{let e=class e{constructor(r){this._textureFactory=r,this.createDisplayObject=this.createDisplayObject.bind(this),this.createMapElement=this.createMapElement.bind(this),this.createFighter=this.createFighter.bind(this),this._skin=new Gd("plaines","wood_barrier","floor_fields",[{tplID:-1,key:"door"},{tplID:1,key:"wizard"},{tplID:2,key:"wizard"},{tplID:3,key:"wizard"},{tplID:4,key:"wizard"},{tplID:5,key:"knight"},{tplID:6,key:"knight"},{tplID:7,key:"knight"},{tplID:8,key:"knight"},{tplID:9,key:"archer"},{tplID:10,key:"archer"},{tplID:11,key:"archer"},{tplID:12,key:"archer"},{tplID:13,key:"monk"},{tplID:14,key:"monk"},{tplID:15,key:"monk"},{tplID:16,key:"monk"}])}createDisplayObject(r){let i=this._textureFactory.getTextureByID(r);return Xd.DisplayObject.createFromTexture(i)}createMapElement(r,i,s,o=25){let a=r?this._skin.floorKey:this._skin.wallKey,l=this.createDisplayObject(a);return l.x=s*o,l.y=i*o,l.width=o,l.height=o,l}createFighter(r,i,s=25){let o=this._skin.getKeyByTplID(r.tplID),a=new qd,l=this.createLifebar(r.hpMax),c=this.createDisplayObject(o),u=this.createAttack(r,i);return a.init(r,s,c,u,l),a}createAttack(r,i){let s=new nl,o="fireball";switch(r.tplID){case 1:case 2:case 3:case 4:s=new nl,o="fireball";break;case 5:case 6:case 7:case 8:s=new Wd,o="sword";break;case 9:case 10:case 11:case 12:s=new Qd,o="arrow";break;default:s=new Zd,o="fist";break}return s.init(this.createDisplayObject(o),i),s}createLifebar(r=100){let i=this._textureFactory.getTextureByID("lifebar"),s=this._textureFactory.getTextureByID("lifebardbgd"),o=Xd.DisplayObject.createFromTexture(i),a=Xd.DisplayObject.createFromTexture(s),l=new Yd;return o.width=25,o.height=4,a.width=25,a.height=4,l.init(o,a,r),l}};e.\u0275fac=function(i){return new(i||e)(W(ut))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function O8(t,e){if(t&1){let n=me();w(0,"div",9)(1,"p",10),P(2),x(),w(3,"button",11),$("click",function(){let s=z(n).$implicit,o=R(3);return G(o.selectCityHandler(s))}),P(4,"FIGHT"),x()()}if(t&2){let n=e.$implicit;I(2),be(n.name)}}function P8(t,e){if(t&1&&(w(0,"div",5)(1,"h2",6),P(2,"SELECT CITY"),x(),w(3,"div",7),X(4,O8,5,1,"div",8),x()()),t&2){let n=R(2);I(4),M("ngForOf",n.cities)}}function N8(t,e){if(t&1){let n=me();w(0,"div",16),Y(1,"img",17),w(2,"input",18),$("change",function(i){z(n);let s=R(3);return G(s.changeValueHandler(i))}),x(),w(3,"p",19),P(4),x()()}if(t&2){let n=e.$implicit,r=R(3);I(1),Ce("alt",n.resourceID),M("src",r.getURI(n.resourceID),Me),I(1),Ce("max",r.getMaximumByResourceID(n.resourceID)),Ce("value",r.getCurrentValueByResourceID(n.resourceID)),Ce("id",n.resourceID),I(2),be(r.getCurrentValueByResourceID(n.resourceID))}}function F8(t,e){if(t&1&&(w(0,"div",20),Y(1,"img",21),w(2,"p",22),P(3),x()()),t&2){let n=e.$implicit,r=R(3);I(1),Ce("alt",n.resourceID),M("src",r.getURI(n.resourceID),Me),I(2),be(r.getAmount(n.amount))}}function L8(t,e){if(t&1){let n=me();w(0,"div",5)(1,"h2",6),P(2,"CHOOSE FIGHTERS"),x(),X(3,N8,5,6,"div",12),Lc(4,"combatResource"),w(5,"div",13),X(6,F8,4,3,"div",14),x(),w(7,"button",15),$("click",function(){z(n);let i=R(2);return G(i.addFightersHandler())}),P(8,"ADD FIGHTERS"),x(),w(9,"button",15),$("click",function(){z(n);let i=R(2);return G(i.clearFightersHandler())}),P(10,"CLEAR"),x(),w(11,"button",15),$("click",function(){z(n);let i=R(2);return G(i.fightHandler())}),P(12,"FIGHT"),x()()}if(t&2){let n=R(2);I(3),M("ngForOf",kc(4,2,n.resources)),I(3),M("ngForOf",n.fighters)}}function k8(t,e){if(t&1){let n=me();w(0,"div",1)(1,"div",2)(2,"div",3),$("click",function(){z(n);let i=R();return G(i.closeHandler())}),x(),X(3,P8,5,1,"div",4)(4,L8,13,4,"div",4),x()()}if(t&2){let n=R();I(3),M("ngIf",n.chooseCitiesMode),I(1),M("ngIf",n.createTeamMode)}}var SA=(()=>{let e=class e{constructor(r,i){this._textureManagerService=r,this._utils=i,this.resources=null,this.showCitiesList=!0,this.cities=[],this.onClose=new ve,this.onFight=new ve,this.chooseCitiesMode=!0,this.createTeamMode=!1,this.fighters=[],this._values=new Map,this._selected=null}getURI(r){if(this.resources==null)return"";let i=this.resources.find(s=>s.resourceID==r);return i==null?"":this._textureManagerService.createImage(i.key).src}getAmount(r){return this._utils.formatAmount(r)}getNumFightersByResourceID(r){return this.fighters.filter(i=>i.resourceID==r).reduceRight((i,s,o)=>i+s.amount,0)}addFightersHandler(){this._values.forEach((r,i)=>{r>0&&this.fighters.push({amount:r,resourceID:i})}),this.clearValues()}clearFightersHandler(){this.fighters=[],this.clearValues()}clearValues(){this._values.clear()}closeHandler(){this.createTeamMode==!0?this.backToSelection():this.onClose.emit()}getCurrentValueByResourceID(r){let i=parseInt(r.toString());return this._values.get(i)||0}getMaximumByResourceID(r){let i=0;if(this.resources!==null){let s=this.resources.find(o=>o.resourceID==r);if(s){let o=this.getNumFightersByResourceID(r);i=s.amount-o}}return i}changeValueHandler(r){let i=parseInt(r.target.id),s=parseInt(r.target.value);this._values.set(i,s)}backToSelection(){this.clearValues(),this.clearFightersHandler(),this._selected=null,this.createTeamMode=!1,this.chooseCitiesMode=!0}selectCityHandler(r){this._selected=r,this.createTeamMode=!0,this.chooseCitiesMode=!1}fightHandler(){return F(this,null,function*(){if(this._selected!==null){let r={cityID:this._selected.id,fighters:this.fighters};this.clearFightersHandler(),this.backToSelection(),this.onFight.emit(r)}})}};e.\u0275fac=function(i){return new(i||e)(L(ut),L(Cn))},e.\u0275cmp=ge({type:e,selectors:[["app-cities-list"]],inputs:{resources:"resources",showCitiesList:"showCitiesList",cities:"cities"},outputs:{onClose:"onClose",onFight:"onFight"},standalone:!0,features:[_e],decls:1,vars:1,consts:[["class","pnone row all12 detail",4,"ngIf"],[1,"pnone","row","all12","detail"],[1,"row","mob12","tab8","toff2","dsk4","doff4","center","bgcolor2","bradius2","inner2","bdcolor1","font4","color2","mtopbiggest","pxsmall","info-panel"],[1,"close-btn",3,"click"],["class","all12 pxsmall bgcolor3 bradius2 inner2 bdcolor1 row shadow2",4,"ngIf"],[1,"all12","pxsmall","bgcolor3","bradius2","inner2","bdcolor1","row","shadow2"],[1,"mnone","pnone","mbotmedium","xbig","txt-center","all12"],[1,"row","mnone","pnone","citiesList"],["class","row mnone pxsmall mnone all12",4,"ngFor","ngForOf"],[1,"row","mnone","pxsmall","mnone","all12"],[1,"font4","xbig","normal","aoff1","all6"],["type","submit",1,"primary","aoff1","all4","txt-center","txt-bold","bggold","bgcover","shadow2","font4","color2","bdcolor2","bdsmall","bradius1","xbig",3,"click"],["class","row mnone psmall mtopmedium all12",4,"ngFor","ngForOf"],[1,"row","mnone","pnone","all12"],["class","bgcolor3 bdcolor2 bradius2 all1 mnone mtopsmall pxsmall bdsmall resource",4,"ngFor","ngForOf"],["type","submit",1,"primary","txt-center","txt-bold","bggold","bgcover","shadow2","font4","color2","bdcolor2","bdsmall","bradius1","xbig",3,"click"],[1,"row","mnone","psmall","mtopmedium","all12"],[1,"all1","aoff1",3,"src","alt"],["type","range","min","0","step","1",1,"all5","aoff1",3,"max","value","id","change"],[1,"all2","aoff1"],[1,"bgcolor3","bdcolor2","bradius2","all1","mnone","mtopsmall","pxsmall","bdsmall","resource"],[1,"all12",3,"src","alt"],[1,"font4","xbig","amount","color2"]],template:function(i,s){i&1&&X(0,k8,5,2,"div",0),i&2&&M("ngIf",s.showCitiesList)},dependencies:[Oe,Ut,zd],styles:['.detail[_ngcontent-%COMP%]{z-index:100;position:absolute;top:0;left:0}.info-panel[_ngcontent-%COMP%]{position:relative;inset:0}.close-btn[_ngcontent-%COMP%]{position:absolute;right:-10px;top:-10px;width:30px;height:30px;background-size:cover;background-color:none;background-image:url("./media/close-btn-OR67BN6R.png")}.resource[_ngcontent-%COMP%]{position:relative;top:0;left:0}.amount[_ngcontent-%COMP%]{position:absolute;bottom:0;right:5px}.citiesList[_ngcontent-%COMP%]{height:400px;overflow-y:auto}']});let t=e;return t})();function V8(t,e){if(t&1){let n=me();w(0,"div",9)(1,"p",10),P(2),x(),w(3,"button",11),$("click",function(){let s=z(n).$implicit,o=R(3);return G(o.selectCityHandler(s))}),P(4,"SEND"),x()()}if(t&2){let n=e.$implicit;I(2),be(n.name)}}function j8(t,e){if(t&1&&(w(0,"div",5)(1,"h2",6),P(2,"SELECT CITY"),x(),w(3,"div",7),X(4,V8,5,1,"div",8),x()()),t&2){let n=R(2);I(4),M("ngForOf",n.cities)}}function B8(t,e){if(t&1){let n=me();w(0,"div",17),Y(1,"img",18),w(2,"input",19),$("change",function(i){z(n);let s=R(3);return G(s.changeValueHandler(i))}),x(),w(3,"p",20),P(4),x()()}if(t&2){let n=e.$implicit,r=R(3);I(1),Ce("alt",n.resourceID),M("src",r.getURI(n.resourceID),Me),I(1),Ce("max",r.getMaximumByResourceID(n.resourceID)),Ce("value",r.getCurrentValueByResourceID(n.resourceID)),Ce("id",n.resourceID),I(2),be(r.getCurrentValueByResourceID(n.resourceID))}}function U8(t,e){if(t&1&&(w(0,"div",21),Y(1,"img",22),w(2,"p",23),P(3),x()()),t&2){let n=e.$implicit,r=R(3);I(1),Ce("alt",n.resourceID),M("src",r.getURI(n.resourceID),Me),I(2),be(r.getAmount(n.amount))}}function H8(t,e){if(t&1){let n=me();w(0,"div",5)(1,"h2",6),P(2,"CHOOSE RESOURCES"),x(),w(3,"div",12),X(4,B8,5,6,"div",13),x(),w(5,"div",14),X(6,U8,4,3,"div",15),x(),w(7,"button",16),$("click",function(){z(n);let i=R(2);return G(i.addResourcesHandler())}),P(8,"ADD RESOURCES"),x(),w(9,"button",16),$("click",function(){z(n);let i=R(2);return G(i.clearHandler())}),P(10,"CLEAR"),x(),w(11,"button",16),$("click",function(){z(n);let i=R(2);return G(i.sendHandler())}),P(12,"SEND"),x()()}if(t&2){let n=R(2);I(4),M("ngForOf",n.resources),I(2),M("ngForOf",n.sharedResources)}}function $8(t,e){if(t&1){let n=me();w(0,"div",1)(1,"div",2)(2,"div",3),$("click",function(){z(n);let i=R();return G(i.closeHandler())}),x(),X(3,j8,5,1,"div",4)(4,H8,13,2,"div",4),x()()}if(t&2){let n=R();I(3),M("ngIf",n.chooseCitiesMode),I(1),M("ngIf",n.createPackageMode)}}var AA=(()=>{let e=class e{constructor(r,i){this._textureManagerService=r,this._utils=i,this.resources=null,this.showSendResources=!0,this.cities=[],this.onClose=new ve,this.onSendResources=new ve,this.chooseCitiesMode=!0,this.createPackageMode=!1,this.sharedResources=[],this._values=new Map,this._selected=null}getURI(r){if(this.resources==null)return"";let i=this.resources.find(s=>s.resourceID==r);return i==null?"":this._textureManagerService.createImage(i.key).src}getAmount(r){return this._utils.formatAmount(r)}getNumSharedResourcesByResourceID(r){return this.sharedResources.filter(i=>i.resourceID==r).reduceRight((i,s,o)=>i+s.amount,0)}addResourcesHandler(){this._values.forEach((r,i)=>{r>0&&this.sharedResources.push({amount:r,resourceID:i})}),this.clearValues()}clearHandler(){this.resources=[],this.sharedResources=[],this.clearValues()}clearValues(){this._values.clear()}closeHandler(){this.createPackageMode==!0?this.backToSelection():this.onClose.emit()}getCurrentValueByResourceID(r){let i=parseInt(r.toString());return this._values.get(i)||0}getMaximumByResourceID(r){let i=0;if(this.resources!==null){let s=this.resources.find(o=>o.resourceID==r);if(s){let o=this.getNumSharedResourcesByResourceID(r);i=s.amount-o}}return i}changeValueHandler(r){let i=parseInt(r.target.id),s=parseInt(r.target.value);this._values.set(i,s)}backToSelection(){this.clearValues(),this.clearHandler(),this._selected=null,this.createPackageMode=!1,this.chooseCitiesMode=!0}selectCityHandler(r){this._selected=r,this.createPackageMode=!0,this.chooseCitiesMode=!1}sendHandler(){return F(this,null,function*(){if(this._selected!==null){let r={cityID:this._selected.id,sharedResources:this.sharedResources};this.clearHandler(),this.backToSelection(),this.onSendResources.emit(r)}})}};e.\u0275fac=function(i){return new(i||e)(L(ut),L(Cn))},e.\u0275cmp=ge({type:e,selectors:[["app-send-resources"]],inputs:{resources:"resources",showSendResources:"showSendResources",cities:"cities"},outputs:{onClose:"onClose",onSendResources:"onSendResources"},standalone:!0,features:[_e],decls:1,vars:1,consts:[["class","pnone row all12 detail",4,"ngIf"],[1,"pnone","row","all12","detail"],[1,"row","mob12","tab8","toff2","dsk4","doff4","center","bgcolor2","bradius2","inner2","bdcolor1","font4","color2","mtopbiggest","pxsmall","info-panel"],[1,"close-btn",3,"click"],["class","all12 pxsmall bgcolor3 bradius2 inner2 bdcolor1 row shadow2",4,"ngIf"],[1,"all12","pxsmall","bgcolor3","bradius2","inner2","bdcolor1","row","shadow2"],[1,"mnone","pnone","mbotmedium","xbig","txt-center","all12"],[1,"row","mnone","pnone","citiesList"],["class","row mnone pxsmall mnone all12",4,"ngFor","ngForOf"],[1,"row","mnone","pxsmall","mnone","all12"],[1,"font4","xbig","normal","aoff1","all6"],["type","submit",1,"primary","aoff1","all4","txt-center","txt-bold","bggold","bgcover","shadow2","font4","color2","bdcolor2","bdsmall","bradius1","xbig",3,"click"],[1,"row","mnone","pnone","all12","resourcesList"],["class","row mnone psmall mtopmedium all12",4,"ngFor","ngForOf"],[1,"row","mnone","pnone","all12"],["class","bgcolor3 bdcolor2 bradius2 all1 mnone mtopsmall pxsmall bdsmall resource",4,"ngFor","ngForOf"],["type","submit",1,"primary","txt-center","txt-bold","bggold","bgcover","shadow2","font4","color2","bdcolor2","bdsmall","bradius1","xbig",3,"click"],[1,"row","mnone","psmall","mtopmedium","all12"],[1,"all1","aoff1",3,"src","alt"],["type","range","min","0","step","1",1,"all5","aoff1",3,"max","value","id","change"],[1,"all2","aoff1"],[1,"bgcolor3","bdcolor2","bradius2","all1","mnone","mtopsmall","pxsmall","bdsmall","resource"],[1,"all12",3,"src","alt"],[1,"font4","xbig","amount","color2"]],template:function(i,s){i&1&&X(0,$8,5,2,"div",0),i&2&&M("ngIf",s.showSendResources)},dependencies:[Oe,Ut],styles:['.detail[_ngcontent-%COMP%]{z-index:100;position:absolute;top:0;left:0}.info-panel[_ngcontent-%COMP%]{position:relative;inset:0}.close-btn[_ngcontent-%COMP%]{position:absolute;right:-10px;top:-10px;width:30px;height:30px;background-size:cover;background-color:none;background-image:url("./media/close-btn-OR67BN6R.png")}.resource[_ngcontent-%COMP%]{position:relative;top:0;left:0}.amount[_ngcontent-%COMP%]{position:absolute;bottom:0;right:5px}.resourcesList[_ngcontent-%COMP%]{height:400px;overflow-y:auto}']});let t=e;return t})();var Kd=class{constructor(e,n,r,i,s){this.key="",this.combat=!1,this.prodFrequency=1,this.cycleInMs=1e3,this.resourceID=n.resourceID,this.name=r.name,this.amount=n.amount,this.min=e.min||0,this.max=e.max||0,this.key=r.key,this.combat=r.combat,this.prodFrequency=i,this.cycleInMs=this.cycleInMs}};var Jd=class{constructor(e,n=null,r=null){this.id=n?.id||-1,this.bought=n!==null,this.key2=r?.key2||"",this.key=r?.key||"",this.x=r?.x||0,this.y=r?.y||0,this.name=e.name,this.frozen=n?.frozen||!1,this.tplID=e.id,this.levels=e.levels,this.currentLevel=this.levels.find(i=>i.level==n?.level)||null,this.currentLevelNum=this.currentLevel==null?0:this.currentLevel.level,this.nextLevel=this.levels.find(i=>i.level==this.currentLevelNum+1)||null,this.nextLevelNum=this.nextLevel==null?0:this.nextLevel.level,this.hasNextLevel=this.nextLevel!==null,this._nextLevelCost=[],this._production=[],this._consumption=[],this._nextProduction=[],this._nextConsumption=[]}setConsumption(e){this._consumption=e}getConsumption(){return this._consumption}setNextLevelConsumption(e){this._nextConsumption=e}getNextLevelConsumption(){return this._nextConsumption}setProduction(e){this._production=e}getProduction(){return this._production}setNextLevelProduction(e){this._nextProduction=e}getNextLevelProduction(){return this._nextProduction}setNextLevelCost(e){this._nextLevelCost=e}getNextLevelCost(){return this._nextLevelCost}};var ef=class{constructor(e,n,r,i,s){this.id=e,this.name=n,this.buildings=r,this.wallet=i,this.walletResources=s}};var Je={baseHref:"/alpha/",production:!0,domain:"https://moocaccino.fr:3000",templatesURI:"https://moocaccino.fr:3000/templates",resourcesURI:"https://moocaccino.fr:3000/resources",fighterstplURI:"https://moocaccino.fr:3000/fighterstpl",dungeonsURI:"https://moocaccino.fr:3000/dungeons",subscribeURI:"https://moocaccino.fr:3000/subscribe",resetpwdURI:"https://moocaccino.fr:3000/resetpwd",confirmpwdURI:"https://moocaccino.fr:3000/confirmpwd",meURI:"https://moocaccino.fr:3000/me",buyBuildingURI:"https://moocaccino.fr:3000/me/buy/building",upgradeBuildingURI:"https://moocaccino.fr:3000/me/upgrade/building",fightDungeon:"https://moocaccino.fr:3000/dungeon/fight",fightCity:"https://moocaccino.fr:3000/city/fight",sendResourcesToCity:"https://moocaccino.fr:3000/city/send/resources",freezeBuildingURI:"https://moocaccino.fr:3000/me/freeze/building",loginURI:"https://moocaccino.fr:3000/login",confirmURI:"https://moocaccino.fr:3000/confirm",citiesURI:"https://moocaccino.fr:3000/cities",serverUpURI:"https://moocaccino.fr:3000/"};var RA=(()=>{let e=class e{constructor(){}get(r,i){return localStorage&&localStorage.getItem(r)||i}set(r,i){localStorage&&localStorage.setItem(r,i)}remove(r){localStorage&&localStorage.removeItem(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Wt=(()=>{let e=class e{constructor(r,i){this._http=r,this._localDataService=i,this._token="",this._resources=[],this._fightersTpl=[],this._init()}_init(){this._token=this._localDataService.get("accessToken","")}_getHeaders(){return new qn({Authorization:this._token})}_setAccessToken(r){this._token="Bearer "+r,this._localDataService.set("accessToken",this._token)}_setAccessTokenTime(r){this._localDataService.set("accessTokenTime",r.toString())}getBuildingTemplates(){return F(this,null,function*(){let r=Je.templatesURI;try{return yield Ge(this._http.get(r))}catch{return[]}})}getBuildingInfos(){return F(this,null,function*(){let r="./assets/json/buildings.json";return Ge(this._http.get(r))})}getResourcesImg(){return F(this,null,function*(){let r="./assets/json/resources.json";return Ge(this._http.get(r))})}getResourceByID(r){return F(this,null,function*(){return(yield this.getResources()).find(s=>s.id==r)||null})}getResources(r=!0){return F(this,null,function*(){let i=Je.resourcesURI;if(this._resources.length>0&&r)return this._resources;try{this._resources=yield Ge(this._http.get(i))}catch{this._resources=[]}return this._resources})}getFightersTemplates(r=!0){return F(this,null,function*(){let i=Je.fighterstplURI;if(this._fightersTpl.length>0&&r)return this._fightersTpl;try{this._fightersTpl=yield Ge(this._http.get(i))}catch{this._fightersTpl=[]}return this._fightersTpl})}subscribe(r,i,s){return F(this,null,function*(){let o=Je.subscribeURI;return yield Ge(this._http.post(o,{email:r.trim(),name:i.trim(),pwd:s.trim()}))})}resetPwd(r){return F(this,null,function*(){let i=Je.resetpwdURI;return yield Ge(this._http.post(i,{email:r.trim()}))})}confirmResetPwd(r,i,s){return F(this,null,function*(){let o=Je.confirmpwdURI;return yield Ge(this._http.post(o,{email:r.trim(),pwd:i.trim(),token:s.trim()}))})}isServerUp(){return F(this,null,function*(){let r=Je.serverUpURI;try{let i=yield Ge(this._http.get(r));return!0}catch(i){return i.status==200}})}login(r,i){return F(this,null,function*(){let s=Je.loginURI,o=yield Ge(this._http.post(s,{email:r.trim(),password:i.trim()}));return o.token&&o.accessTokenTime?(this._setAccessTokenTime(o.accessTokenTime),this._setAccessToken(o.token),!0):!1})}confirm(r){return F(this,null,function*(){let i=Je.confirmURI+"?confirmToken="+r.trim();return yield Ge(this._http.get(i))})}me(){return F(this,null,function*(){let r=Math.floor(Math.random()*1e4),i=Je.meURI+"?rand="+r,s=this._getHeaders();try{return yield Ge(this._http.get(i,{headers:s}))}catch{return null}})}getCityByID(r){return F(this,null,function*(){let i={buildings:[],name:"",id:0,wallet:[]},s=yield this.me();return s===null?i:s.cities.find(o=>o.id===r)||i})}getCities(){return F(this,null,function*(){let r=Math.floor(Math.random()*1e3),i=Je.citiesURI+"?rand="+r;return yield Ge(this._http.get(i))})}buyBuilding(r,i){return F(this,null,function*(){let s=Je.buyBuildingURI;return yield Ge(this._http.post(s,{tplID:r,cityID:i},{headers:this._getHeaders()}))})}upgradeBuilding(r,i){return F(this,null,function*(){let s=Je.upgradeBuildingURI;return yield Ge(this._http.post(s,{buildingID:r,cityID:i},{headers:this._getHeaders()}))})}setBuildingFrozenStatus(r,i,s=!1){return F(this,null,function*(){let o=Je.freezeBuildingURI;return yield Ge(this._http.post(o,{buildingID:r,cityID:i,frozen:s},{headers:this._getHeaders()}))})}getDungeons(){return F(this,null,function*(){let r=Je.dungeonsURI;return(yield Ge(this._http.get(r)))||[]})}fightDungeon(r,i,s){return F(this,null,function*(){let o=Je.fightDungeon;return yield Ge(this._http.post(o,{cityID:r,dungeonID:i,fighters:s},{headers:this._getHeaders()}))})}sendResources(r,i,s){return F(this,null,function*(){let o=Je.sendResourcesToCity;return yield Ge(this._http.post(o,{senderCityID:r,targetCityID:i,quantities:s},{headers:this._getHeaders()}))})}fightCity(r,i,s){return F(this,null,function*(){let o=Je.fightCity;return yield Ge(this._http.post(o,{cityID:r,targetID:i,fighters:s},{headers:this._getHeaders()}))})}};e.\u0275fac=function(i){return new(i||e)(W(Rp),W(RA))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var To=(()=>{let e=class e{constructor(r){this._paradoxServer=r,this._currentData=null,this._currentCityID=0,this._currentPlayerCities=[],this._tick=this._tick.bind(this),this._infosSubject=new No(1),this._tick()}_tick(){return F(this,null,function*(){yield this.refreshGameInfo(),setTimeout(this._tick,e.LOW_POLLING_TIMER)})}_walletToCityResources(r,i,s,o=1){return r.map(l=>{let c=i.find(d=>d.id==l.resourceID),u=s.find(d=>d.id==c.id);return new Kd(c,l,u,o,e.PERIODIC_CYCLE_MS)})}_getMyInfos(){return F(this,null,function*(){try{let r=yield this._paradoxServer.me();if(r==null)return null;let i=yield this._paradoxServer.getBuildingTemplates(),s=yield this._paradoxServer.getBuildingInfos(),o=yield this._paradoxServer.getResourcesImg(),a=yield this._paradoxServer.getResources(),l=r.cities.map(c=>{let u=i.map(f=>{let h=c.buildings.find(b=>b.tplID==f.id),m=h==null?0:h.level,p=s.find(b=>b.tplID==f.id&&b.level==m),g=new Jd(f,h,p),_=[],v=[],C=[],y=[],E=[];return g?.currentLevel?.prod&&(_=this._walletToCityResources(g?.currentLevel?.prod,a,o,g.currentLevel?.prodFrequency)),g?.nextLevel?.prod&&(E=this._walletToCityResources(g?.nextLevel?.prod,a,o,g.nextLevel?.prodFrequency)),g?.nextLevel?.cons&&(y=this._walletToCityResources(g?.nextLevel?.cons,a,o,g.nextLevel?.prodFrequency)),g?.currentLevel?.cons&&(C=this._walletToCityResources(g?.currentLevel?.cons,a,o,g.currentLevel?.prodFrequency)),g.hasNextLevel&&(v=this._walletToCityResources(g.nextLevel?.cost,a,o,g.currentLevel?.prodFrequency)),g.setConsumption(C),g.setNextLevelCost(v),g.setProduction(_),g.setNextLevelProduction(E),g.setNextLevelConsumption(y),g});return new ef(c.id,c.name,u,c.wallet,this._walletToCityResources(c.wallet,a,o))});return r.playerCities=l,this._currentPlayerCities=r.playerCities,r}catch{return null}})}selectNextCity(){let r=this._currentPlayerCities.find(s=>s.id==this._currentCityID);if(r==null)return null;let i=this._currentPlayerCities.indexOf(r);return i==-1?null:(i++,i>=this._currentPlayerCities.length&&(i=0),this._currentCityID=this._currentPlayerCities[i].id,this._currentPlayerCities[i])}selectPrevCity(){let r=this._currentPlayerCities.find(s=>s.id==this._currentCityID);if(r==null)return null;let i=this._currentPlayerCities.indexOf(r);return i==-1?null:(i--,i<0&&(i=this._currentPlayerCities.length-1),this._currentCityID=this._currentPlayerCities[i].id,this._currentPlayerCities[i])}getCurrentPlayerCity(){let r=this._currentPlayerCities.find(i=>i.id===this._currentCityID)||this._currentPlayerCities[0]||null;return this._currentCityID=r==null?0:r.id,r}isConnected(){return this._currentData===null?!1:this._currentData.player!==null}getGameInfos(){return this._infosSubject}getPlayerCityByID(r){return this._currentData?.player?.playerCities.find(i=>i.id===r)||null}getCityBuildingByID(r,i){return r?.buildings.find(s=>s.id===i)||null}getCityBuildingByTplID(r,i){return r?.buildings.find(s=>s.tplID===i)||null}getImagesInfos(){return this._paradoxServer.getResourcesImg()}getFightersTemplates(){return this._paradoxServer.getFightersTemplates()}getDungeons(){return F(this,null,function*(){return this._paradoxServer.getDungeons()})}getCities(){return F(this,null,function*(){return yield this._paradoxServer.getCities()})}fightDungeon(r,i,s){return F(this,null,function*(){return this._paradoxServer.fightDungeon(r,i,s)})}sendResources(r,i,s){return F(this,null,function*(){return this._paradoxServer.sendResources(r,i,s)})}fightCity(r,i,s){return F(this,null,function*(){return this._paradoxServer.fightCity(r,i,s)})}refreshGameInfo(){return F(this,null,function*(){let r=yield this._getMyInfos(),i=yield this._paradoxServer.getResources();this._currentData={player:r,resources:i},this._infosSubject.next(this._currentData)})}};e.LOW_POLLING_TIMER=5*1e3,e.PERIODIC_CYCLE_MS=1e3,e.\u0275fac=function(i){return new(i||e)(W(Wt))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function G8(t,e){if(t&1){let n=me();w(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"img",5),$("click",function(){z(n);let i=R();return G(i.prevCityHandler())}),x()(),w(5,"p",6),P(6),x(),w(7,"div",4)(8,"img",7),$("click",function(){z(n);let i=R();return G(i.nextCityHandler())}),x()()(),Y(9,"app-wallet",8),w(10,"div",9)(11,"div",10)(12,"img",11),$("click",function(){z(n);let i=R();return G(i.showSendResourcesHandler())}),x()(),w(13,"div",10)(14,"img",12),$("click",function(){z(n);let i=R();return G(i.showDungeonListHandler())}),x()(),w(15,"div",10)(16,"img",13),$("click",function(){z(n);let i=R();return G(i.showCitiesListHandler())}),x()()(),w(17,"app-building-detail",14),$("onBuy",function(i){z(n);let s=R();return G(s.buyHandler(i))})("onClose",function(){z(n);let i=R();return G(i.hideSelectedBuilding())}),x(),w(18,"app-dungeon-list",15),$("onFight",function(i){z(n);let s=R();return G(s.fightDungeonHandler(i))})("onClose",function(){z(n);let i=R();return G(i.hideDungeonList())}),x(),w(19,"app-cities-list",16),$("onFight",function(i){z(n);let s=R();return G(s.fightCityHandler(i))})("onClose",function(){z(n);let i=R();return G(i.hideCitiesList())}),x(),w(20,"app-send-resources",17),$("onSendResources",function(i){z(n);let s=R();return G(s.sendResourcesToCityHandler(i))})("onClose",function(){z(n);let i=R();return G(i.hideSendResources())}),x(),w(21,"app-dungeon-fight-result",18),$("onClose",function(){z(n);let i=R();return G(i.hideDungeonFightResult())})("onWatchFight",function(){z(n);let i=R();return G(i.watchFightHandler())}),x()(),P(22),x()}if(t&2){let n=R();I(4),M("src",n.getLeftIcon(),Me),I(2),be(n.currentCity.name),I(2),M("src",n.getRightIcon(),Me),I(1),M("resources",n.currentCity.walletResources)("showResources",n.showResources),I(3),M("src",n.getShareIcon(),Me),I(2),M("src",n.getPVEIcon(),Me),I(2),M("src",n.getPVPIcon(),Me),I(1),M("currentBuilding",n.selectedBuilding)("currentCity",n.currentCity)("canBuy",n.upgradeMode),I(1),M("resources",n.currentCity.walletResources)("showDungeonList",n.showDungeonList)("dungeons",n.dungeons),I(1),M("resources",n.currentCity.walletResources)("showCitiesList",n.showCitiesList)("cities",n.opponentCities),I(1),M("resources",n.currentCity.walletResources)("showSendResources",n.showSendResources)("cities",n.allCities),I(1),M("resources",n.resourceInfos)("fightResult",n.fightResult)("fightersTpl",n.fightersTpl),I(1),Fs(" ",n.containerReady(),`
`)}}var PA=(()=>{let e=class e{constructor(r,i,s,o,a,l){this._gameService=r,this._spriteFactory=i,this._textureManager=s,this._paradoxService=o,this._router=a,this._ref=l,this.timeout=null,this.player=null,this.currentCity=null,this.fightResult=null,this.upgradeMode=!1,this.showDungeonList=!1,this.showCitiesList=!1,this.showSendResources=!1,this.showResources=!0,this.selectedBuilding=null,this.dungeons=[],this.opponentCities=[],this.allCities=[],this.resources=[],this.fightersTpl=[],this.resourceInfos=[],this._subscription=null,this.simulationEndHandler=this.simulationEndHandler.bind(this),this._gameInfoHandler=this._gameInfoHandler.bind(this),this.mapLoadedHandler=this.mapLoadedHandler.bind(this),this.selectBuildingHandler=this.selectBuildingHandler.bind(this),this.freezeHandler=this.freezeHandler.bind(this),this.buyHandler=this.buyHandler.bind(this),this.showDungeonListHandler=this.showDungeonListHandler.bind(this),this.fightDungeonHandler=this.fightDungeonHandler.bind(this),this.hideDungeonList=this.hideDungeonList.bind(this),this.hideDungeonFightResult=this.hideDungeonFightResult.bind(this),this._cityMap=new Vd(this._textureManager,i)}_gameInfoHandler(r){if(!this._gameService.isConnected())return this._router.navigate(["/login"]);this.resources=r.resources,this.player=r.player,this.currentCity=this._gameService.getCurrentPlayerCity(),this.currentCity!==null&&this._cityMap.setBuildings(this.currentCity.buildings),this.selectedBuilding!==null&&(this.selectedBuilding.id<0?this.selectedBuilding=this.currentCity?.buildings.find(i=>i.tplID===this.selectedBuilding?.tplID)||null:this.selectedBuilding=this.currentCity?.buildings.find(i=>i.id===this.selectedBuilding?.id)||null),this._ref.markForCheck()}ngOnInit(){this._cityMap.subscribe(gt.CITY_MAP_LOADED,this.mapLoadedHandler),this._cityMap.init()}containerReady(){document.getElementById("mapContainer").appendChild(this._cityMap.getCanvas())}mapLoadedHandler(){this._cityMap.resizeCanvas(),this._cityMap.unsubscribe(gt.CITY_MAP_LOADED,this.mapLoadedHandler),this._cityMap.subscribe(gt.CITY_MAP_SHOW_INFO_PANEL,this.selectBuildingHandler),this._cityMap.subscribe(gt.CITY_MAP_SHOW_UPGRADE_PANEL,this.selectBuildingHandler),this._cityMap.subscribe(gt.CITY_MAP_TOGGLE_FREEZE,this.freezeHandler),this._cityMap.subscribe(gi.SIMULATION_ENDED,this.simulationEndHandler),this._subscription=this._gameService.getGameInfos().subscribe(this._gameInfoHandler)}nextCityHandler(){return F(this,null,function*(){this.currentCity=yield this._gameService.selectNextCity(),yield this._gameService.refreshGameInfo(),this._ref.markForCheck()})}prevCityHandler(){return F(this,null,function*(){this.currentCity=yield this._gameService.selectPrevCity(),yield this._gameService.refreshGameInfo(),this._ref.markForCheck()})}freezeHandler(r){return F(this,null,function*(){let i=r.getPayload(),s=this.currentCity?.id;yield this._paradoxService.setBuildingFrozenStatus(i.id,s,!i.frozen),yield this._gameService.refreshGameInfo()})}getPVPIcon(){return this._textureManager.createImage("swords-icon").src}getPVEIcon(){return this._textureManager.createImage("fort").src}getLeftIcon(){return this._textureManager.createImage("left-arrow").src}getRightIcon(){return this._textureManager.createImage("right-arrow").src}getShareIcon(){return this._textureManager.createImage("resource-icon").src}selectBuildingHandler(r){this.selectedBuilding=r.getPayload(),this.upgradeMode=r.getEventType()==gt.CITY_MAP_SHOW_UPGRADE_PANEL,this._ref.markForCheck()}getResourceByID(r){return this.resources.find(i=>i.id==r)||null}buyHandler(r){return F(this,null,function*(){let i=!1;r.nextLevelNum==1?i=yield this._paradoxService.buyBuilding(r.tplID,this.currentCity?.id||-1):i=yield this._paradoxService.upgradeBuilding(r.id,this.currentCity?.id||-1),this.hideSelectedBuilding(),yield this._gameService.refreshGameInfo()})}hideSelectedBuilding(){this.selectedBuilding=null,this._ref.markForCheck()}hideDungeonList(){this.showDungeonList=!1,this._ref.markForCheck()}hideDungeonFightResult(){this.fightResult=null}showDungeonListHandler(){return F(this,null,function*(){this.dungeons=yield this._gameService.getDungeons(),this.showDungeonList=!0,this._ref.markForCheck()})}simulationEndHandler(){return F(this,null,function*(){this.showResources=!0,this.fightResult=null,this._ref.markForCheck()})}watchFightHandler(){return F(this,null,function*(){this.showResources=!1,this._cityMap.simulate(this.fightResult),this.opponentCities=[],this._ref.markForCheck(),this.hideDungeonFightResult()})}fightDungeonHandler(r){return F(this,null,function*(){let i=yield this._gameService.fightDungeon(this.currentCity?.id||2,r.dungeonID,r.fighters);yield this._gameService.refreshGameInfo(),this.fightersTpl=yield this._gameService.getFightersTemplates(),this.resourceInfos=yield this._gameService.getImagesInfos(),this.hideDungeonList(),this.fightResult=i})}showCitiesListHandler(){return F(this,null,function*(){let r=yield this._gameService.getCities();this.opponentCities=r.filter(i=>i.playerID!==this.player?.id&&i.cooldown==0),this.showCitiesList=!0,this._ref.markForCheck()})}showSendResourcesHandler(){return F(this,null,function*(){let r=yield this._gameService.getCities();this.allCities=r,this.showSendResources=!0,this._ref.markForCheck()})}sendResourcesToCityHandler(r){return F(this,null,function*(){let i=yield this._gameService.sendResources(this.currentCity?.id||-1,r.cityID,r.sharedResources);console.log(i),yield this._gameService.refreshGameInfo(),this.hideSendResources()})}hideSendResources(){this.showSendResources=!1,this._ref.markForCheck()}hideCitiesList(){this.showCitiesList=!1,this._ref.markForCheck()}fightCityHandler(r){return F(this,null,function*(){let i=yield this._gameService.fightCity(this.currentCity?.id||-1,r.cityID,r.fighters);yield this._gameService.refreshGameInfo(),this.fightersTpl=yield this._gameService.getFightersTemplates(),this.resourceInfos=yield this._gameService.getImagesInfos(),this.fightResult=i,this.opponentCities=[],this.hideCitiesList()})}ngOnDestroy(){this._subscription?.unsubscribe(),this._cityMap.unsubscribeAll(),this._cityMap.destroy()}};e.\u0275fac=function(i){return new(i||e)(L(To),L(TA),L(ut),L(Wt),L(Fn),L(Li))},e.\u0275cmp=ge({type:e,selectors:[["app-home"]],standalone:!0,features:[_e],decls:1,vars:1,consts:[["class","mnone pnone selfcenter selfcenter2","id","mapContainer",4,"ngIf"],["id","mapContainer",1,"mnone","pnone","selfcenter","selfcenter2"],[1,"row","allh12","mnone","pnone"],[1,"citySelector","mnone","pxxsmall","row","bgcolor9","bdcolor2"],[1,"all1","mnone","pxxsmall","row","center"],["alt","PREV",1,"all8","pnone","mnone",3,"src","click"],[1,"all10","pnone","mnone","bgcolor3","bdcolor2","txt-center","biggest","font4","color2","shadow2"],["alt","NEXT",1,"all8","pnone","mnone",3,"src","click"],[3,"resources","showResources"],[1,"combatUI","mnone","pnone"],[1,"bgcolor3","bdcolor2","bradius2","all12","mnone","mtopsmall","pxsmall","bdsmall","combatIcon"],["alt","SHARE",1,"all12",3,"src","click"],["alt","PVE",1,"all12",3,"src","click"],["alt","PVP",1,"all12",3,"src","click"],[3,"currentBuilding","currentCity","canBuy","onBuy","onClose"],[3,"resources","showDungeonList","dungeons","onFight","onClose"],[3,"resources","showCitiesList","cities","onFight","onClose"],[3,"resources","showSendResources","cities","onSendResources","onClose"],[3,"resources","fightResult","fightersTpl","onClose","onWatchFight"]],template:function(i,s){i&1&&X(0,G8,23,24,"div",0),i&2&&M("ngIf",s.player!==null&&s.currentCity!=null)},dependencies:[Oe,gb,gM,yA,CA,SA,EA,AA],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-content:center;background-color:#000;background-repeat:no-repeat;background-size:cover;background-position:center;background-attachment:fixed;overflow:hidden;overflow-x:hidden;overflow-y:hidden}#mapContainer[_ngcontent-%COMP%]{position:relative;top:0;left:0;z-index:10}.combatUI[_ngcontent-%COMP%]{width:30px;position:absolute;z-index:10;left:30px;bottom:10%}.combatIcon[_ngcontent-%COMP%]{position:relative;top:0;left:0}.citySelector[_ngcontent-%COMP%]{position:absolute;z-index:10;left:50%;transform:translate(-50%);margin-top:20px;width:300px}"],changeDetection:0});let t=e;return t})();var NA=(()=>{let e=class e{constructor(){this.isValidName=r=>/^[a-zA-Z][a-zA-Z0-9_]+$/g.test(r),this.isValidEmail=r=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(r.toLowerCase())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Y8(t,e){if(t&1){let n=me();w(0,"form",8),$("submit",function(){z(n);let i=R();return G(i.subscribeHandler())}),w(1,"label",9),P(2,"Nickname:"),x(),w(3,"input",10),$("keydown",function(){z(n);let i=R();return G(i.changeHandler())}),x(),w(4,"p",11),P(5,"*Caract\xE8res autoris\xE9s: aA-zZ 0-9 _"),x(),Y(6,"br"),w(7,"label",12),P(8,"Email:"),x(),w(9,"input",13),$("keydown",function(){z(n);let i=R();return G(i.changeHandler())}),x(),Y(10,"br"),w(11,"label",14),P(12,"Password:"),x(),w(13,"input",15),$("keydown",function(){z(n);let i=R();return G(i.changeHandler())}),x(),Y(14,"br"),w(15,"button",16),P(16,"S'inscrire"),x()()}if(t&2){let n=R();M("formGroup",n.subscribeForm)}}function W8(t,e){t&1&&(w(0,"p",20),P(1,"Inscription r\xE9ussie !"),x())}function Q8(t,e){t&1&&(w(0,"p",21),P(1,"Vous allez recevoir un email de confirmation."),x())}function Z8(t,e){if(t&1&&(w(0,"div",17),X(1,W8,2,0,"p",18)(2,Q8,2,0,"p",19),x()),t&2){let n=R();I(1),M("ngIf",n.subbed),I(1),M("ngIf",n.subbed)}}function X8(t,e){t&1&&(w(0,"p",25),P(1,"Votre inscription a \xE9chou\xE9"),x())}function K8(t,e){t&1&&(w(0,"p",26),P(1,"Le nickname que vous avez choisi n'est pas valide."),x())}function J8(t,e){t&1&&(w(0,"p",26),P(1,"L'email que vous avez choisi n'est pas valide."),x())}var e6=()=>["/login"];function t6(t,e){t&1&&(w(0,"p",26),P(1," L'email est d\xE9j\xE0 pris. "),w(2,"a",27),P(3,"Connectez-vous !"),x()()),t&2&&(I(2),M("routerLink",_r(1,e6)))}function n6(t,e){if(t&1&&(w(0,"div",22),X(1,X8,2,0,"p",23)(2,K8,2,0,"p",24)(3,J8,2,0,"p",24)(4,t6,4,2,"p",24),x()),t&2){let n=R();I(1),M("ngIf",!n.subbed),I(1),M("ngIf",!n.isValidName()),I(1),M("ngIf",!n.isValidEmail()),I(1),M("ngIf",n.isValidName()&&n.isValidEmail())}}var FA=(()=>{let e=class e{constructor(r,i){this._paradoxService=r,this._validatorService=i,this.title="Cr\xE9er un compte",this.subbed=!1,this.submitted=!1,this.subscribeForm=new hn({nickname:new vt(""),email:new vt(""),pwd:new vt("")})}subscribeHandler(){this.submitted=!1,this._paradoxService.subscribe(this.subscribeForm.value.email??"",this.subscribeForm.value.nickname??"",this.subscribeForm.value.pwd??"").then(r=>{this.subbed=r,this.submitted=!0})}changeHandler(){console.log("coucou"),this.submitted=!1}isValidName(){let r=this.subscribeForm.value.nickname??"/-*";return this._validatorService.isValidName(r)}isValidEmail(){let r=this.subscribeForm.value.email??"/-*";return this._validatorService.isValidEmail(r)}};e.\u0275fac=function(i){return new(i||e)(L(Wt),L(NA))},e.\u0275cmp=ge({type:e,selectors:[["app-subscribe"]],standalone:!0,features:[_e],decls:8,vars:4,consts:[[1,"all12","mnone","pnone","center","row"],["src","./assets/sprites/bg/game_title.png",1,"mob8","tab6","dsk2"],[1,"row","mob12","tab10","toff1","dsk4","doff4","center","bgcolor2","bradius2","inner2","bdcolor1","font4","color2","pxsmall","vmiddle"],[1,"bgcolor3","bradius2","inner2","bdcolor1","mob12","tab12","dsk12","center","row","shadow2"],[1,"all12","row","mnone","pnone","upper",3,"title"],["class","center row mob12 tab12 pnone",3,"formGroup","submit",4,"ngIf"],["class","row all12 mnone pnone",4,"ngIf"],["class","row all10 aoff1 mtopsmall mbotsmall pxsmall bgcolor4 bdmedium bdcolor2 inner2",4,"ngIf"],[1,"center","row","mob12","tab12","pnone",3,"formGroup","submit"],["for","nickname",1,"mob3","moff1","tab3","toff1","dsk3","doff1","bold","medium","txt-bold"],["id","nickname","type","text","formControlName","nickname",1,"mob6","moff1","tab6","toff1","dsk6","doff1","bold","big","bradius1","bdsmall","bdcolor2","font4","mbotxsmall",3,"keydown"],[1,"all11","txt-right","small","mbotmedium"],["for","nickname","for","email",1,"mob3","moff1","tab3","toff1","dsk3","doff1","bold","medium","txt-bold"],["id","email","type","text","formControlName","email",1,"mob6","moff1","tab6","toff1","dsk6","doff1","bold","big","bradius1","bdsmall","bdcolor2","font4","mbotxsmall",3,"keydown"],["for","pwd",1,"mob3","moff1","tab3","toff1","dsk3","doff1","bold","medium","txt-bold"],["id","pwd","type","password","formControlName","pwd",1,"mob6","moff1","tab6","toff1","dsk6","doff1","bold","big","bradius1","bdsmall","bdcolor2","font4","mbotxsmall",3,"keydown"],["type","submit",1,"primary","txt-center","txt-bold","mtopmedium","mbotsmall","bggold","bgcover","shadow2","font4","color2","bdcolor2","bdsmall","bradius1","xbig"],[1,"row","all12","mnone","pnone"],["class","pxsmall all12 xbig txt-center",4,"ngIf"],["class","pxsmall all12 mbotmedium xbig txt-center",4,"ngIf"],[1,"pxsmall","all12","xbig","txt-center"],[1,"pxsmall","all12","mbotmedium","xbig","txt-center"],[1,"row","all10","aoff1","mtopsmall","mbotsmall","pxsmall","bgcolor4","bdmedium","bdcolor2","inner2"],["class","pxsmall all12 xbig txt-center color2 shadow2",4,"ngIf"],["class","pxsmall all12 medium txt-center color2 shadow2",4,"ngIf"],[1,"pxsmall","all12","xbig","txt-center","color2","shadow2"],[1,"pxsmall","all12","medium","txt-center","color2","shadow2"],[1,"link",3,"routerLink"]],template:function(i,s){i&1&&(w(0,"div",0),Y(1,"img",1),x(),w(2,"div",2)(3,"div",3),Y(4,"app-stylized-title",4),X(5,Y8,17,1,"form",5)(6,Z8,3,2,"div",6)(7,n6,5,4,"div",7),x()()),i&2&&(I(4),M("title",s.title),I(1),M("ngIf",!s.subbed),I(1),M("ngIf",s.submitted&&s.subbed),I(1),M("ngIf",s.submitted&&!s.subbed))},dependencies:[sn,Oe,Kn,Xn,pn,Qn,Zn,Ln,kn,tr,Xr],styles:['[_nghost-%COMP%]{width:100%;background-image:url("./media/intro_without_title-VVBXFKNI.jpeg");background-repeat:no-repeat;background-size:cover;background-position:center;background-attachment:fixed}']});let t=e;return t})();function r6(t,e){if(t&1){let n=me();w(0,"div",7)(1,"form",8),$("submit",function(){z(n);let i=R();return G(i.confirmHandler())}),w(2,"label",9),P(3,"Token:"),x(),Y(4,"input",10)(5,"br")(6,"div",11),w(7,"button",12),P(8,"Confirmer"),x()()()}if(t&2){let n=R();I(1),M("formGroup",n.confirmForm)}}function i6(t,e){t&1&&(w(0,"p",16),P(1,"F\xE9licitations vous avez confirm\xE9 votre inscription ! "),x())}function s6(t,e){t&1&&(w(0,"p",16),P(1,"Oops, apparemment il y a eu une erreur dans votre confirmation !"),x())}var o6=()=>["/login"];function a6(t,e){if(t&1&&(w(0,"div",13),X(1,i6,2,0,"p",14)(2,s6,2,0,"p",14),w(3,"button",15),P(4,"Se connecter"),x()()),t&2){let n=R();I(1),M("ngIf",n.confirmed),I(1),M("ngIf",!n.confirmed),I(1),M("routerLink",_r(3,o6))}}var LA=(()=>{let e=class e{constructor(r){this._paradoxService=r,this.confirmForm=new hn({token:new vt("")}),this.title="Confirmer son inscription",this.route=N(vr),this.confirmed=!1,this.submitted=!1}confirmHandler(){return F(this,null,function*(){this.submitted=!0,this.confirmed=yield this._paradoxService.confirm(this.confirmForm.value.token??"")})}};e.\u0275fac=function(i){return new(i||e)(L(Wt))},e.\u0275cmp=ge({type:e,selectors:[["app-confirm"]],standalone:!0,features:[_e],decls:7,vars:3,consts:[[1,"all12","mnone","pnone","center","row"],["src","./assets/sprites/bg/game_title.png",1,"mob8","tab6","dsk2"],[1,"row","mob12","tab10","toff1","dsk4","doff4","center","bgcolor2","bradius2","inner2","bdcolor1","font4","color2","pxsmall","vmiddle"],[1,"bgcolor3","bradius2","inner2","bdcolor1","mob12","tab12","dsk12","center","row","shadow2"],[1,"all12","row","mnone","pnone","upper",3,"title"],["class","row mob12 tab12 dsk12 pnone",4,"ngIf"],["class","row mob12 tab12 dsk12 pnone center",4,"ngIf"],[1,"row","mob12","tab12","dsk12","pnone"],[1,"row","mob12","tab12","dsk12","pnone","center",3,"formGroup","submit"],["for","token","for","token",1,"mob3","tab3","dsk2","bold","medium","txt-bold","txt-center"],["id","token","type","text","formControlName","token",1,"mob6","tab6","dsk6","bold","big","bradius1","bdsmall","bdcolor2","font4","mbotxsmall"],[1,"break","all12"],["type","submit",1,"primary","txt-center","txt-bold","mtopmedium","mbotsmall","bggold","bgcover","shadow2","font4","color2","bdcolor2","bdsmall","bradius1","xbig"],[1,"row","mob12","tab12","dsk12","pnone","center"],["class","mbotmedium pxsmall xbig all12 txt-center",4,"ngIf"],["type","submit",1,"primary","txt-center","txt-bold","mtopmedium","mbotsmall","bggold","bgcover","shadow2","font4","color2","bdcolor2","bdsmall","bradius1","xbig",3,"routerLink"],[1,"mbotmedium","pxsmall","xbig","all12","txt-center"]],template:function(i,s){i&1&&(w(0,"div",0),Y(1,"img",1),x(),w(2,"div",2)(3,"div",3),Y(4,"app-stylized-title",4),X(5,r6,9,1,"div",5)(6,a6,5,4,"div",6),x()()),i&2&&(I(4),M("title",s.title),I(1),M("ngIf",!s.submitted),I(1),M("ngIf",s.submitted))},dependencies:[Oe,sn,tr,Xr,Kn,Xn,pn,Qn,Zn,Ln,kn],styles:['[_nghost-%COMP%]{width:100%;background-image:url("./media/intro_without_title-VVBXFKNI.jpeg");background-repeat:no-repeat;background-size:cover;background-position:center;background-attachment:fixed}']});let t=e;return t})();var l6=()=>["/subscribe"],c6=()=>["/forgot"];function u6(t,e){if(t&1){let n=me();w(0,"div",8)(1,"form",9),$("submit",function(){z(n);let i=R();return G(i.loginHandler())}),w(2,"label",10),P(3,"Email:"),x(),Y(4,"input",11)(5,"br"),w(6,"label",12),P(7,"Password:"),x(),Y(8,"input",13)(9,"br"),w(10,"button",14),P(11,"Connexion"),x(),w(12,"p",15)(13,"a",16),P(14,"Cr\xE9er un compte"),x()(),w(15,"p",15)(16,"a",16),P(17,"J'ai oubli\xE9 mon mot de passe"),x()()()()}if(t&2){let n=R();I(1),M("formGroup",n.loginForm),I(12),M("routerLink",_r(3,l6)),I(3),M("routerLink",_r(4,c6))}}function d6(t,e){t&1&&(w(0,"div")(1,"h2",17),P(2,"Vous \xEAtes connect\xE9(e) !"),x()())}function f6(t,e){t&1&&(w(0,"div",18)(1,"p",19),P(2,"Le serveur ne r\xE9pond pas."),x()())}var kA=(()=>{let e=class e{constructor(r,i,s){this._paradoxService=r,this._router=i,this._gameService=s,this.loginForm=new hn({email:new vt(""),pwd:new vt("")}),this.logged=!1,this.player=null,this.title="Se connecter",this.serverUp="waiting"}loginHandler(){return F(this,null,function*(){let r=yield this._paradoxService.isServerUp();this.serverUp=r?"yes":"no",yield this._paradoxService.login(this.loginForm.value.email??"",this.loginForm.value.pwd??""),yield this._gameService.refreshGameInfo(),this.logged=this._gameService.isConnected(),this.logged&&this._router.navigate(["/"],{})})}};e.\u0275fac=function(i){return new(i||e)(L(Wt),L(Fn),L(To))},e.\u0275cmp=ge({type:e,selectors:[["app-login"]],standalone:!0,features:[_e],decls:8,vars:4,consts:[[1,"all12","mnone","pnone","center","row"],["src","./assets/sprites/bg/game_title.png",1,"mob8","tab6","dsk2"],[1,"row","mob12","tab10","toff1","dsk4","doff4","center","bgcolor2","bradius2","inner2","bdcolor1","font4","color2","pxsmall","vmiddle"],[1,"bgcolor3","bradius2","inner2","bdcolor1","mob12","tab12","dsk12","center","row","shadow2"],[1,"all12","row","mnone","pnone","upper",3,"title"],["class","row mob12 tab12 dsk12 pnone",4,"ngIf"],[4,"ngIf"],["class","row all10 aoff1 mtopsmall mbotsmall pxsmall bgcolor4 bdmedium bdcolor2 inner2",4,"ngIf"],[1,"row","mob12","tab12","dsk12","pnone"],[1,"row","mob12","tab12","dsk12","pnone","center",3,"formGroup","submit"],["for","nickname","for","email",1,"mob3","moff1","tab3","toff1","dsk3","doff1","bold","medium","txt-bold"],["id","email","type","text","formControlName","email",1,"mob6","moff1","tab6","toff1","dsk6","doff1","bold","big","bradius1","bdsmall","bdcolor2","font4","mbotxsmall"],["for","pwd",1,"mob3","moff1","tab3","toff1","dsk3","doff1","bold","medium","txt-bold"],["id","pwd","type","password","formControlName","pwd",1,"mob6","moff1","tab6","toff1","dsk6","doff1","bold","big","bradius1","bdsmall","bdcolor2","font4","mbotxsmall"],["type","submit",1,"primary","txt-center","txt-bold","mtopmedium","mbotsmall","bggold","bgcover","shadow2","font4","color2","bdcolor2","bdsmall","bradius1","xbig"],[1,"all12","row","right","pxsmall","mnone"],[1,"link",3,"routerLink"],[1,"mbotmedium"],[1,"row","all10","aoff1","mtopsmall","mbotsmall","pxsmall","bgcolor4","bdmedium","bdcolor2","inner2"],[1,"pxsmall","all12","xbig","txt-center","color2","shadow2"]],template:function(i,s){i&1&&(w(0,"div",0),Y(1,"img",1),x(),w(2,"div",2)(3,"div",3),Y(4,"app-stylized-title",4),X(5,u6,18,5,"div",5)(6,d6,3,0,"div",6)(7,f6,3,0,"div",7),x()()),i&2&&(I(4),M("title",s.title),I(1),M("ngIf",!s.logged),I(1),M("ngIf",s.logged),I(1),M("ngIf",s.serverUp=="no"))},dependencies:[Kn,Xn,pn,Qn,Zn,Ln,kn,sn,Oe,tr,Xr],styles:['[_nghost-%COMP%]{width:100%;background-image:url("./media/intro_without_title-VVBXFKNI.jpeg");background-repeat:no-repeat;background-size:cover;background-position:center;background-attachment:fixed}']});let t=e;return t})();var VA=(t,e)=>F(void 0,null,function*(){let n=(()=>N(To))(),r=(()=>N(Fn))();return new Promise(i=>{let s=n.getGameInfos().subscribe(()=>F(void 0,null,function*(){let o=yield n.isConnected();s.unsubscribe(),o||r.navigate(["/login"]),i(o)}))})});function h6(t,e){if(t&1){let n=me();w(0,"div",7)(1,"form",8),$("submit",function(){z(n);let i=R();return G(i.resetHandler())}),w(2,"p",9),P(3,"Envoyer une demande de r\xE9initialisation de mot de passe:"),x(),w(4,"label",10),P(5,"Email:"),x(),Y(6,"input",11)(7,"br")(8,"div",12),w(9,"button",13),P(10,"Confirmer"),x()()()}if(t&2){let n=R();I(1),M("formGroup",n.forgotForm)}}function p6(t,e){t&1&&(w(0,"div")(1,"p",14),P(2,"Votre demande de r\xE9initialisation a abouti. "),x(),w(3,"p",14),P(4,"Vous allez recevoir un email !"),x()())}var jA=(()=>{let e=class e{constructor(r,i){this._paradoxService=r,this._router=i,this.forgotForm=new hn({email:new vt("")}),this.asked=!1,this.player=null,this.title="Mot de passe oubli\xE9 ?"}resetHandler(){return F(this,null,function*(){this.asked=yield this._paradoxService.resetPwd(this.forgotForm.value.email??"")})}};e.\u0275fac=function(i){return new(i||e)(L(Wt),L(Fn))},e.\u0275cmp=ge({type:e,selectors:[["app-forgot"]],standalone:!0,features:[_e],decls:7,vars:3,consts:[[1,"all12","mnone","pnone","center","row"],["src","./assets/sprites/bg/game_title.png",1,"mob8","tab6","dsk2"],[1,"row","mob12","tab10","toff1","dsk4","doff4","center","bgcolor2","bradius2","inner2","bdcolor1","font4","color2","pxsmall","vmiddle"],[1,"bgcolor3","bradius2","inner2","bdcolor1","mob12","tab12","dsk12","center","row","shadow2"],[1,"all12","row","mnone","pnone","upper",3,"title"],["class","row mob12 tab12 dsk12 pnone",4,"ngIf"],[4,"ngIf"],[1,"row","mob12","tab12","dsk12","pnone"],[1,"row","mob12","tab12","dsk12","pnone","center",3,"formGroup","submit"],[1,"all12","txt-center","mbotmedium","xbig"],["for","nickname","for","email",1,"mob3","moff1","tab3","toff1","dsk2","doff1","bold","medium","txt-bold","txt-center"],["id","email","type","text","formControlName","email",1,"mob6","moff1","tab6","toff1","dsk6","doff1","bold","big","bradius1","bdsmall","bdcolor2","font4","mbotxsmall"],[1,"break","all12"],["type","submit",1,"primary","txt-center","txt-bold","mtopmedium","mbotsmall","bggold","bgcover","shadow2","font4","color2","bdcolor2","bdsmall","bradius1","xbig"],[1,"mbotmedium","txt-center","all12","font4","color2","shadow2"]],template:function(i,s){i&1&&(w(0,"div",0),Y(1,"img",1),x(),w(2,"div",2)(3,"div",3),Y(4,"app-stylized-title",4),X(5,h6,11,1,"div",5)(6,p6,5,0,"div",6),x()()),i&2&&(I(4),M("title",s.title),I(1),M("ngIf",!s.asked),I(1),M("ngIf",s.asked))},dependencies:[Kn,Xn,pn,Qn,Zn,Ln,kn,sn,Oe,tr],styles:['[_nghost-%COMP%]{width:100%;background-image:url("./media/intro_without_title-VVBXFKNI.jpeg");background-repeat:no-repeat;background-size:cover;background-position:center;background-attachment:fixed}']});let t=e;return t})();function m6(t,e){if(t&1){let n=me();w(0,"div",7)(1,"form",8),$("submit",function(){z(n);let i=R();return G(i.resetHandler())}),w(2,"p",9),P(3,"R\xE9initialiser son mot de passe:"),x(),w(4,"label",10),P(5,"Token:"),x(),Y(6,"input",11)(7,"br"),w(8,"label",12),P(9,"Email:"),x(),Y(10,"input",13)(11,"br"),w(12,"label",14),P(13,"Nouveau mot de passe:"),x(),Y(14,"input",15)(15,"br")(16,"div",16),w(17,"button",17),P(18,"Confirmer"),x()()()}if(t&2){let n=R();I(1),M("formGroup",n.resetForm),I(5),Ce("value",n.token)}}var g6=()=>["/login"];function _6(t,e){t&1&&(w(0,"div")(1,"p",18),P(2,"Votre mot de passe a \xE9t\xE9 r\xE9initialis\xE9."),x(),w(3,"p",18),P(4,"Vous pouvez maintenant vous "),w(5,"a",19),P(6,"identifier"),x()()()),t&2&&(I(5),M("routerLink",_r(1,g6)))}var BA=(()=>{let e=class e{constructor(r){this._paradoxService=r,this.resetForm=new hn({email:new vt(""),token:new vt(""),pwd:new vt("")}),this.reset=!1,this.title="R\xE9initialiser ton mot de passe",this.token=""}ngOnInit(){}resetHandler(){return F(this,null,function*(){this.reset=yield this._paradoxService.confirmResetPwd(this.resetForm.value.email??"",this.resetForm.value.pwd??"",this.resetForm.value.token??"")})}};e.\u0275fac=function(i){return new(i||e)(L(Wt))},e.\u0275cmp=ge({type:e,selectors:[["app-reset"]],standalone:!0,features:[_e],decls:7,vars:3,consts:[[1,"all12","mnone","pnone","center","row"],["src","./assets/bg/game_title.png",1,"mob8","tab6","dsk2"],[1,"row","mob12","tab10","toff1","dsk4","doff4","center","bgcolor2","bradius2","inner2","bdcolor1","font4","color2","pxsmall","vmiddle"],[1,"bgcolor3","bradius2","inner2","bdcolor1","mob12","tab12","dsk12","center","row","shadow2"],[1,"all12","row","mnone","pnone","upper",3,"title"],["class","row mob12 tab12 dsk12 pnone",4,"ngIf"],[4,"ngIf"],[1,"row","mob12","tab12","dsk12","pnone"],[1,"row","mob12","tab12","dsk12","pnone","center",3,"formGroup","submit"],[1,"all12","txt-center","mbotmedium","xbig"],["for","nickname","for","token",1,"mob3","moff1","tab3","toff1","dsk2","doff1","bold","medium","txt-bold","txt-center"],["id","token","type","text","formControlName","token",1,"mob6","moff1","tab6","toff1","dsk6","doff1","bold","big","bradius1","bdsmall","bdcolor2","font4","mbotxsmall",3,"value"],["for","nickname","for","email",1,"mob3","moff1","tab3","toff1","dsk2","doff1","bold","medium","txt-bold","txt-center"],["id","email","type","text","formControlName","email",1,"mob6","moff1","tab6","toff1","dsk6","doff1","bold","big","bradius1","bdsmall","bdcolor2","font4","mbotxsmall"],["for","nickname","for","pwd",1,"mob3","moff1","tab3","toff1","dsk2","doff1","bold","medium","txt-bold","txt-center"],["id","pwd","type","password","formControlName","pwd",1,"mob6","moff1","tab6","toff1","dsk6","doff1","bold","big","bradius1","bdsmall","bdcolor2","font4","mbotxsmall"],[1,"break","all12"],["type","submit",1,"primary","txt-center","txt-bold","mtopmedium","mbotsmall","bggold","bgcover","shadow2","font4","color2","bdcolor2","bdsmall","bradius1","xbig"],[1,"mbotmedium","txt-center","all12","font4","color2","shadow2"],[1,"link",3,"routerLink"]],template:function(i,s){i&1&&(w(0,"div",0),Y(1,"img",1),x(),w(2,"div",2)(3,"div",3),Y(4,"app-stylized-title",4),X(5,m6,19,2,"div",5)(6,_6,7,2,"div",6),x()()),i&2&&(I(4),M("title",s.title),I(1),M("ngIf",!s.reset),I(1),M("ngIf",s.reset))},dependencies:[Kn,Xn,pn,Qn,Zn,Ln,kn,sn,Oe,tr,Xr],styles:['[_nghost-%COMP%]{width:100%;background-image:url("./media/intro_without_title-VVBXFKNI.jpeg");background-repeat:no-repeat;background-size:cover;background-position:center;background-attachment:fixed}']});let t=e;return t})();var v6=[{path:"",component:PA,title:"Home page",canActivate:[VA]},{path:"subscribe",component:FA,title:"Subscribe"},{path:"confirm",component:LA,title:"Confirm"},{path:"login",component:kA,title:"Login"},{path:"forgot",component:jA,title:"Forgotten Password"},{path:"resetpwd",component:BA,title:"Reinit password"}],UA=v6;var y6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=en({type:e}),e.\u0275inj=Jt({providers:[{provide:bp,useValue:Je.baseHref}]});let t=e;return t})(),HA={providers:[lx(),zx(UA),cx(),yc(KD),yc(y6)]};var $A=(()=>{let e=class e{constructor(){this.title="paradox-client"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ge({type:e,selectors:[["app-root"]],standalone:!0,features:[_e],decls:2,vars:0,consts:[[1,"main","row","all12","mnone","pnone","allh12","center"]],template:function(i,s){i&1&&(w(0,"main",0),Y(1,"router-outlet"),x())},dependencies:[sn,Em]});let t=e;return t})();ax($A,HA).catch(t=>console.error(t));
